webpackJsonp([2],Array(594).concat([function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t,n){var r=0;return e!==t&&(null===e?r=1:null===t?r=-1:"number"==typeof e?r=e<t?n?-1:1:n?1:-1:"string"==typeof e&&(r=(n?1:-1)*e.localeCompare(t))),r}function c(e,t,n){for(var r=0,o=Math.min(e.length,t.length),a=0;a<o&&(r=l(e[a],t[a],n),0===r);a++);return 0===r&&(e.length<t.length?r=n?-1:1:e.length>t.length&&(r=n?1:-1)),r}function u(e,t){for(var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[],o=0;o<e.length;o++){var a=e[o];r.push({data:a,initialPosition:o,sortBy:[].concat(t(a))})}var i=void 0,s=void 0,l=void 0;return r.sort(function(e,t){return i=c(e.sortBy,t.sortBy,n),0===i&&(s=e.initialPosition,l=t.initialPosition,i=s<l?-1:1),i}),r.map(function(e){return e.data})}function p(e,t){var n=[];return e.forEach(function(e){if(e instanceof Array){if(t!=e.length)throw new Error("Not all the arrays returned from the download functions are from the same length.");n.push(e)}else{for(var r=[],o=0;o<t;o++)r=r.concat(e);n.push(r)}}),n}function f(e,t){var n={data:[],maxColLength:1};return e.forEach(function(e){if(e.download){var r=e.download(t);r instanceof Array?(n.data.push(r),r.length>n.maxColLength&&(n.maxColLength=r.length)):n.data.push(r)}else n.data.push("")}),n}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.lazyMobXTableSort=u;var y=n(595),g=o(y),v=n(343),b=r(v),w=n(406),C=n(346);n(598);var T=n(599),S=n(602),x=n(603),A=n(613),k=n(471),E=o(k),M=n(455),_=n(614),P=n(615),O=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":m(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},I=function(){function e(t){var n=this;s(this,e),this.filterString="",this.sortColumn=t.initialSortColumn||"",this.sortAscending="desc"!==t.initialSortDirection,this.setProps(t),this._page=0,this.itemsPerPage=t.initialItemsPerPage||50,(0,w.reaction)(function(){return n.displayData.length},function(){n.page=n.clampPage(n.page)})}return h(e,[{key:"clampPage",value:function(e){return e=Math.max(e,0),e=Math.min(e,this.maxPage)}},{key:"getNextSortAscending",value:function(e){if(this.sortColumn===e.name)return!this.sortAscending;var t=e.defaultSortDirection||"asc";return"asc"===t}},{key:"pageToRowIndex",value:function(e){this.page=Math.floor(e/this.itemsPerPage)}},{key:"setFilterString",value:function(e){var t=this;this.dataStore.filterString=e,this.page=0,this.dataStore.setFilter(function(e,n,r,o){var a=!1,i=!0,s=!1,l=void 0;try{for(var c,u=t.visibleColumns[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var p=c.value;if(a=p.filter&&p.filter(e,n,r,o)||!1)break}}catch(e){s=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(s)throw l}}return a})}},{key:"setProps",value:function(e){this.columns=e.columns,this._itemsLabel=e.itemsLabel,this._itemsLabelPlural=e.itemsLabelPlural,this._columnVisibility=this.resolveColumnVisibility(e.columns),this.highlightColor=e.highlightColor,e.dataStore?this.dataStore=e.dataStore:this.dataStore=new _.SimpleMobXApplicationDataStore(e.data||[]),void 0===this.dataStore.sortAscending?this.dataStore.sortAscending=this.sortAscending:this.sortAscending=this.dataStore.sortAscending,void 0===this.dataStore.sortMetric&&(this.dataStore.sortMetric=this.sortMetric)}},{key:"updateColumnVisibility",value:function(e,t){void 0!==this._columnVisibility[e]&&(this._columnVisibility[e]=t)}},{key:"isVisible",value:function(e){return this.columnVisibility[e.name]||!1}},{key:"resolveColumnVisibility",value:function(e){var t={};return e.forEach(function(e){var n=!0;void 0!==e.visible&&(n=e.visible),t[e.name]=n}),t}},{key:"itemsPerPage",get:function(){return this._itemsPerPage},set:function(e){this._itemsPerPage=e,this.page=this.page}},{key:"firstHighlightedRowIndex",get:function(){for(var e=-1,t=0;t<this.displayData.length;t++)if(this.dataStore.isHighlighted(this.displayData[t])){e=t;break}return e}},{key:"displayData",get:function(){return this.dataStore.tableData}},{key:"showingAllRows",get:function(){return this.displayData.length<=this.itemsPerPage||this.itemsPerPage===-1}},{key:"page",get:function(){return this._page},set:function(e){this._page=this.clampPage(e)}},{key:"maxPage",get:function(){return(0,P.maxPage)(this.displayData.length,this.itemsPerPage)}},{key:"filterStringUpper",get:function(){return this.filterString.toUpperCase()}},{key:"filterStringLower",get:function(){return this.filterString.toLowerCase()}},{key:"columnVisibility",get:function(){return this._columnVisibility}},{key:"downloadData",get:function(){var e=this,t=[];return t[0]=[],this.columns.forEach(function(e){t[0].push(e.name)}),this.dataStore.sortedData.forEach(function(n){var r=f(e.columns,n),o=p(r.data,r.maxColLength),a=o[0].map(function(e,t){return o.map(function(e){return e[t]})});a.forEach(function(e){t.push(e)})}),t}},{key:"sortColumnObject",get:function(){var e=this;return this.columns.find(function(t){return e.isVisible(t)&&t.name===e.sortColumn})}},{key:"visibleData",get:function(){return this.itemsPerPage===T.SHOW_ALL_PAGE_SIZE?this.displayData:this.displayData.slice(this.page*this.itemsPerPage,(this.page+1)*this.itemsPerPage)}},{key:"sortMetric",get:function(){var e=this.sortColumnObject;return e&&e.sortBy?e.sortBy:function(){return 0}}},{key:"headers",get:function(){var e=this;return this.visibleColumns.map(function(t){var n={};t.sortBy&&(n.role="button",n.onClick=function(){e.sortAscending=e.getNextSortAscending(t),e.dataStore.sortAscending=e.sortAscending,e.sortColumn=t.name,e.dataStore.sortMetric=e.sortMetric,e.page=0}),e.sortColumn===t.name&&(n.className=e.sortAscending?"multilineHeader sort-asc":"multilineHeader sort-des");var r=void 0;r=t.headerRender?t.headerRender(t.name):b.createElement("span",null,t.name);var o=void 0;o=t.tooltip?b.createElement(E.default,{placement:"top",overlay:t.tooltip},r):r;var a={};return t.align&&(a.textAlign=t.align),b.createElement("th",d({className:"multilineHeader"},n,{style:a}),o)})}},{key:"visibleColumns",get:function(){var e=this;return this.columns.filter(function(t){return e.isVisible(t)})}},{key:"colVisProp",get:function(){var e=this,t=[];return this.columns.forEach(function(n){t.push({id:n.name,name:n.name,visible:e.columnVisibility[n.name],togglable:!n.hasOwnProperty("togglable")||n.togglable})}),t}},{key:"paginationStatusText",get:function(){var e=void 0,t=void 0;0===this.rows.length?(e=0,t=0):(e=this.itemsPerPage===T.SHOW_ALL_PAGE_SIZE?1:this.page*this.itemsPerPage+1,t=this.itemsPerPage===T.SHOW_ALL_PAGE_SIZE?this.rows.length:e+this.rows.length-1);var n=this.itemsLabel;return n.length&&(n=" "+n),"Showing "+e+"-"+t+" of "+this.displayData.length+n}},{key:"tds",get:function(){var e=this;return this.visibleData.map(function(t){var n=e.visibleColumns.map(function(e){return b.createElement("td",{key:e.name},e.render(t))});return n})}},{key:"highlightClassName",get:function(){return"yellow"===this.highlightColor?"highlight":"bluegray"===this.highlightColor?"highlight-bluegray":void 0}},{key:"rows",get:function(){for(var e=[],t=0;t<this.visibleData.length;t++){var n={};this.dataStore.isHighlighted(this.visibleData[t])&&(n.className=this.highlightClassName),e.push(b.createElement("tr",d({key:t},n),this.tds[t]))}return e}},{key:"itemsLabel",get:function(){return this._itemsLabel?this._itemsLabelPlural&&1!==this.displayData.length?this._itemsLabelPlural:this._itemsLabel:""}}]),e}();O([w.observable],I.prototype,"filterString",void 0),O([w.observable],I.prototype,"_page",void 0),O([w.observable],I.prototype,"_itemsPerPage",void 0),O([w.observable],I.prototype,"_itemsLabel",void 0),O([w.observable],I.prototype,"_itemsLabelPlural",void 0),O([w.observable],I.prototype,"sortColumn",void 0),O([w.observable],I.prototype,"sortAscending",void 0),O([w.observable.ref],I.prototype,"columns",void 0),O([w.observable],I.prototype,"_columnVisibility",void 0),O([w.observable],I.prototype,"dataStore",void 0),O([w.observable],I.prototype,"highlightColor",void 0),O([w.computed],I.prototype,"itemsPerPage",null),O([w.computed],I.prototype,"firstHighlightedRowIndex",null),O([w.computed],I.prototype,"displayData",null),O([w.computed],I.prototype,"showingAllRows",null),O([w.computed],I.prototype,"page",null),O([w.computed],I.prototype,"maxPage",null),O([w.computed],I.prototype,"filterStringUpper",null),O([w.computed],I.prototype,"filterStringLower",null),O([w.computed],I.prototype,"columnVisibility",null),O([w.computed],I.prototype,"downloadData",null),O([w.computed],I.prototype,"sortColumnObject",null),O([w.computed],I.prototype,"visibleData",null),O([w.computed],I.prototype,"sortMetric",null),O([w.computed],I.prototype,"headers",null),O([w.computed],I.prototype,"visibleColumns",null),O([w.computed],I.prototype,"colVisProp",null),O([w.computed],I.prototype,"paginationStatusText",null),O([w.computed],I.prototype,"tds",null),O([w.computed],I.prototype,"highlightClassName",null),O([w.computed],I.prototype,"rows",null),O([w.action],I.prototype,"pageToRowIndex",null),O([w.action],I.prototype,"setFilterString",null),O([w.computed],I.prototype,"itemsLabel",null),O([w.action],I.prototype,"setProps",null),O([w.action],I.prototype,"updateColumnVisibility",null);var R=function(e){function t(e){s(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=new I(e),n.handlers={onFilterTextChange:function(){var e=null;return function(t){null!==e&&(window.clearTimeout(e),e=null);var r=t.currentTarget.value;e=window.setTimeout(function(){n.store.setFilterString(r)},400)}}(),visibilityToggle:function(e){void 0!==n.store.columnVisibility[e]&&n.store.updateColumnVisibility(e,!n.store.columnVisibility[e])},changeItemsPerPage:function(e){n.store.itemsPerPage=e},incPage:function(){n.store.page+=1},decPage:function(){n.store.page-=1},filterInputRef:function(e){n.filterInput=e}},n.getDownloadData=n.getDownloadData.bind(n),n.getTopToolbar=n.getTopToolbar.bind(n),n.getBottomToolbar=n.getBottomToolbar.bind(n),n.getTable=n.getTable.bind(n),n.getPaginationControls=n.getPaginationControls.bind(n),n.filterInputReaction=(0,w.reaction)(function(){return n.store.dataStore.filterString},function(e){n.filterInput&&(n.filterInput.value=e)}),n.pageToHighlightReaction=(0,w.reaction)(function(){return n.store.firstHighlightedRowIndex},function(e){n.props.pageToHighlight&&n.store.pageToRowIndex(n.store.firstHighlightedRowIndex)}),n}return i(t,e),h(t,[{key:"getDownloadData",value:function(){return(0,A.serializeData)(this.store.downloadData)}},{key:"componentWillUnmount",value:function(){this.filterInputReaction(),this.pageToHighlightReaction()}},{key:"componentWillReceiveProps",value:function(e){this.store.setProps(e)}},{key:"getPaginationControls",value:function(){var e={className:"text-center topPagination",itemsPerPage:this.store.itemsPerPage,totalItems:this.store.displayData.length,currentPage:this.store.page,onChangeItemsPerPage:this.handlers.changeItemsPerPage,showItemsPerPageSelector:!1,onPreviousPageClick:this.handlers.decPage,onNextPageClick:this.handlers.incPage,previousPageDisabled:0===this.store.page,nextPageDisabled:this.store.page===this.store.maxPage,textBeforeButtons:this.store.paginationStatusText,groupButtons:!1,bsStyle:"primary"};return this.props.paginationProps&&(this.props.paginationProps.showMoreButton===!1&&(delete e.textBeforeButtons,e.textBetweenButtons=this.store.paginationStatusText),e=Object.assign(e,this.props.paginationProps)),b.createElement(T.PaginationControls,e)}},{key:"getTopToolbar",value:function(){return b.createElement("div",null,this.props.showCountHeader&&this.countHeader,b.createElement(M.ButtonToolbar,{style:{marginLeft:0},className:"tableMainToolbar"},this.props.showFilter?b.createElement("div",{className:"pull-right form-group has-feedback input-group-sm tableFilter",style:{display:"inline-block",marginLeft:5}},b.createElement("input",{ref:this.handlers.filterInputRef,type:"text",onInput:this.handlers.onFilterTextChange,className:"form-control tableSearchInput",style:{width:200}}),b.createElement("span",{className:"fa fa-search form-control-feedback","aria-hidden":"true"})):"",this.props.showColumnVisibility?b.createElement(S.ColumnVisibilityControls,d({className:"pull-right",columnVisibility:this.store.colVisProp,onColumnToggled:this.handlers.visibilityToggle},this.props.columnVisibilityProps)):"",this.props.showCopyDownload?b.createElement(x.CopyDownloadControls,d({className:"pull-right",downloadData:this.getDownloadData,downloadFilename:"table.tsv"},this.props.copyDownloadProps)):"",this.props.showPagination&&this.props.showPaginationAtTop?b.createElement(C.Observer,null,this.getPaginationControls):null))}},{key:"getBottomToolbar",value:function(){return b.createElement(M.ButtonToolbar,{style:{marginLeft:0,float:"none"},className:"tableMainToolbar center"},this.props.showPagination&&b.createElement(C.Observer,null,this.getPaginationControls))}},{key:"getTable",value:function(){return b.createElement(g.default,{headers:this.store.headers,rows:this.store.rows,className:this.props.className})}},{key:"render",value:function(){return b.createElement("div",null,b.createElement(C.Observer,null,this.getTopToolbar),b.createElement(C.Observer,null,this.getTable),!this.props.showPaginationAtTop&&b.createElement(C.Observer,null,this.getBottomToolbar))}},{key:"countHeader",get:function(){return b.createElement("span",{style:{float:"left",color:"black",fontSize:"16px",fontWeight:"bold"}},this.store.displayData.length," ",this.store.itemsLabel," (page ",this.store.page+1," of ",this.store.maxPage+1,")")}}]),t}(b.Component);R.defaultProps={showFilter:!0,showCopyDownload:!0,showPagination:!0,showColumnVisibility:!0,highlightColor:"yellow",showPaginationAtTop:!1,showCountHeader:!1},O([w.action],R.prototype,"componentWillReceiveProps",null),R=O([C.observer],R),t.default=R},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(343),p=o(u);n(596);var f=n(597),d=r(f),h=n(346),m=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},y=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.headers,n=e.rows,r=e.className,o=e.noRowsText,a=n.length>0?n:[p.createElement("tr",{key:"0"},p.createElement("td",{style:{textAlign:"center"},colSpan:t.length},o||"There are no results."))];return p.createElement("table",{className:(0,d.default)("table table-striped table-border-top",r)},p.createElement("thead",null,p.createElement("tr",null,t)),p.createElement("tbody",null,a))}}]),t}(p.Component);y=m([h.observer],y),t.default=y},453,,453,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyDownloadControls=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(343),u=o(c),p=n(455),f=n(471),d=r(f),h=n(464),m=n(604),y=r(m),g=n(605),v=t.CopyDownloadControls=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.getText=e.getText.bind(e),e.handleDownload=e.handleDownload.bind(e),e}return s(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.showCopy&&this._copyButton&&this.bindCopyButton()}},{key:"bindCopyButton",value:function(){new g(this._copyButton,{text:function(){return this.getText()}.bind(this)})}},{key:"render",value:function(){var e=this,t=u.createElement("div",{className:"rc-tooltip-arrow-inner"});return u.createElement(p.ButtonGroup,{className:this.props.className,style:{marginLeft:10}},u.createElement(h.If,{condition:this.props.showCopy},u.createElement(d.default,{overlay:u.createElement("span",null,"Copy"),placement:"top",mouseLeaveDelay:0,mouseEnterDelay:.5,arrowContent:t},u.createElement("button",{ref:function(t){e._copyButton=t},className:"btn btn-sm btn-default","data-clipboard-text":"NA",id:"copyButton","option-text":this.getText},u.createElement("i",{className:"fa fa-clipboard"})))),u.createElement(h.If,{condition:this.props.showDownload},u.createElement(d.default,{overlay:u.createElement("span",null,"Download CSV"),mouseLeaveDelay:0,mouseEnterDelay:.5,placement:"top",arrowContent:t},u.createElement(p.Button,{className:"btn-sm",onClick:this.handleDownload},u.createElement("i",{className:"fa fa-cloud-download"})))))}},{key:"getText",value:function(){return this.props.downloadData&&this.props.downloadData()||""}},{key:"handleDownload",value:function(){(0,y.default)(this.getText(),this.props.downloadFilename)}}]),t}(u.Component);v.defaultProps={className:"",showCopy:!0,showDownload:!0,downloadFilename:"data.tsv"}},,,,,,,,,,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\t",r=[];return t&&(Object.keys(e[0]).forEach(function(e){return r.push(e,n)}),r.pop(),r.push("\r\n")),e.forEach(function(e){i.each(e,function(e){r.push(e,n)}),r.pop(),r.push("\r\n")}),r.join("")}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeData=o;var a=n(408),i=r(a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleMobXApplicationDataStore=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(406),s=n(594),l=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},c=t.SimpleMobXApplicationDataStore=function(){function e(t){r(this,e),this.data=t,this.filterString="",this.dataHighlighter=function(){return!1},this.dataSelector=function(){return!1},this.dataFilter=function(){return!0}}return o(e,[{key:"setFilter",value:function(e){this.dataFilter=e}},{key:"resetFilter",value:function(){this.dataFilter=function(){return!0},this.filterString=""}},{key:"isHighlighted",value:function(e){return this.dataHighlighter(e)}},{key:"allData",get:function(){return this.data}},{key:"sortedData",get:function(){var e=this.sortMetric||function(){return 0},t=void 0===this.sortAscending||this.sortAscending;return(0,s.lazyMobXTableSort)(this.allData,e,t)}},{key:"sortedFilteredData",get:function(){var e=this,t=this.filterString.toUpperCase(),n=this.filterString.toLowerCase();return this.sortedData.filter(function(r){return e.dataFilter(r,e.filterString,t,n)})}},{key:"sortedFilteredSelectedData",get:function(){return this.sortedFilteredData.filter(this.dataSelector)}},{key:"tableData",get:function(){return this.sortedFilteredSelectedData.length?this.sortedFilteredSelectedData:this.sortedFilteredData}},{key:"showingAllData",get:function(){return this.tableData.length===this.allData.length}}]),e}();l([i.observable.ref],c.prototype,"data",void 0),l([i.observable],c.prototype,"dataFilter",void 0),l([i.observable],c.prototype,"dataSelector",void 0),l([i.observable],c.prototype,"dataHighlighter",void 0),l([i.observable],c.prototype,"filterString",void 0),l([i.observable],c.prototype,"sortMetric",void 0),l([i.observable],c.prototype,"sortAscending",void 0),l([i.computed],c.prototype,"allData",null),l([i.computed],c.prototype,"sortedData",null),l([i.computed],c.prototype,"sortedFilteredData",null),l([i.computed],c.prototype,"sortedFilteredSelectedData",null),l([i.computed],c.prototype,"tableData",null),l([i.computed],c.prototype,"showingAllData",null),l([i.action],c.prototype,"setFilter",null),l([i.action],c.prototype,"resetFilter",null)},function(e,t,n){"use strict";function r(e,t){return t===o.SHOW_ALL_PAGE_SIZE?0:Math.floor(Math.max(e-1,0)/t)}Object.defineProperty(t,"__esModule",{value:!0}),t.maxPage=r;var o=n(599)},,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return e.hasOwnProperty("meta")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=n(628),u=r(c),p=n(629),f=r(p),d=n(406),h=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},m=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},y=function(){function e(t,n,r){var o=this;a(this,e),this.queryToKey=t,this.dataToKey=n,this.fetch=r,this.init();for(var i=arguments.length,s=Array(i>3?i-3:0),l=3;l<i;l++)s[l-3]=arguments[l];this.staticDependencies=s,this.debouncedPopulate=(0,f.default)(function(e){var t=Object.keys(e).map(function(t){return e[t]});o.populate(t)},function(e,t){return e[o.queryToKey(t)]=t,e},function(){return{}},0)}return s(e,[{key:"init",value:function(){this.pending={},this._cache=u.default.from({})}},{key:"peek",value:function(e){var t=this.queryToKey(e),n=this._cache[t];return n||null}},{key:"get",value:function(e){return this.debouncedPopulate(e),this.peek(e)}},{key:"addData",value:function(e){var t={},n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;t[this.dataToKey(s)]={status:"complete",data:s}}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}this.updateCache(t)}},{key:"populate",value:function(e){return m(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.getMissing(e),0!==n.length){t.next=3;break}return t.abrupt("return");case 3:return this.markPending(n),t.prev=4,t.next=7,this.fetch.apply(this,[n].concat(o(this.staticDependencies)));case 7:return r=t.sent,this.putData(n,r),t.abrupt("return",!0);case 12:return t.prev=12,t.t0=t.catch(4),this.markError(n),t.abrupt("return",!1);case 16:return t.prev=16,this.unmarkPending(n),t.finish(16);case 19:case"end":return t.stop()}},t,this,[[4,12,16,19]])}))}},{key:"getMissing",value:function(e){var t=this,n=this._cache,r=this.pending;return e.filter(function(e){var o=t.queryToKey(e);return!n[o]&&!r[o]})}},{key:"markPending",value:function(e){var t=this.pending,n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;t[this.queryToKey(s)]=!0}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}}},{key:"unmarkPending",value:function(e){var t=this.pending,n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;t[this.queryToKey(s)]=!1}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}}},{key:"markError",value:function(e){var t={},n={status:"error",data:null},r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var l=i.value;t[this.queryToKey(l)]=n}}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}this.updateCache(t)}},{key:"putData",value:function(e,t){var n={},r={},o=!0,a=!1,s=void 0;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;if(i(u)){var p=u.meta,f=!0,d=!1,h=void 0;try{for(var m,y=u.data[Symbol.iterator]();!(f=(m=y.next()).done);f=!0){var g=m.value,v=this.dataToKey(g,p);n[v]={status:"complete",data:g,meta:p},r[v]=!0}}catch(e){d=!0,h=e}finally{try{!f&&y.return&&y.return()}finally{if(d)throw h}}}else{var b=this.dataToKey(u);n[b]={status:"complete",data:u},r[b]=!0}}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}var w=!0,C=!1,T=void 0;try{for(var S,x=e[Symbol.iterator]();!(w=(S=x.next()).done);w=!0){var A=S.value,k=this.queryToKey(A);r[k]||(n[k]={status:"complete",data:null})}}catch(e){C=!0,T=e}finally{try{!w&&x.return&&x.return()}finally{if(C)throw T}}this.updateCache(n)}},{key:"updateCache",value:function(e){Object.keys(e).length>0&&(this._cache=this._cache.merge(e,{deep:!0}))}},{key:"cache",get:function(){return this._cache}}]),e}();t.default=y,h([d.observable.ref],y.prototype,"_cache",void 0),h([d.action],y.prototype,"updateCache",null)},function(e,t,n){e.exports=n(344)(664)},function(e,t){"use strict";function n(e,t,n,r,o){function a(){c=n(),l=!1,s=null}function i(){l?(e(c),a()):(l=!0,s=window.setTimeout(i,r)),o&&o()}var s=void 0,l=void 0,c=void 0;a();var u=Object.assign(function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];c=t.apply(void 0,[c].concat(n)),null===s?(l=!0,s=window.setTimeout(i,r)):l=!1},{isPending:function(){return null!==s},cancel:function(){null!==s&&window.clearTimeout(s),a()}});return u}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){return v(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,a,i,s,l,c,u,p,f,h,m,y,v,b,w,C,T,S;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,o=d.uniq(e.map(function(e){return e.sampleId})),a=d.uniq(e.map(function(e){return e.entrezGeneId})),i=void 0,!(o.length<a.length)){r.next=28;break}for(s={},l=!0,c=!1,u=void 0,r.prev=9,p=e[Symbol.iterator]();!(l=(f=p.next()).done);l=!0)h=f.value,s[h.sampleId]=s[h.sampleId]||[],s[h.sampleId].push(h.entrezGeneId);r.next=17;break;case 13:r.prev=13,r.t0=r.catch(9),c=!0,u=r.t0;case 17:r.prev=17,r.prev=18,!l&&p.return&&p.return();case 20:if(r.prev=20,!c){r.next=23;break}throw u;case 23:return r.finish(20);case 24:return r.finish(17);case 25:i=Object.keys(s).map(function(e){return{sampleIds:[e],entrezGeneIds:s[e]}}),r.next=49;break;case 28:for(m={},y=!0,v=!1,b=void 0,r.prev=32,w=e[Symbol.iterator]();!(y=(C=w.next()).done);y=!0)T=C.value,m[T.entrezGeneId]=m[T.entrezGeneId]||[],
m[T.entrezGeneId].push(T.sampleId);r.next=40;break;case 36:r.prev=36,r.t1=r.catch(32),v=!0,b=r.t1;case 40:r.prev=40,r.prev=41,!y&&w.return&&w.return();case 43:if(r.prev=43,!v){r.next=46;break}throw b;case 46:return r.finish(43);case 47:return r.finish(40);case 48:i=Object.keys(m).map(function(e){return{sampleIds:m[e],entrezGeneIds:[parseInt(e,10)]}});case 49:return r.next=51,Promise.all(i.map(function(e){return"undefined"==typeof n?Promise.reject("No molecular profile id given."):g.default.fetchDiscreteCopyNumbersInMolecularProfileUsingPOST({projection:"DETAILED",molecularProfileId:n,discreteCopyNumberFilter:e,discreteCopyNumberEventType:"ALL"})}));case 51:return S=r.sent,r.abrupt("return",{data:d.flatten(S),meta:t});case 55:throw r.prev=55,r.t2=r.catch(0),r.t2;case 58:case"end":return r.stop()}},r,this,[[0,55],[9,13,17,25],[18,,20,24],[32,36,40,48],[41,,43,47]])}))}function c(e,t){if(t){var n=d.groupBy(e,"studyId");return Promise.all(Object.keys(n).map(function(e){var r=t[e];return r?l(n[e],e,r.molecularProfileId):Promise.resolve({data:[],meta:e})}))}throw"No study to molecular profile id map given"}function u(e,t){var n=e.studyId?e.studyId:t;return n+"~"+e.sampleId+"~"+e.entrezGeneId}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(408),d=o(f),h=n(627),m=r(h),y=n(417),g=r(y),v=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},b=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u,u,c,e));return n.studyToMolecularProfileDiscrete=e,n}return s(t,e),p(t,[{key:"isActive",get:function(){return!!(this.studyToMolecularProfileDiscrete&&Object.keys(this.studyToMolecularProfileDiscrete).length>0)}}]),t}(m.default);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(632),c=r(l),u=n(634),p=n(635),f=r(p),d=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},h=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),s(t,[{key:"fetch",value:function(e){return d(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={},t.prev=1,t.next=4,c.default.evidencesLookupPostUsingPOST({body:(0,u.generateEvidenceQuery)(e)});case 4:r=t.sent,o=(0,u.processEvidence)(r);for(a in o)o.hasOwnProperty(a)&&(n[a]={status:"complete",data:o[a]});this.putData(n),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),e.forEach(function(e){n[e.id]={status:"error"}}),this.putData(n);case 14:case"end":return t.stop()}},t,this,[[1,10]])}))}}]),t}(f.default);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(633),a=r(o),i=n(426),s=new a.default((0,i.getOncoKbApiUrl)());t.default=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(419),l=r(s),c=function(){function e(t){o(this,e),this.domain="",this.errorHandlers=[],t&&(this.domain=t)}return i(e,[{key:"getDomain",value:function(){return this.domain}},{key:"addErrorHandler",value:function(e){this.errorHandlers.push(e)}},{key:"request",value:function(e,t,n,r,o,i,s,c,u){var p=new l.Request(e,t).query(o);Object.keys(r).forEach(function(e){p.set(e,r[e])}),n&&p.send(n),"object"===("undefined"==typeof n?"undefined":a(n))&&"Buffer"!==n.constructor.name&&p.set("Content-Type","application/json"),Object.keys(i).length>0&&(p.type("form"),p.send(i)),p.end(function(e,t){e||!t.ok?(s(e),u.forEach(function(t){return t(e)})):c(t)})}},{key:"drugsGetUsingGETURL",value:function(e){var t={},n="/drugs";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"drugsGetUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/drugs",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("GET",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"drugsLookupGetUsingGETURL",value:function(e){var t={},n="/drugs/lookup";void 0!==e.name&&(t.name=e.name),void 0!==e.atcCode&&(t.atcCode=e.atcCode),void 0!==e.synonym&&(t.synonym=e.synonym),void 0!==e.exactMatch&&(t.exactMatch=e.exactMatch),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"drugsLookupGetUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/drugs/lookup",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.name&&(i.name=e.name),void 0!==e.atcCode&&(i.atcCode=e.atcCode),void 0!==e.synonym&&(i.synonym=e.synonym),void 0!==e.exactMatch&&(i.exactMatch=e.exactMatch),void 0===e.exactMatch?void u(new Error("Missing required  parameter: exactMatch")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"evidencesUUIDsGetUsingPOSTURL",value:function(e){var t={},n="/evidences";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"evidencesUUIDsGetUsingPOST",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/evidences",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.uuids&&(a=e.uuids),void 0===e.uuids?void u(new Error("Missing required  parameter: uuids")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"evidencesLookupGetUsingGETURL",value:function(e){var t={},n="/evidences/lookup";void 0!==e.entrezGeneId&&(t.entrezGeneId=e.entrezGeneId),void 0!==e.hugoSymbol&&(t.hugoSymbol=e.hugoSymbol),void 0!==e.variant&&(t.variant=e.variant),void 0!==e.tumorType&&(t.tumorType=e.tumorType),void 0!==e.consequence&&(t.consequence=e.consequence),void 0!==e.proteinStart&&(t.proteinStart=e.proteinStart),void 0!==e.proteinEnd&&(t.proteinEnd=e.proteinEnd),void 0!==e.source&&(t.source=e.source),void 0!==e.highestLevelOnly&&(t.highestLevelOnly=e.highestLevelOnly),void 0!==e.levelOfEvidence&&(t.levelOfEvidence=e.levelOfEvidence),void 0!==e.evidenceTypes&&(t.evidenceTypes=e.evidenceTypes),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"evidencesLookupGetUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/evidences/lookup",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.entrezGeneId&&(i.entrezGeneId=e.entrezGeneId),void 0!==e.hugoSymbol&&(i.hugoSymbol=e.hugoSymbol),void 0!==e.variant&&(i.variant=e.variant),void 0!==e.tumorType&&(i.tumorType=e.tumorType),void 0!==e.consequence&&(i.consequence=e.consequence),void 0!==e.proteinStart&&(i.proteinStart=e.proteinStart),void 0!==e.proteinEnd&&(i.proteinEnd=e.proteinEnd),void 0!==e.source&&(i.source=e.source),void 0!==e.highestLevelOnly&&(i.highestLevelOnly=e.highestLevelOnly),void 0!==e.levelOfEvidence&&(i.levelOfEvidence=e.levelOfEvidence),void 0!==e.evidenceTypes&&(i.evidenceTypes=e.evidenceTypes),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("GET",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"evidencesLookupPostUsingPOSTURL",value:function(e){var t={},n="/evidences/lookup";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"evidencesLookupPostUsingPOST",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/evidences/lookup",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.body&&(a=e.body),void 0===e.body?void u(new Error("Missing required  parameter: body")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"evidencesUUIDGetUsingGETURL",value:function(e){var t={},n="/evidences/{uuid}";n=n.replace("{uuid}",e.uuid+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"evidencesUUIDGetUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/evidences/{uuid}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{uuid}",e.uuid+""),void 0===e.uuid?void u(new Error("Missing required  parameter: uuid")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"genesGetUsingGETURL",value:function(e){var t={},n="/genes";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"genesGetUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/genes",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("GET",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"genesLookupGetUsingGETURL",value:function(e){var t={},n="/genes/lookup";void 0!==e.hugoSymbol&&(t.hugoSymbol=e.hugoSymbol),void 0!==e.entrezGeneId&&(t.entrezGeneId=e.entrezGeneId),void 0!==e.query&&(t.query=e.query),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"genesLookupGetUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/genes/lookup",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.hugoSymbol&&(i.hugoSymbol=e.hugoSymbol),void 0!==e.entrezGeneId&&(i.entrezGeneId=e.entrezGeneId),void 0!==e.query&&(i.query=e.query),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("GET",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"genesEntrezGeneIdGetUsingGETURL",value:function(e){var t={},n="/genes/{entrezGeneId}";n=n.replace("{entrezGeneId}",e.entrezGeneId+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"genesEntrezGeneIdGetUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/genes/{entrezGeneId}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{entrezGeneId}",e.entrezGeneId+""),void 0===e.entrezGeneId?void u(new Error("Missing required  parameter: entrezGeneId")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"genesEntrezGeneIdEvidencesGetUsingGETURL",value:function(e){var t={},n="/genes/{entrezGeneId}/evidences";n=n.replace("{entrezGeneId}",e.entrezGeneId+""),void 0!==e.evidenceTypes&&(t.evidenceTypes=e.evidenceTypes),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"genesEntrezGeneIdEvidencesGetUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/genes/{entrezGeneId}/evidences",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{entrezGeneId}",e.entrezGeneId+""),void 0===e.entrezGeneId?void u(new Error("Missing required  parameter: entrezGeneId")):(void 0!==e.evidenceTypes&&(i.evidenceTypes=e.evidenceTypes),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"genesEntrezGeneIdVariantsGetUsingGETURL",value:function(e){var t={},n="/genes/{entrezGeneId}/variants";n=n.replace("{entrezGeneId}",e.entrezGeneId+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"genesEntrezGeneIdVariantsGetUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/genes/{entrezGeneId}/variants",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{entrezGeneId}",e.entrezGeneId+""),void 0===e.entrezGeneId?void u(new Error("Missing required  parameter: entrezGeneId")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"levelsGetUsingGETURL",value:function(e){var t={},n="/levels";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"levelsGetUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/levels",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("GET",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"levelsResistenceGetUsingGETURL",value:function(e){var t={},n="/levels/resistence";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"levelsResistenceGetUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/levels/resistence",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("GET",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"levelsSensitiveGetUsingGETURL",value:function(e){var t={},n="/levels/sensitive";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"levelsSensitiveGetUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/levels/sensitive",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("GET",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"searchGetUsingGETURL",value:function(e){var t={},n="/search";void 0!==e.id&&(t.id=e.id),void 0!==e.hugoSymbol&&(t.hugoSymbol=e.hugoSymbol),void 0!==e.entrezGeneId&&(t.entrezGeneId=e.entrezGeneId),void 0!==e.variant&&(t.variant=e.variant),void 0!==e.consequence&&(t.consequence=e.consequence),void 0!==e.proteinStart&&(t.proteinStart=e.proteinStart),void 0!==e.proteinEnd&&(t.proteinEnd=e.proteinEnd),void 0!==e.tumorType&&(t.tumorType=e.tumorType),void 0!==e.source&&(t.source=e.source),void 0!==e.levels&&(t.levels=e.levels),void 0!==e.highestLevelOnly&&(t.highestLevelOnly=e.highestLevelOnly),void 0!==e.queryType&&(t.queryType=e.queryType),void 0!==e.hgvs&&(t.hgvs=e.hgvs),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"searchGetUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/search",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.id&&(i.id=e.id),void 0!==e.hugoSymbol&&(i.hugoSymbol=e.hugoSymbol),void 0!==e.entrezGeneId&&(i.entrezGeneId=e.entrezGeneId),void 0!==e.variant&&(i.variant=e.variant),void 0!==e.consequence&&(i.consequence=e.consequence),void 0!==e.proteinStart&&(i.proteinStart=e.proteinStart),void 0!==e.proteinEnd&&(i.proteinEnd=e.proteinEnd),void 0!==e.tumorType&&(i.tumorType=e.tumorType),void 0!==e.source&&(i.source=e.source),void 0!==e.levels&&(i.levels=e.levels),void 0!==e.highestLevelOnly&&(i.highestLevelOnly=e.highestLevelOnly),void 0!==e.queryType&&(i.queryType=e.queryType),void 0!==e.hgvs&&(i.hgvs=e.hgvs),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("GET",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"searchPostUsingPOSTURL",value:function(e){var t={},n="/search";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"searchPostUsingPOST",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/search",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.body&&(a=e.body),void 0===e.body?void u(new Error("Missing required  parameter: body")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"utilsAllActionableVariantsGetUsingGETURL",value:function(e){var t={},n="/utils/allActionableVariants";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"utilsAllActionableVariantsGetUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/utils/allActionableVariants",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("GET",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"utilsAllActionableVariantsTxtGetUsingGETURL",value:function(e){var t={},n="/utils/allActionableVariants.txt";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"utilsAllActionableVariantsTxtGetUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/utils/allActionableVariants.txt",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="*/*",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("GET",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"utilsAllAnnotatedVariantsGetUsingGETURL",value:function(e){var t={},n="/utils/allAnnotatedVariants";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"utilsAllAnnotatedVariantsGetUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/utils/allAnnotatedVariants",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("GET",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"utilsAllAnnotatedVariantsTxtGetUsingGETURL",value:function(e){var t={},n="/utils/allAnnotatedVariants.txt";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"utilsAllAnnotatedVariantsTxtGetUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/utils/allAnnotatedVariants.txt",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="*/*",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("GET",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"utilsCancerGeneListGetUsingGETURL",value:function(e){var t={},n="/utils/cancerGeneList";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"utilsCancerGeneListGetUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/utils/cancerGeneList",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="*/*",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("GET",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"variantsGetUsingGETURL",value:function(e){var t={},n="/variants";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"variantsGetUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/variants",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("GET",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"variantsLookupGetUsingGETURL",value:function(e){var t={},n="/variants/lookup";void 0!==e.entrezGeneId&&(t.entrezGeneId=e.entrezGeneId),void 0!==e.hugoSymbol&&(t.hugoSymbol=e.hugoSymbol),void 0!==e.variant&&(t.variant=e.variant),void 0!==e.variantType&&(t.variantType=e.variantType),void 0!==e.consequence&&(t.consequence=e.consequence),void 0!==e.proteinStart&&(t.proteinStart=e.proteinStart),void 0!==e.proteinEnd&&(t.proteinEnd=e.proteinEnd),void 0!==e.hgvs&&(t.hgvs=e.hgvs),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"variantsLookupGetUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/variants/lookup",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.entrezGeneId&&(i.entrezGeneId=e.entrezGeneId),void 0!==e.hugoSymbol&&(i.hugoSymbol=e.hugoSymbol),void 0!==e.variant&&(i.variant=e.variant),void 0!==e.variantType&&(i.variantType=e.variantType),void 0!==e.consequence&&(i.consequence=e.consequence),void 0!==e.proteinStart&&(i.proteinStart=e.proteinStart),void 0!==e.proteinEnd&&(i.proteinEnd=e.proteinEnd),void 0!==e.hgvs&&(i.hgvs=e.hgvs),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("GET",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"variantsLookupPostUsingPOSTURL",value:function(e){var t={},n="/variants/lookup";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"variantsLookupPostUsingPOST",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/variants/lookup",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.body&&(a=e.body),void 0===e.body?void u(new Error("Missing required  parameter: body")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){var t={};return k.each(e,function(e){t[e.query.id]=e}),t}function a(e){return{evidenceTypes:"GENE_SUMMARY,GENE_BACKGROUND,ONCOGENIC,MUTATION_EFFECT,VUS,STANDARD_THERAPEUTIC_IMPLICATIONS_FOR_DRUG_SENSITIVITY,STANDARD_THERAPEUTIC_IMPLICATIONS_FOR_DRUG_RESISTANCE,INVESTIGATIONAL_THERAPEUTIC_IMPLICATIONS_DRUG_SENSITIVITY",highestLevelOnly:!1,levels:["LEVEL_1","LEVEL_2A","LEVEL_2B","LEVEL_3A","LEVEL_3B","LEVEL_4","LEVEL_R1"],queries:e,source:"cbioportal"}}function i(e,t,n,r,o,a,i){return{id:s(e,t,n,r),hugoSymbol:"",tumorType:t,alterationType:i||R[R.Mutation],entrezGeneId:e,alteration:n||"",consequence:h(r||""),proteinStart:void 0===o?-1:o,proteinEnd:void 0===a?-1:a,type:"web",hgvs:""}}function s(e,t,n,r){var o=e+"_"+t;return n&&(o=o+"_"+n),r&&(o=o+"_"+r),o.trim().replace(/\s/g,"_")}function l(e){var t=[];return e.mutationEffect&&e.mutationEffect.refs&&e.mutationEffect.refs.length>0&&(t=t.concat(e.mutationEffect.refs.map(function(e){return Number(e.pmid)}))),e.oncogenicRefs&&e.oncogenicRefs.length>0&&(t=t.concat(e.oncogenicRefs.map(function(e){return Number(e.pmid)}))),e.treatments&&k.isArray(e.treatments.sensitivity)&&e.treatments.sensitivity.forEach(function(e){k.isArray(e.articles)&&(t=t.concat(e.articles.map(function(e){return Number(e.pmid)})))}),e.treatments&&k.isArray(e.treatments.resistance)&&e.treatments.resistance.forEach(function(e){k.isArray(e.articles)&&(t=t.concat(e.articles.map(function(e){return Number(e.pmid)})))}),t}function c(e){if(e){var t=e.match(/LEVEL_(R?\d[AB]?)/);return t&&t.length>=2?t[1]:e}return null}function u(e,t,n,r){var o=["",""],a=c(n),i=c(r);return!i&&a?o[0]="level"+a:i&&!a?o[0]="level"+i:i&&a&&(o[0]="level"+a+"R"),o[1]=E[e]||"no-info-oncogenic","no-info-oncogenic"===o[1]&&t&&(o[1]="vus"),o}function p(e,t){var n=M[e]||0;return t&&0===n&&(n+=.5),n}function f(e){return _[c(e)||""]||0}function d(e){return P[c(e)||""]||0}function h(e){return e in O&&O.hasOwnProperty(e)?O[e].join(","):"any"}function m(){return{id:"",gene:{},alteration:[],prevalence:[],progImp:[],treatments:{sensitivity:[],resistance:[]},trials:[],oncogenic:"",oncogenicRefs:[],mutationEffect:{},mutationEffectRefs:[],summary:"",drugs:{sensitivity:{current:[],inOtherTumor:[]},resistance:[]}}}function y(e){var t={};return e&&e.length>0&&e.forEach(function(e){
var n=e.query.id,r=m(),o=!1,a=[],i=[],s=[];s=s.concat(e.evidences),s.forEach(function(e){var t="";if(t=e.shortDescription?e.shortDescription:e.description,"GENE_SUMMARY"===e.evidenceType)r.gene.summary=t;else if("GENE_BACKGROUND"===e.evidenceType)r.gene.background=t;else if("ONCOGENIC"===e.evidenceType)e.articles&&(r.oncogenicRefs=e.articles);else if("MUTATION_EFFECT"===e.evidenceType){var n={};e.knownEffect&&(n.knownEffect=e.knownEffect),e.articles&&(n.refs=e.articles),t&&(n.description=t),r.alteration.push(n)}else if(e.levelOfEvidence&&["LEVEL_0"].indexOf(e.levelOfEvidence)===-1){var s={};s.alterations=e.alterations,s.articles=e.articles,s.tumorType=g(e),s.level=e.levelOfEvidence,s.content=e.treatments,s.description=t||"No yet curated",I.sensitivity.indexOf(S(e.levelOfEvidence))!==-1?a.push(s):i.push(s),"LEVEL_1"!==s.level&&"LEVEL_2A"!==s.level||(o=!0)}}),r.alteration.length>0&&(r.mutationEffect=r.alteration[0]),o?a.forEach(function(e,t){"LEVEL_2B"!==e.level&&r.treatments.sensitivity.push(e)}):r.treatments.sensitivity=a,r.treatments.resistance=i,r.treatments.sensitivity.forEach(function(e,t){"LEVEL_2B"===e.level?r.drugs.sensitivity.inOtherTumor.push(e):"LEVEL_2A"!==e.level&&"LEVEL_1"!==e.level||r.drugs.sensitivity.current.push(e)}),r.treatments.resistance.forEach(function(e,t){"LEVEL_R1"===e.level&&r.drugs.resistance.push(e)}),t[n]=r}),t}function g(e){var t=k.isObject(e.tumorType)?e.tumorType.name:e.subtype||e.cancerType,n="";return k.isObject(e.oncoTreeType)&&(n=e.oncoTreeType.subtype?e.oncoTreeType.subtype:e.oncoTreeType.cancerType),n&&(t=n),t}function v(e){return k.isArray(e)?k.map(e,function(e){return Number(e.pmid)}).sort():[]}function b(e){return k.isArray(e)?k.map(e,function(e){return Number(e.pmid)}).sort():[]}function w(e){var t={},n=[];return k.each(e,function(e,n){k.each(e,function(e,n){var r=S(e.level),o=C(e.content),a=e.tumorType,i=e.alterations.map(function(e){return e.alteration}).join(",");t.hasOwnProperty(r)||(t[r]={}),t[r].hasOwnProperty(i)||(t[r][i]={}),t[r][i].hasOwnProperty(o)||(t[r][i][o]={}),t[r][i][o].hasOwnProperty(a)||(t[r][i][o][a]={articles:[],tumorType:a,alterations:e.alterations,level:r,treatment:o}),t[r][i][o][a].articles=k.union(t[r][i][o][a].articles,e.articles)})}),k.each(k.keys(t).sort(function(e,t){return I.all.indexOf(e)>I.all.indexOf(t)?-1:1}),function(e){k.each(k.keys(t[e]).sort(),function(r){k.each(k.keys(t[e][r]).sort(),function(o){k.each(k.keys(t[e][r][o]).sort(),function(a){var i=t[e][r][o][a];n.push({level:i.level,variant:i.alterations.map(function(e){return e.alteration}),treatment:o,pmids:i.articles.filter(function(e){return!isNaN(e.pmid)}).map(function(e){return Number(e.pmid)}).sort(),abstracts:i.articles.filter(function(e){return k.isString(e.abstract)}).map(function(e){return{abstract:e.abstract,link:e.link}}),cancerType:i.tumorType})})})})}),n}function C(e){if(k.isArray(e)){var t=[];return e.forEach(function(e){t.push(T(e.drugs))}),t.join(", ")}return""}function T(e){var t=[];return e.forEach(function(e){t.push(e.drugName)}),t.join("+")}function S(e){if(e){var t=e.match(/LEVEL_(R?\d[AB]?)/);return t instanceof Array&&t.length>=2?t[1]:e}return""}function x(e){var t={},n=[],r=new RegExp("^([A-Z])([0-9]+)([A-Z]$)");return k.isString(e)?e:(k.each(e,function(e){var o=r.exec(e);k.isArray(o)&&4===o.length?(t.hasOwnProperty(o[2])||(t[o[2]]={}),t[o[2]].hasOwnProperty(o[1])||(t[o[2]][o[1]]={}),t[o[2]][o[1]][o[3]]=1):n.push(e)}),k.each(k.keys(t).map(function(e){return Number(e)}).sort(),function(e){k.each(k.keys(t[e]).sort(),function(r){n.push(r+e+k.keys(t[e][r]).sort().join("/"))})}),n.join(", "))}Object.defineProperty(t,"__esModule",{value:!0}),t.AlterationTypes=void 0,t.generateIdToIndicatorMap=o,t.generateEvidenceQuery=a,t.generateQueryVariant=i,t.generateQueryVariantId=s,t.extractPmids=l,t.normalizeLevel=c,t.oncogenicImageClassNames=u,t.calcOncogenicScore=p,t.calcSensitivityLevelScore=f,t.calcResistanceLevelScore=d,t.convertConsequence=h,t.initEvidence=m,t.processEvidence=y,t.getTumorTypeFromEvidence=g,t.generateOncogenicCitations=v,t.generateMutationEffectCitations=b,t.generateTreatments=w,t.mergeAlterations=x;var A=n(408),k=r(A),E={"Likely Neutral":"likely-neutral",Unknown:"unknown-oncogenic",Inconclusive:"unknown-oncogenic","Predicted Oncogenic":"oncogenic","Likely Oncogenic":"oncogenic",Oncogenic:"oncogenic"},M={Unknown:1,Inconclusive:1,"Likely Neutral":3,"Predicted Oncogenic":5,"Likely Oncogenic":5,Oncogenic:5},_={4:1,"3B":2,"3A":3,"2B":4,"2A":5,1:6},P={R3:1,R2:2,R1:3},O={"3'Flank":["any"],"5'Flank ":["any"],Targeted_Region:["inframe_deletion","inframe_insertion"],COMPLEX_INDEL:["inframe_deletion","inframe_insertion"],ESSENTIAL_SPLICE_SITE:["feature_truncation"],"Exon skipping":["inframe_deletion"],"Frameshift deletion":["frameshift_variant"],"Frameshift insertion":["frameshift_variant"],FRAMESHIFT_CODING:["frameshift_variant"],Frame_Shift_Del:["frameshift_variant"],Frame_Shift_Ins:["frameshift_variant"],Fusion:["fusion"],Indel:["frameshift_variant","inframe_deletion","inframe_insertion"],In_Frame_Del:["inframe_deletion"],In_Frame_Ins:["inframe_insertion"],Missense:["missense_variant"],Missense_Mutation:["missense_variant"],Nonsense_Mutation:["stop_gained"],Nonstop_Mutation:["stop_lost"],Splice_Site:["splice_region_variant"],Splice_Site_Del:["splice_region_variant"],Splice_Site_SNP:["splice_region_variant"],splicing:["splice_region_variant"],Translation_Start_Site:["start_lost"],"vIII deletion":["any"]},I={sensitivity:["4","3B","3A","2B","2A","1","0"],resistance:["R3","R2","R1"],all:["4","R3","3B","3A","R2","2B","2A","R1","1","0"]},R=t.AlterationTypes=void 0;!function(e){e[e.Mutation=0]="Mutation"}(R||(t.AlterationTypes=R={}))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(406),l=n(628),c=r(l),u=function(e,t,n,r){var o,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(a<3?o(s):a>3?o(t,n,s):o(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s},p=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},f=function(){function e(){o(this,e),this._cache=c.default.from({}),this._pendingCache={}}return a(e,[{key:"fetch",value:function(e){return p(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}))}},{key:"filter",value:function(e,t){return t}},{key:"getData",value:function(e,t){var n=this,r={},o=[];if(e.forEach(function(e){var t=n._cache[e]||n._pendingCache[e];void 0===t?o.push(e):r[e]=t}),o.length>0){var a={};o.forEach(function(e){a[e]={status:"pending"},n._pendingCache[e]=a[e],r[e]=a[e]}),this.fetch(this.filter(o,t))}return r}},{key:"putData",value:function(e){var t=this;Object.keys(e).forEach(function(n){"pending"!==e[n].status&&delete t._pendingCache[n]}),Object.keys(e).length>0&&(this._cache=this._cache.merge(e,{deep:!0}))}}]),e}();t.default=f,u([s.observable.ref],f.prototype,"_cache",void 0),u([s.action],f.prototype,"putData",null)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.length>0?c.default.postVariantAnnotation({variants:e.map(function(e){return(0,u.generateGenomeNexusQuery)(e)}),fields:["hotspots","mutation_assessor"]}):Promise.resolve([])}Object.defineProperty(t,"__esModule",{value:!0});var l=n(637),c=r(l),u=n(639),p=n(627),f=r(p),d=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,function(e){return(0,u.generateGenomeNexusQuery)(e)},function(e){return e.id},s))}return i(t,e),t}(f.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(638),a=r(o),i=n(426),s=new a.default((0,i.getGenomeNexusApiUrl)());t.default=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(419),l=r(s),c=function(){function e(t){o(this,e),this.domain="",this.errorHandlers=[],t&&(this.domain=t)}return i(e,[{key:"getDomain",value:function(){return this.domain}},{key:"addErrorHandler",value:function(e){this.errorHandlers.push(e)}},{key:"request",value:function(e,t,n,r,o,i,s,c,u){var p=new l.Request(e,t).query(o);Object.keys(r).forEach(function(e){p.set(e,r[e])}),n&&p.send(n),"object"===("undefined"==typeof n?"undefined":a(n))&&"Buffer"!==n.constructor.name&&p.set("Content-Type","application/json"),Object.keys(i).length>0&&(p.type("form"),p.send(i)),p.end(function(e,t){e||!t.ok?(s(e),u.forEach(function(t){return t(e)})):c(t)})}},{key:"postHotspotAnnotationURL",value:function(e){var t={},n="/cancer_hotspots";void 0!==e.variants&&(t.variants=e.variants),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"postHotspotAnnotation",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/cancer_hotspots",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.variants&&(i.variants=e.variants),void 0===e.variants?void u(new Error("Missing required  parameter: variants")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"getHotspotAnnotationURL",value:function(e){var t={},n="/cancer_hotspots/{variants}";n=n.replace("{variants}",e.variants+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"getHotspotAnnotation",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/cancer_hotspots/{variants}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{variants}",e.variants+""),void 0===e.variants?void u(new Error("Missing required  parameter: variants")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"errorUsingGETURL",value:function(e){var t={},n="/error";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"errorUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/error",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="*/*",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("GET",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"errorUsingHEADURL",value:function(e){var t={},n="/error";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"errorUsingHEAD",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/error",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="*/*",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("HEAD",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"errorUsingPOSTURL",value:function(e){var t={},n="/error";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"errorUsingPOST",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/error",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="*/*",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("POST",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"errorUsingPUTURL",value:function(e){var t={},n="/error";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"errorUsingPUT",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/error",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="*/*",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("PUT",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"errorUsingDELETEURL",value:function(e){var t={},n="/error";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"errorUsingDELETE",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/error",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="*/*",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("DELETE",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"errorUsingOPTIONSURL",value:function(e){var t={},n="/error";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"errorUsingOPTIONS",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/error",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="*/*",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("OPTIONS",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"errorUsingPATCHURL",value:function(e){var t={},n="/error";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"errorUsingPATCH",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/error",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="*/*",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("PATCH",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"postVariantAnnotationURL",value:function(e){var t={},n="/hgvs";void 0!==e.variants&&(t.variants=e.variants),void 0!==e.isoformOverrideSource&&(t.isoformOverrideSource=e.isoformOverrideSource),void 0!==e.fields&&(t.fields=e.fields),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"postVariantAnnotation",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/hgvs",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.variants&&(i.variants=e.variants),void 0===e.variants?void u(new Error("Missing required  parameter: variants")):(void 0!==e.isoformOverrideSource&&(i.isoformOverrideSource=e.isoformOverrideSource),void 0!==e.fields&&(i.fields=e.fields),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"getVariantAnnotationURL",value:function(e){var t={},n="/hgvs/{variants}";n=n.replace("{variants}",e.variants+""),void 0!==e.isoformOverrideSource&&(t.isoformOverrideSource=e.isoformOverrideSource),void 0!==e.fields&&(t.fields=e.fields),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"getVariantAnnotation",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/hgvs/{variants}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{variants}",e.variants+""),void 0===e.variants?void u(new Error("Missing required  parameter: variants")):(void 0!==e.isoformOverrideSource&&(i.isoformOverrideSource=e.isoformOverrideSource),void 0!==e.fields&&(i.fields=e.fields),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"postIsoformOverrideURL",value:function(e){var t={},n="/isoform_override";void 0!==e.source&&(t.source=e.source),void 0!==e.transcriptIds&&(t.transcriptIds=e.transcriptIds),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"postIsoformOverride",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/isoform_override",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.source&&(i.source=e.source),void 0===e.source?void u(new Error("Missing required  parameter: source")):(void 0!==e.transcriptIds&&(i.transcriptIds=e.transcriptIds),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"getIsoformOverrideSourcesURL",value:function(e){var t={},n="/isoform_override/sources";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"getIsoformOverrideSources",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/isoform_override/sources",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("GET",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"postIsoformOverrideSourcesURL",value:function(e){var t={},n="/isoform_override/sources";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"postIsoformOverrideSources",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/isoform_override/sources",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("POST",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"getAllIsoformOverridesURL",value:function(e){var t={},n="/isoform_override/{source}";n=n.replace("{source}",e.source+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"getAllIsoformOverrides",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/isoform_override/{source}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{source}",e.source+""),void 0===e.source?void u(new Error("Missing required  parameter: source")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"getIsoformOverrideURL",value:function(e){var t={},n="/isoform_override/{source}/{transcriptIds}";n=n.replace("{source}",e.source+""),n=n.replace("{transcriptIds}",e.transcriptIds+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"getIsoformOverride",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/isoform_override/{source}/{transcriptIds}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{source}",e.source+""),void 0===e.source?void u(new Error("Missing required  parameter: source")):(o=o.replace("{transcriptIds}",e.transcriptIds+""),void 0===e.transcriptIds?void u(new Error("Missing required  parameter: transcriptIds")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n)))}).then(function(e){return e.body})}},{key:"postMutationAssessorAnnotationURL",value:function(e){var t={},n="/mutation_assessor";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"postMutationAssessorAnnotation",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/mutation_assessor",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.variants&&(a=e.variants),void 0===e.variants?void u(new Error("Missing required  parameter: variants")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"getMutationAssessorAnnotationURL",value:function(e){var t={},n="/mutation_assessor/{variants}";n=n.replace("{variants}",e.variants+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"getMutationAssessorAnnotation",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/mutation_assessor/{variants}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{variants}",e.variants+""),void 0===e.variants?void u(new Error("Missing required  parameter: variants")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"fetchAllPfamDomainsGETURL",value:function(e){var t={},n="/pfam/domain";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchAllPfamDomainsGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/pfam/domain",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("GET",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"fetchPfamDomainsByGeneIdsPOSTURL",value:function(e){var t={},n="/pfam/domain/gene";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchPfamDomainsByGeneIdsPOST",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/pfam/domain/gene",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.geneIds&&(a=e.geneIds),void 0===e.geneIds?void u(new Error("Missing required  parameter: geneIds")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"fetchPfamDomainsByGeneIdGETURL",value:function(e){var t={},n="/pfam/domain/gene/{geneId}";n=n.replace("{geneId}",e.geneId+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchPfamDomainsByGeneIdGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/pfam/domain/gene/{geneId}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{geneId}",e.geneId+""),void 0===e.geneId?void u(new Error("Missing required  parameter: geneId")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"fetchPfamDomainsByPfamIdsPOSTURL",value:function(e){var t={},n="/pfam/domain/pfam";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchPfamDomainsByPfamIdsPOST",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/pfam/domain/pfam",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.pfamDomainIds&&(a=e.pfamDomainIds),void 0===e.pfamDomainIds?void u(new Error("Missing required  parameter: pfamDomainIds")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"fetchPfamDomainsByPfamIdGETURL",value:function(e){var t={},n="/pfam/domain/pfam/{pfamDomainId}";n=n.replace("{pfamDomainId}",e.pfamDomainId+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchPfamDomainsByPfamIdGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/pfam/domain/pfam/{pfamDomainId}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{pfamDomainId}",e.pfamDomainId+""),void 0===e.pfamDomainId?void u(new Error("Missing required  parameter: pfamDomainId")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"fetchPfamDomainsByProteinIdsPOSTURL",value:function(e){var t={},n="/pfam/domain/protein";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchPfamDomainsByProteinIdsPOST",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/pfam/domain/protein",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.proteinIds&&(a=e.proteinIds),void 0===e.proteinIds?void u(new Error("Missing required  parameter: proteinIds")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n;
}),void r("POST",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"fetchPfamDomainsByProteinIdGETURL",value:function(e){var t={},n="/pfam/domain/protein/{proteinId}";n=n.replace("{proteinId}",e.proteinId+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchPfamDomainsByProteinIdGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/pfam/domain/protein/{proteinId}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{proteinId}",e.proteinId+""),void 0===e.proteinId?void u(new Error("Missing required  parameter: proteinId")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"fetchPfamDomainsByTranscriptIdsPOSTURL",value:function(e){var t={},n="/pfam/domain/transcript";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchPfamDomainsByTranscriptIdsPOST",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/pfam/domain/transcript",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.transcriptIds&&(a=e.transcriptIds),void 0===e.transcriptIds?void u(new Error("Missing required  parameter: transcriptIds")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"fetchPfamDomainsByTranscriptIdGETURL",value:function(e){var t={},n="/pfam/domain/transcript/{transcriptId}";n=n.replace("{transcriptId}",e.transcriptId+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchPfamDomainsByTranscriptIdGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/pfam/domain/transcript/{transcriptId}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{transcriptId}",e.transcriptId+""),void 0===e.transcriptId?void u(new Error("Missing required  parameter: transcriptId")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"getGeneXrefsURL",value:function(e){var t={},n="/xrefs/{accession}";n=n.replace("{accession}",e.accession+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"getGeneXrefs",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/xrefs/{accession}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{accession}",e.accession+""),void 0===e.accession?void u(new Error("Missing required  parameter: accession")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}}]),e}();t.default=c},function(e,t){"use strict";function n(e){var t="";return"Missense_Mutation"===e.mutationType&&1===e.variantAllele.length&&(t+=e.gene.chromosome+":g."+e.startPosition,t+=e.referenceAllele+">"+e.variantAllele),t}Object.defineProperty(t,"__esModule",{value:!0}),t.generateGenomeNexusQuery=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return f(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o,a,i,s,l,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(t,n){p.default.post("https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&retmode=json").type("form").send({id:e.join(",")}).end(function(e,r){if(!e&&r.ok){var o=JSON.parse(r.text),a=o.result,i=a.uids,s={},l=!0,c=!1,u=void 0;try{for(var p,f=i[Symbol.iterator]();!(l=(p=f.next()).done);l=!0){var d=p.value;s[d]=a[d]}}catch(e){c=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(c)throw u}}t(s)}else n(e)})});case 2:for(n=t.sent,r=[],o=!0,a=!1,i=void 0,t.prev=7,s=Object.keys(n)[Symbol.iterator]();!(o=(l=s.next()).done);o=!0)c=l.value,r.push({data:[n[c]],meta:c});t.next=15;break;case 11:t.prev=11,t.t0=t.catch(7),a=!0,i=t.t0;case 15:t.prev=15,t.prev=16,!o&&s.return&&s.return();case 18:if(t.prev=18,!a){t.next=21;break}throw i;case 21:return t.finish(18);case 22:return t.finish(15);case 23:return t.abrupt("return",r);case 24:case"end":return t.stop()}},t,this,[[7,11,15,23],[16,,18,22]])}))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(627),c=r(l),u=n(419),p=r(u),f=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},d=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,function(e){return e+""},function(e,t){return t},s))}return i(t,e),t}(c.default);t.default=d},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(644),l=r(s),c=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,["CANCER_TYPE_DETAILED"],"SAMPLE","SUMMARY"))}return i(t,e),t}(l.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=e.studyId?e.studyId:t;return n+"~"+e.entityId}function l(e,t,n,r){return m(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a,i,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return a=h.default.groupBy(e,"studyId"),i=Object.keys(a),o.next=4,Promise.all(i.map(function(e){return u.default.fetchClinicalDataUsingPOST({clinicalDataType:n,clinicalDataMultiStudyFilter:{attributeIds:t,identifiers:a[e]},projection:r})}));case 4:return s=o.sent,o.abrupt("return",s.map(function(e,t){return{data:e,meta:i[t]}}));case 6:case"end":return o.stop()}},o,this)}))}Object.defineProperty(t,"__esModule",{value:!0});var c=n(417),u=r(c),p=n(627),f=r(p),d=n(408),h=r(d),m=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},y=function(e){function t(e,n,r){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s,function(e){return e.studyId+"~"+e.sampleId},l,e,n,r))}return i(t,e),t}(f.default);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.molecularProfileId+"~"+e.sampleId}function l(e){return m(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=h.default.groupBy(e,function(e){return e.molecularProfileId}),r=Object.keys(n),t.next=4,Promise.all(r.map(function(e){var t=n[e].map(function(e){return e.sampleId});return t.length>0?u.default.fetchMutationCountsInMolecularProfileUsingPOST({molecularProfileId:e,sampleIds:t}):Promise.resolve([])}));case 4:return o=t.sent,t.abrupt("return",h.default.flatten(o));case 6:case"end":return t.stop()}},t,this)}))}Object.defineProperty(t,"__esModule",{value:!0});var c=n(417),u=r(c),p=n(627),f=r(p),d=n(408),h=r(d),m=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},y=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s,s,l))}return i(t,e),t}(f.default);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:le.default;return Ae(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,n.fetchMutationsInMolecularProfileUsingPOST({molecularProfileId:t,mutationFilter:e,projection:"DETAILED"});case 3:return r.abrupt("return",r.sent);case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}},r,this)}))}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ye.default;return Ae(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=6;break}return n.next=3,t.postResidueMappingUsingGET({idType:"uniprot",id:e});case 3:return n.abrupt("return",n.sent);case 6:return n.abrupt("return",[]);case 7:case"end":return n.stop()}},n,this)}))}function l(e){return Ae(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.default.get((0,ie.getMyGeneUrl)(e));case 2:return n=t.sent,t.abrupt("return",JSON.parse(n.text).uniprot["Swiss-Prot"]);case 4:case"end":return t.stop()}},t,this)}))}function c(e){return Ae(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.default.get((0,ie.getUniprotIdUrl)(e));case 2:return n=t.sent,t.abrupt("return",n.text.split("\n")[1]);case 4:case"end":return t.stop()}},t,this)}))}function u(e){return Ae(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.default.get((0,ie.getPfamGeneDataUrl)(e));case 2:return n=t.sent,t.abrupt("return",JSON.parse(n.text)[0]);case 4:case"end":return t.stop()}},t,this)}))}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:le.default;return Ae(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=6;break}return n.next=3,t.fetchClinicalDataUsingPOST({clinicalDataType:"SAMPLE",clinicalDataMultiStudyFilter:e,projection:"DETAILED"});case 3:return n.abrupt("return",n.sent);case 6:return n.abrupt("return",[]);case 7:case"end":return n.stop()}},n,this)}))}function f(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:le.default;return Ae(this,void 0,void 0,regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!t){o.next=6;break}return o.next=3,r.fetchAllClinicalDataInStudyUsingPOST({studyId:e,clinicalDataType:n,clinicalDataSingleStudyFilter:t,projection:"SUMMARY"});case 3:return o.abrupt("return",o.sent);case 6:return o.abrupt("return",[]);case 7:case"end":return o.stop()}},o,this)}))}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:le.default;return Ae(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!e||!t){r.next=6;break}return r.next=3,n.getAllClinicalDataOfPatientInStudyUsingGET({projection:"DETAILED",studyId:e,patientId:t});case 3:return r.abrupt("return",r.sent);case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}},r,this)}))}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:le.default;return Ae(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e&&t.length>0)){r.next=6;break}return r.next=3,n.fetchCopyNumberSegmentsUsingPOST({sampleIdentifiers:t.map(function(t){return{sampleId:t,studyId:e}}),projection:"DETAILED"});case 3:return r.abrupt("return",r.sent);case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}},r,this)}))}function m(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:le.default;return Ae(this,void 0,void 0,regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e||!t){o.next=6;break}return o.next=3,r.getAllSamplesOfPatientInStudyUsingGET({studyId:e,patientId:t,projection:"DETAILED"});case 3:return o.abrupt("return",o.sent);case 6:if(!e||!n){o.next=12;break}return o.next=9,r.getSampleInStudyUsingGET({studyId:e,sampleId:n}).then(function(e){return[e]});case 9:return o.abrupt("return",o.sent);case 12:return o.abrupt("return",[]);case 13:case"end":return o.stop()}},o,this)}))}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:le.default;return Ae(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e.result&&e.result.length>0&&t)){r.next=7;break}return o=e.result.map(function(e){return{sampleId:e,studyId:t}}),r.next=4,n.fetchSamplesUsingPOST({sampleIdentifiers:o});case 4:return r.abrupt("return",r.sent);case 7:return r.abrupt("return",[]);case 8:case"end":return r.stop()}},r,this)}))}function g(e){var t={};return e.result&&re.each(e.result,function(e){"CANCER_TYPE_DETAILED"!==e.clinicalAttributeId&&"CANCER_TYPE"!==e.clinicalAttributeId||(t[e.sampleId]=!0)}),t}function v(e,t){if(e.result&&e.result.length>0&&t.result){var n=g(t);return re.filter(e.result,function(e){return n[e.sampleId]!==!0})}return[]}function b(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:le.default;return Ae(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a,i,s,l;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(a=[],!(e.result&&e.result.length>0&&n.result)){o.next=9;break}if(i=g(n),s=re.filter(e.result,function(e){return i[e]!==!0}),l=s.map(function(e){return{sampleId:e,studyId:t}}),!(l.length>0)){o.next=9;break}return o.next=8,r.fetchSamplesUsingPOST({sampleIdentifiers:l});case 8:a=o.sent;case 9:return o.abrupt("return",a);case 10:case"end":return o.stop()}},o,this)}))}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:le.default;return Ae(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=[],!e.result){n.next=7;break}return o=re.uniq(e.result.map(function(e){return e.studyId})),a=o.map(function(e){return t.getStudyUsingGET({studyId:e})}),n.next=6,Promise.all(a);case 6:r=n.sent;case 7:return n.abrupt("return",r);case 8:case"end":return n.stop()}},n,this)}))}function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ue.default;return Ae(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,a,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=$(e,t),0!==o.length){r.next=3;break}return r.abrupt("return",void 0);case 3:if(a=re.chain(o).filter(function(e){return e.hasOwnProperty("keyword")}).map(function(e){return e.keyword}).uniq().value(),!(a.length>0)){r.next=11;break}return r.next=7,n.fetchCosmicCountsUsingPOST({keywords:re.filter(a,function(e){return null!=e})});case 7:return i=r.sent,r.abrupt("return",(0,Te.keywordToCosmic)(i));case 11:return r.abrupt("return",void 0);case 12:case"end":return r.stop()}},r,this)}))}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue.default;return Ae(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getSignificantlyMutatedGenesUsingGET({studyId:e});case 2:return r=n.sent,o=r.reduce(function(e,t){return e[t.entrezGeneId]={qValue:t.qValue},e},{}),n.abrupt("return",o);case 5:case"end":return n.stop()}},n,this)}))}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue.default;return Ae(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=7;break}return n.next=3,t.getSignificantCopyNumberRegionsUsingGET({studyId:e});case 3:return r=n.sent,n.abrupt("return",r.reduce(function(e,t){return t.genes.forEach(function(n){void 0===e[n.entrezGeneId]&&(e[n.entrezGeneId]=[]),e[n.entrezGeneId].push({amp:t.amp,qValue:t.qValue,peakGeneCount:t.genes.length})}),e},{}));case 7:return n.abrupt("return",{});case 8:case"end":return n.stop()}},n,this)}))}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:le.default;return Ae(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=e.result?e.result.map(function(e){return{alteration:e.alteration,entrezGeneId:e.entrezGeneId}}):[],!(t.result&&o.length>0)){r.next=7;break}return r.next=4,n.fetchCopyNumberCountsUsingPOST({molecularProfileId:t.result,copyNumberCountIdentifiers:o});case 4:return r.abrupt("return",r.sent);case 7:return r.abrupt("return",[]);case 8:case"end":return r.stop()}},r,this)}))}function A(){var e=n(661);return(0,Te.geneToMyCancerGenome)(e)}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve.default;return Ae(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=re,t.next=3,e.genesGetUsingGET({});case 3:return t.t1=t.sent,t.t2=function(e,t){return e[t.entrezGeneId]=!0,e},t.t3={},t.abrupt("return",t.t0.reduce.call(t.t0,t.t1,t.t2,t.t3));case 7:case"end":return t.stop()}},t,this)}))}function E(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ve.default;return Ae(this,void 0,void 0,regeneratorRuntime.mark(function a(){var i,s,l;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(i=$(n,r),0!==i.length){a.next=3;break}return a.abrupt("return",ke);case 3:return s=re.filter(i,function(e){return!!t[e.entrezGeneId]}),l=re.uniqBy(re.map(s,function(t){return(0,be.generateQueryVariant)(t.gene.entrezGeneId,_(t.sampleId,e),t.proteinChange,t.mutationType,t.proteinPosStart,t.proteinPosEnd)}),"id"),a.abrupt("return",P(l,e,o));case 6:case"end":return a.stop()}},a,this)}))}function M(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ve.default;return Ae(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(n.result&&0!==n.result.length){o.next=4;break}return o.abrupt("return",ke);case 4:return a=re.filter(n.result,function(e){return!!t[e.gene.entrezGeneId]}),i=re.uniqBy(re.map(a,function(t){return(0,be.generateQueryVariant)(t.gene.entrezGeneId,_(t.sampleId,e),(0,Ce.getAlterationString)(t.alteration))}),"id"),o.abrupt("return",P(i,e,r));case 7:case"end":return o.stop()}},o,this)}))}function _(e,t){return t[e]||""}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ve.default;return Ae(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.searchPostUsingPOST({body:(0,be.generateEvidenceQuery)(e)});case 2:return o=r.sent,a={sampleToTumorMap:t,indicatorMap:(0,be.generateIdToIndicatorMap)(o)},r.abrupt("return",a);case 5:case"end":return r.stop()}},r,this)}))}function O(e,t){return Ae(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o,a,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=$(e,t),0!==r.length){n.next=3;break}return n.abrupt("return",{});case 3:return o=new Set([]),r.forEach(function(e){o.add(e.gene.hugoGeneSymbol)}),a=Array.from(o),n.next=8,(0,we.getCivicGenes)(a);case 8:return i=n.sent,n.abrupt("return",i);case 10:case"end":return n.stop()}},n,this)}))}function I(e){return Ae(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.result&&e.result.length>0)){t.next=10;break}return n=new Set([]),e.result.forEach(function(e){n.add(e.gene.hugoGeneSymbol)}),r=Array.from(n),t.next=6,(0,we.getCivicGenes)(r);case 6:return o=t.sent,t.abrupt("return",o);case 10:return t.abrupt("return",{});case 11:case"end":return t.stop()}},t,this)}))}function R(e,t,n){return Ae(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o={},a=$(t,n),!(a.length>0)){r.next=8;break}return r.next=5,(0,we.getCivicVariants)(e,a);case 5:o=r.sent,r.next=12;break;case 8:if(re.isEmpty(e)){r.next=12;break}return r.next=11,(0,we.getCivicVariants)(e);case 11:o=r.sent;case 12:return r.abrupt("return",o);case 13:case"end":return r.stop()}},r,this)}))}function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:le.default;return Ae(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.isComplete||!t.result){r.next=6;break}return r.next=3,n.fetchDiscreteCopyNumbersInMolecularProfileUsingPOST({projection:"DETAILED",discreteCopyNumberFilter:e,molecularProfileId:t.result});case 3:return r.abrupt("return",r.sent);case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}},r,this)}))}function j(e){if(e.result){var t=e.result.find(function(e){return"DISCRETE"===e.datatype});return t?t.molecularProfileId:void 0}}function D(e){return"MUTATION_EXTENDED"===e.molecularAlterationType}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xe.MOLECULAR_PROFILE_MUTATIONS_SUFFIX;if(e.result){var r=e.result.find(function(e){return e.molecularProfileId===""+t+n});return r?r.molecularProfileId:void 0}}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xe.MOLECULAR_PROFILE_UNCALLED_MUTATIONS_SUFFIX;return N(e,t,n)}function F(e){if(!e.result)return null;var t=/^.+rna_seq.*_zscores$/,n=/^.*_zscores$/,r=e.result.find(function(e){return t.test(e.molecularProfileId.toLowerCase())});if(r)return r.molecularProfileId;var o=e.result.find(function(e){return n.test(e.molecularProfileId.toLowerCase())});return o?o.molecularProfileId:null}function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:he.default,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fe.default;return Ae(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a,i,s,l,c,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(a=$(e,t),0!==a.length){o.next=3;break}return o.abrupt("return",Ee);case 3:return i=re.uniq(re.map(a,function(e){return e&&e.gene?e.gene.hugoGeneSymbol:""})),o.next=6,Promise.all([n.fetchSingleResidueHotspotMutationsByGenePOST({hugoSymbols:i}),r.fetch3dHotspotMutationsByGenePOST({hugoSymbols:i})]);case 6:return s=o.sent,l=te(s,2),c=l[0],u=l[1],o.abrupt("return",{single:c,clustered:u});case 11:case"end":return o.stop()}},o,this)}))}function B(e){return e.result?{single:(0,Te.indexHotspots)(e.result.single),clustered:(0,Te.indexHotspots)(e.result.clustered)}:void 0}function z(e,t,n){var r={};if(e.result&&(re.each(e.result,function(e){"CANCER_TYPE_DETAILED"===e.clinicalAttributeId&&(r[e.sampleId]=e.value)}),re.each(e.result,function(e){"CANCER_TYPE"===e.clinicalAttributeId&&void 0===r[e.sampleId]&&(r[e.sampleId]=e.value)})),t&&t.result&&n&&n.result){var o=J(t.result);re.each(n.result,function(e){void 0===r[e.sampleId]&&(r[e.sampleId]=o[e.studyId])})}return r}function H(e){var t={};if(e.result){var n=!0,r=!1,o=void 0;try{for(var a,i=e.result[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value,l=s.entrezGeneId+"_"+s.alteration;t[l]=t[l]||[],t[l].push(s)}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}}return Object.keys(t).map(function(e){return t[e]})}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X,n={};return W(n,e,t,!1),Object.keys(n).map(function(e){return n[e]})}function V(e){return(0,Se.indexPdbAlignments)(e.result||[])}function K(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X,r={};return W(r,e,n,!1),W(r,t,n,!0),Object.keys(r).map(function(e){return r[e]})}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X,r=arguments[3];if(t.result){var o=!0,a=!1,i=void 0;try{for(var s,l=t.result[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value,u=n(c);(!r||u in e)&&(e[u]=e[u]||[],e[u].push(c))}}catch(e){a=!0,i=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw i}}}}function $(e,t){var n=e&&e.result?e.result:[],r=t&&t.result?t.result:[];return n.concat(r)}function Y(e){return[e.gene.chromosome,e.startPosition,e.endPosition,e.referenceAllele,e.variantAllele]}function Q(e){return Y(e).join("_")}function X(e){return[e.gene.hugoGeneSymbol,e.proteinChange].concat(a(Y(e))).join("_")}function Z(e,t){var n={};return e?n={sampleListId:e}:t&&(n={sampleIds:t}),n}function J(e){return e.reduce(function(e,t){return e[t.studyId]=t.cancerType.name,e},{})}function ee(e,t){return re.map(e,function(e){return{id:e,clinicalData:t.filter(function(t){return t.sampleId===e})}})}Object.defineProperty(t,"__esModule",{value:!0}),t.HOTSPOTS_DEFAULT=t.ONCOKB_DEFAULT=void 0;var te=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.fetchMutationData=i,t.fetchPdbAlignmentData=s,t.fetchSwissProtAccession=l,t.fetchUniprotId=c,t.fetchPfamGeneData=u,t.fetchClinicalData=p,t.fetchClinicalDataInStudy=f,t.fetchClinicalDataForPatient=d,t.fetchCopyNumberSegments=h,t.fetchSamplesForPatient=m,t.fetchSamples=y,t.findSampleIdsWithCancerTypeClinicalData=g,t.findSamplesWithoutCancerTypeClinicalData=v,t.fetchSamplesWithoutCancerTypeClinicalData=b,t.fetchStudiesForSamplesWithoutCancerTypeClinicalData=w,t.fetchCosmicData=C,t.fetchMutSigData=T,t.fetchGisticData=S,t.fetchCopyNumberData=x,t.fetchMyCancerGenomeData=A,t.fetchOncoKbAnnotatedGenes=k,t.fetchOncoKbData=E,t.fetchCnaOncoKbData=M,t.queryOncoKbData=P,t.fetchCivicGenes=O,t.fetchCnaCivicGenes=I,t.fetchCivicVariants=R,t.fetchDiscreteCNAData=L,t.findMolecularProfileIdDiscrete=j,t.isMutationProfile=D,t.findMutationMolecularProfileId=N,t.findUncalledMutationMolecularProfileId=G,t.findMrnaRankMolecularProfileId=F,t.fetchHotspotsData=q,t.indexHotspotData=B,t.generateSampleIdToTumorTypeMap=z,t.mergeDiscreteCNAData=H,t.mergeMutations=U,t.indexPdbAlignmentData=V,t.mergeMutationsIncludingUncalled=K,t.concatMutationData=$,t.generateMutationIdByEvent=Q,t.generateMutationIdByGeneAndProteinChangeAndEvent=X,t.generateDataQueryFilter=Z,t.makeStudyToCancerTypeMap=J,t.groupBySampleId=ee;var ne=n(408),re=o(ne),oe=n(419),ae=r(oe),ie=n(426),se=n(417),le=r(se),ce=n(430),ue=r(ce),pe=n(647),fe=r(pe),de=n(649),he=r(de),me=n(650),ye=r(me),ge=n(632),ve=r(ge),be=n(634),we=n(652),Ce=n(655),Te=n(656),Se=n(658),xe=n(660),Ae=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},ke=t.ONCOKB_DEFAULT={sampleToTumorMap:{},indicatorMap:{}},Ee=t.HOTSPOTS_DEFAULT={single:[],clustered:[]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(648),a=r(o),i=n(426),s=new a.default((0,i.getHotspots3DApiUrl)());t.default=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,
"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(419),l=r(s),c=function(){function e(t){o(this,e),this.domain="",this.errorHandlers=[],t&&(this.domain=t)}return i(e,[{key:"getDomain",value:function(){return this.domain}},{key:"addErrorHandler",value:function(e){this.errorHandlers.push(e)}},{key:"request",value:function(e,t,n,r,o,i,s,c,u){var p=new l.Request(e,t).query(o);Object.keys(r).forEach(function(e){p.set(e,r[e])}),n&&p.send(n),"object"===("undefined"==typeof n?"undefined":a(n))&&"Buffer"!==n.constructor.name&&p.set("Content-Type","application/json"),Object.keys(i).length>0&&(p.type("form"),p.send(i)),p.end(function(e,t){e||!t.ok?(s(e),u.forEach(function(t){return t(e)})):c(t)})}},{key:"fetchClustersPOSTURL",value:function(e){var t={},n="/api/clusters";void 0!==e.hugoSymbol&&(t.hugoSymbol=e.hugoSymbol),void 0!==e.residue&&(t.residue=e.residue),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchClustersPOST",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/clusters",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.clusterIds&&(a=e.clusterIds),void 0!==e.hugoSymbol&&(i.hugoSymbol=e.hugoSymbol),void 0!==e.residue&&(i.residue=e.residue),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("POST",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"fetchClustersByClusterIdGETURL",value:function(e){var t={},n="/api/clusters/id/{clusterIds}";n=n.replace("{clusterIds}",e.clusterIds+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchClustersByClusterIdGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/clusters/id/{clusterIds}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{clusterIds}",e.clusterIds+""),void 0===e.clusterIds?void u(new Error("Missing required  parameter: clusterIds")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"fetchClustersByHugoSymbolGETURL",value:function(e){var t={},n="/api/clusters/{hugoSymbol}";n=n.replace("{hugoSymbol}",e.hugoSymbol+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchClustersByHugoSymbolGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/clusters/{hugoSymbol}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{hugoSymbol}",e.hugoSymbol+""),void 0===e.hugoSymbol?void u(new Error("Missing required  parameter: hugoSymbol")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"fetchClustersByHugoSymbolAndResidueGETURL",value:function(e){var t={},n="/api/clusters/{hugoSymbol}/{residue}";n=n.replace("{hugoSymbol}",e.hugoSymbol+""),n=n.replace("{residue}",e.residue+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchClustersByHugoSymbolAndResidueGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/clusters/{hugoSymbol}/{residue}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{hugoSymbol}",e.hugoSymbol+""),void 0===e.hugoSymbol?void u(new Error("Missing required  parameter: hugoSymbol")):(o=o.replace("{residue}",e.residue+""),void 0===e.residue?void u(new Error("Missing required  parameter: residue")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n)))}).then(function(e){return e.body})}},{key:"fetch3dHotspotMutationsPOST_1URL",value:function(e){var t={},n="/api/hotspots/3d";void 0!==e.hugoSymbols&&(t.hugoSymbols=e.hugoSymbols),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetch3dHotspotMutationsPOST_1",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/hotspots/3d",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.hugoSymbols&&(i.hugoSymbols=e.hugoSymbols),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("GET",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"fetch3dHotspotMutationsPOSTURL",value:function(e){var t={},n="/api/hotspots/3d";void 0!==e.hugoSymbols&&(t.hugoSymbols=e.hugoSymbols),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetch3dHotspotMutationsPOST",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/hotspots/3d",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.hugoSymbols&&(i.hugoSymbols=e.hugoSymbols),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("POST",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"fetch3dHotspotMutationsByGenePOSTURL",value:function(e){var t={},n="/api/hotspots/3d/byGene";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetch3dHotspotMutationsByGenePOST",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/hotspots/3d/byGene",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.hugoSymbols&&(a=e.hugoSymbols),void 0===e.hugoSymbols?void u(new Error("Missing required  parameter: hugoSymbols")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"fetch3dHotspotMutationsByGeneGETURL",value:function(e){var t={},n="/api/hotspots/3d/byGene/{hugoSymbols}";n=n.replace("{hugoSymbols}",e.hugoSymbols+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetch3dHotspotMutationsByGeneGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/hotspots/3d/byGene/{hugoSymbols}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{hugoSymbols}",e.hugoSymbols+""),void 0===e.hugoSymbols?void u(new Error("Missing required  parameter: hugoSymbols")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"fetch3dHotspotMutationsByTranscriptPOSTURL",value:function(e){var t={},n="/api/hotspots/3d/byTranscript";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetch3dHotspotMutationsByTranscriptPOST",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/hotspots/3d/byTranscript",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.transcriptIds&&(a=e.transcriptIds),void 0===e.transcriptIds?void u(new Error("Missing required  parameter: transcriptIds")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"fetch3dHotspotMutationsByTranscriptGETURL",value:function(e){var t={},n="/api/hotspots/3d/byTranscript/{transcriptIds}";n=n.replace("{transcriptIds}",e.transcriptIds+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetch3dHotspotMutationsByTranscriptGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/hotspots/3d/byTranscript/{transcriptIds}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{transcriptIds}",e.transcriptIds+""),void 0===e.transcriptIds?void u(new Error("Missing required  parameter: transcriptIds")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"fetch3dHotspotMutationsByGene_LegacyURL",value:function(e){var t={},n="/api/hotspots/3d/{hugoSymbols}";n=n.replace("{hugoSymbols}",e.hugoSymbols+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetch3dHotspotMutationsByGene_Legacy",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/hotspots/3d/{hugoSymbols}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{hugoSymbols}",e.hugoSymbols+""),void 0===e.hugoSymbols?void u(new Error("Missing required  parameter: hugoSymbols")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"fetchSingleResidueHotspotMutationsURL",value:function(e){var t={},n="/api/hotspots/single";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchSingleResidueHotspotMutations",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/hotspots/single",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("GET",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"fetchSingleResidueHotspotMutations_1URL",value:function(e){var t={},n="/api/hotspots/single";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchSingleResidueHotspotMutations_1",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/hotspots/single",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("POST",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"fetchSingleResidueHotspotMutationsByGenePOSTURL",value:function(e){var t={},n="/api/hotspots/single/byGene";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchSingleResidueHotspotMutationsByGenePOST",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/hotspots/single/byGene",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.hugoSymbols&&(a=e.hugoSymbols),void 0===e.hugoSymbols?void u(new Error("Missing required  parameter: hugoSymbols")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"fetchSingleResidueHotspotMutationsByGeneGETURL",value:function(e){var t={},n="/api/hotspots/single/byGene/{hugoSymbols}";n=n.replace("{hugoSymbols}",e.hugoSymbols+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchSingleResidueHotspotMutationsByGeneGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/hotspots/single/byGene/{hugoSymbols}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{hugoSymbols}",e.hugoSymbols+""),void 0===e.hugoSymbols?void u(new Error("Missing required  parameter: hugoSymbols")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"fetchSingleResidueHotspotMutationsByTranscriptPOSTURL",value:function(e){var t={},n="/api/hotspots/single/byTranscript";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchSingleResidueHotspotMutationsByTranscriptPOST",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/hotspots/single/byTranscript",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.transcriptIds&&(a=e.transcriptIds),void 0===e.transcriptIds?void u(new Error("Missing required  parameter: transcriptIds")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"fetchSingleResidueHotspotMutationsByTranscriptGETURL",value:function(e){var t={},n="/api/hotspots/single/byTranscript/{transcriptIds}";n=n.replace("{transcriptIds}",e.transcriptIds+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchSingleResidueHotspotMutationsByTranscriptGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/hotspots/single/byTranscript/{transcriptIds}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{transcriptIds}",e.transcriptIds+""),void 0===e.transcriptIds?void u(new Error("Missing required  parameter: transcriptIds")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"fetchMetadataURL",value:function(e){var t={},n="/api/metadata";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchMetadata",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/metadata",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("GET",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"fetchMetadata_1URL",value:function(e){var t={},n="/api/metadata";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchMetadata_1",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/metadata",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("POST",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"fetchAllVariantsGETURL",value:function(e){var t={},n="/api/variants";e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchAllVariantsGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/variants",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("GET",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"fetchVariantsPOSTURL",value:function(e){var t={},n="/api/variants";void 0!==e.hugoSymbol&&(t.hugoSymbol=e.hugoSymbol),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchVariantsPOST",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/variants",a=void 0,i={},s={},l={};return new Promise(function(c,u){s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.hugoSymbol&&(i.hugoSymbol=e.hugoSymbol),void 0!==e.aminoAcidChanges&&(a=e.aminoAcidChanges),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),r("POST",t+o,a,s,i,l,u,c,n)}).then(function(e){return e.body})}},{key:"fetchVariantsGETURL",value:function(e){var t={},n="/api/variants/{hugoSymbol}/{aminoAcidChanges}";n=n.replace("{hugoSymbol}",e.hugoSymbol+""),n=n.replace("{aminoAcidChanges}",e.aminoAcidChanges+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"fetchVariantsGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/variants/{hugoSymbol}/{aminoAcidChanges}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{hugoSymbol}",e.hugoSymbol+""),void 0===e.hugoSymbol?void u(new Error("Missing required  parameter: hugoSymbol")):(o=o.replace("{aminoAcidChanges}",e.aminoAcidChanges+""),void 0===e.aminoAcidChanges?void u(new Error("Missing required  parameter: aminoAcidChanges")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n)))}).then(function(e){return e.body})}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(648),a=r(o),i=n(426),s=new a.default((0,i.getHotspotsApiUrl)());t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(651),a=r(o),i=n(426),s=new a.default((0,i.getG2SApiUrl)());t.default=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(419),l=r(s),c=function(){function e(t){o(this,e),this.domain="",this.errorHandlers=[],t&&(this.domain=t)}return i(e,[{key:"getDomain",value:function(){return this.domain}},{key:"addErrorHandler",value:function(e){this.errorHandlers.push(e)}},{key:"request",value:function(e,t,n,r,o,i,s,c,u){var p=new l.Request(e,t).query(o);Object.keys(r).forEach(function(e){p.set(e,r[e])}),n&&p.send(n),"object"===("undefined"==typeof n?"undefined":a(n))&&"Buffer"!==n.constructor.name&&p.set("Content-Type","application/json"),Object.keys(i).length>0&&(p.type("form"),p.send(i)),p.end(function(e,t){e||!t.ok?(s(e),u.forEach(function(t){return t(e)})):c(t)})}},{key:"getPdbAlignmentBySequenceUsingGETURL",value:function(e){var t={},n="/api/alignments";void 0!==e.sequence&&(t.sequence=e.sequence),void 0!==e.paramList&&(t.paramList=e.paramList),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"getPdbAlignmentBySequenceUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/alignments",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.sequence&&(i.sequence=e.sequence),void 0===e.sequence?void u(new Error("Missing required  parameter: sequence")):(void 0!==e.paramList&&(i.paramList=e.paramList),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"getPdbAlignmentBySequenceUsingPOSTURL",value:function(e){var t={},n="/api/alignments";void 0!==e.sequence&&(t.sequence=e.sequence),void 0!==e.paramList&&(t.paramList=e.paramList),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"getPdbAlignmentBySequenceUsingPOST",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/alignments",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.sequence&&(i.sequence=e.sequence),void 0===e.sequence?void u(new Error("Missing required  parameter: sequence")):(void 0!==e.paramList&&(i.paramList=e.paramList),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"getPdbAlignmentReisudeBySequenceUsingGETURL",value:function(e){var t={},n="/api/alignments/residueMapping";void 0!==e.sequence&&(t.sequence=e.sequence),void 0!==e.positionList&&(t.positionList=e.positionList),void 0!==e.paramList&&(t.paramList=e.paramList),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"getPdbAlignmentReisudeBySequenceUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/alignments/residueMapping",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.sequence&&(i.sequence=e.sequence),void 0===e.sequence?void u(new Error("Missing required  parameter: sequence")):(void 0!==e.positionList&&(i.positionList=e.positionList),void 0!==e.paramList&&(i.paramList=e.paramList),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"getPdbAlignmentReisudeBySequenceUsingPOSTURL",value:function(e){var t={},n="/api/alignments/residueMapping";void 0!==e.sequence&&(t.sequence=e.sequence),void 0!==e.positionList&&(t.positionList=e.positionList),void 0!==e.paramList&&(t.paramList=e.paramList),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"getPdbAlignmentReisudeBySequenceUsingPOST",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/alignments/residueMapping",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.sequence&&(i.sequence=e.sequence),void 0===e.sequence?void u(new Error("Missing required  parameter: sequence")):(void 0!==e.positionList&&(i.positionList=e.positionList),void 0!==e.paramList&&(i.paramList=e.paramList),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"getAlignmentUsingGETURL",value:function(e){var t={},n="/api/alignments/{id_type}/{id}";n=n.replace("{id_type}",e.idType+""),n=n.replace("{id}",e.id+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"getAlignmentUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/alignments/{id_type}/{id}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{id_type}",e.idType+""),void 0===e.idType?void u(new Error("Missing required  parameter: idType")):(o=o.replace("{id}",e.id+""),void 0===e.id?void u(new Error("Missing required  parameter: id")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n)))}).then(function(e){return e.body})}},{key:"getAlignmentByPDBUsingGETURL",value:function(e){var t={},n="/api/alignments/{id_type}/{id}/pdb/{pdb_id}_{chain_id}";n=n.replace("{id_type}",e.idType+""),n=n.replace("{id}",e.id+""),n=n.replace("{pdb_id}",e.pdbId+""),n=n.replace("{chain_id}",e.chainId+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"getAlignmentByPDBUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/alignments/{id_type}/{id}/pdb/{pdb_id}_{chain_id}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{id_type}",e.idType+""),void 0===e.idType?void u(new Error("Missing required  parameter: idType")):(o=o.replace("{id}",e.id+""),void 0===e.id?void u(new Error("Missing required  parameter: id")):(o=o.replace("{pdb_id}",e.pdbId+""),void 0===e.pdbId?void u(new Error("Missing required  parameter: pdbId")):(o=o.replace("{chain_id}",e.chainId+""),void 0===e.chainId?void u(new Error("Missing required  parameter: chainId")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n)))))}).then(function(e){return e.body})}},{key:"postResidueMappingByPDBUsingGETURL",value:function(e){var t={},n="/api/alignments/{id_type}/{id}/pdb/{pdb_id}_{chain_id}/residueMapping";n=n.replace("{id_type}",e.idType+""),n=n.replace("{id}",e.id+""),n=n.replace("{pdb_id}",e.pdbId+""),n=n.replace("{chain_id}",e.chainId+""),void 0!==e.positionList&&(t.positionList=e.positionList),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"postResidueMappingByPDBUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/alignments/{id_type}/{id}/pdb/{pdb_id}_{chain_id}/residueMapping",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{id_type}",e.idType+""),void 0===e.idType?void u(new Error("Missing required  parameter: idType")):(o=o.replace("{id}",e.id+""),void 0===e.id?void u(new Error("Missing required  parameter: id")):(o=o.replace("{pdb_id}",e.pdbId+""),void 0===e.pdbId?void u(new Error("Missing required  parameter: pdbId")):(o=o.replace("{chain_id}",e.chainId+""),void 0===e.chainId?void u(new Error("Missing required  parameter: chainId")):(void 0!==e.positionList&&(i.positionList=e.positionList),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){
var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n)))))}).then(function(e){return e.body})}},{key:"postResidueMappingByPDBUsingPOSTURL",value:function(e){var t={},n="/api/alignments/{id_type}/{id}/pdb/{pdb_id}_{chain_id}/residueMapping";n=n.replace("{id_type}",e.idType+""),n=n.replace("{id}",e.id+""),n=n.replace("{pdb_id}",e.pdbId+""),n=n.replace("{chain_id}",e.chainId+""),void 0!==e.positionList&&(t.positionList=e.positionList),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"postResidueMappingByPDBUsingPOST",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/alignments/{id_type}/{id}/pdb/{pdb_id}_{chain_id}/residueMapping",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{id_type}",e.idType+""),void 0===e.idType?void u(new Error("Missing required  parameter: idType")):(o=o.replace("{id}",e.id+""),void 0===e.id?void u(new Error("Missing required  parameter: id")):(o=o.replace("{pdb_id}",e.pdbId+""),void 0===e.pdbId?void u(new Error("Missing required  parameter: pdbId")):(o=o.replace("{chain_id}",e.chainId+""),void 0===e.chainId?void u(new Error("Missing required  parameter: chainId")):(void 0!==e.positionList&&(i.positionList=e.positionList),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n)))))}).then(function(e){return e.body})}},{key:"postResidueMappingUsingGETURL",value:function(e){var t={},n="/api/alignments/{id_type}/{id}/residueMapping";n=n.replace("{id_type}",e.idType+""),n=n.replace("{id}",e.id+""),void 0!==e.positionList&&(t.positionList=e.positionList),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"postResidueMappingUsingGET",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/alignments/{id_type}/{id}/residueMapping",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{id_type}",e.idType+""),void 0===e.idType?void u(new Error("Missing required  parameter: idType")):(o=o.replace("{id}",e.id+""),void 0===e.id?void u(new Error("Missing required  parameter: id")):(void 0!==e.positionList&&(i.positionList=e.positionList),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n)))}).then(function(e){return e.body})}},{key:"postResidueMappingUsingPOSTURL",value:function(e){var t={},n="/api/alignments/{id_type}/{id}/residueMapping";n=n.replace("{id_type}",e.idType+""),n=n.replace("{id}",e.id+""),void 0!==e.positionList&&(t.positionList=e.positionList),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"postResidueMappingUsingPOST",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/api/alignments/{id_type}/{id}/residueMapping",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{id_type}",e.idType+""),void 0===e.idType?void u(new Error("Missing required  parameter: idType")):(o=o.replace("{id}",e.id+""),void 0===e.id?void u(new Error("Missing required  parameter: id")):(void 0!==e.positionList&&(i.positionList=e.positionList),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n)))}).then(function(e){return e.body})}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t,n,r,o){return f.default.getVariant(t,n,o).then(function(t){t&&(e[r]||(e[r]={}),e[r][n]=t)})}function i(e){var t={},n=[],r=[];if(e.forEach(function(e){if(e=e.replace(/\//g,"%2F"),!t.hasOwnProperty(e)&&(r.push(e),r.length>=400)){var o=r.join();n.push(f.default.getCivicGenesBatch(o)),r=[]}}),r.length>0){var o=r.join();n.push(f.default.getCivicGenesBatch(o))}return Promise.all(n).then(function(e){for(var n in e){var r=e[n];r.forEach(function(e){t[e.name]=e})}}).then(function(){return t})}function s(e,t){var n={},r=[];if(t){var o=new Set([]),i=!0,s=!1,l=void 0;try{for(var c,p=t[Symbol.iterator]();!(i=(c=p.next()).done);i=!0){var f=c.value,d=f.gene.hugoGeneSymbol,h=e[d],m=[f.proteinChange],y=f.proteinChange.split(/[+\/]/);m.push(y[0]);var g=!0,v=!1,b=void 0;try{for(var w,C=m[Symbol.iterator]();!(g=(w=C.next()).done);g=!0){var T=w.value;h&&h.variants[T]&&(o.has(h.variants[T])||(o.add(h.variants[T]),r.push(a(n,h.variants[T],T,d,h.id))))}}catch(e){v=!0,b=e}finally{try{!g&&C.return&&C.return()}finally{if(v)throw b}}}}catch(e){s=!0,l=e}finally{try{!i&&p.return&&p.return()}finally{if(s)throw l}}}else for(var S in e){var x=e[S],A=x.variants;if(!u.isEmpty(A))for(var k in A)"AMPLIFICATION"!=k&&"DELETION"!=k||r.push(a(n,A[k],k,S,x.id))}return Promise.all(r).then(function(){return n})}function l(e,t){return{name:e.name,description:e.description,url:e.url,variants:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.getCivicGenes=i,t.getCivicVariants=s,t.buildCivicEntry=l;var c=n(408),u=o(c),p=n(653),f=r(p)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(654),a=r(o),i=new a.default;t.default=i},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){var t={};return e.forEach(function(e){var n=e.evidence_type;t.hasOwnProperty(n)?t[n]+=1:t[n]=1}),t}function i(e){var t={};return e&&e.length>0&&e.forEach(function(e){t[e.name]=e.id}),t}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(419),c=r(l),u=function(){function e(){o(this,e)}return s(e,[{key:"getCivicGenesBatch",value:function(e){return c.get("https://civic.genome.wustl.edu/api/genes/"+e).query({identifier_type:"entrez_symbol"}).then(function(e){var t=e.body,n=void 0;return n=t instanceof Array?t:[t],n.map(function(e){return{id:e.id,name:e.name,description:e.description,url:"https://civic.genome.wustl.edu/#/events/genes/"+e.id+"/summary",variants:i(e.variants)}})})}},{key:"getVariant",value:function(e,t,n){return c.get("https://civic.genome.wustl.edu/api/variants/"+e).then(function(r){var o=r.body;return{id:e,name:t,geneId:n,description:o.description,url:"https://civic.genome.wustl.edu/#/events/genes/"+n+"/summary/variants/"+e+"/summary#variant",evidence:a(o.evidence_items)}})}}]),e}();t.default=u},function(e,t){"use strict";function n(e){return r[e]||""}Object.defineProperty(t,"__esModule",{value:!0}),t.getAlterationString=n;var r=t.Alterations=void 0;!function(e){e[e.Deletion=-2]="Deletion",e[e.Amplification=2]="Amplification"}(r||(t.Alterations=r={}))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){var t={};return e.forEach(function(e){e.keyword in t||(t[e.keyword]=[]),t[e.keyword].push(e)}),t}function i(e){var t={};return e.forEach(function(e){e.hugoGeneSymbol in t||(t[e.hugoGeneSymbol]=[]),t[e.hugoGeneSymbol].push(e)}),t}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hotspot",n={};return e.forEach(function(e){var r=e.hugoSymbol.toUpperCase(),o=n[r];o||(o=n[r]={});var a=e.type||t,i=o[a];i||(i={hotspotMutations:[],hotspotSet:new m.default([])},o[a]=i),i.hotspotMutations.push(e)}),l(n),n}function l(e){d.keys(e).forEach(function(t){var n=e[t];d.keys(n).forEach(function(e){var t=n[e],r=t.hotspotMutations.map(function(e){var t=e.residue.match(/[0-9]+/g)||[],n=-1,r=-1;return t.length>0&&(n=parseInt(t[0]),r=n),t.length>1&&(r=parseInt(t[1])),[n,r]});t.hotspotSet=new m.default(r)})})}function c(e,t){var n=!1,r=null,o=e.mutationType&&e.mutationType.toLowerCase();if(o&&(o.indexOf("missense")>-1?r="single residue":(o.indexOf("inframe")>-1||o.indexOf("in_frame")>-1||o.indexOf("in frame")>-1)&&(r="in-frame indel")),r){var a=e.gene&&e.gene.hugoGeneSymbol,i=t[a];if(i){var s=i[r];s&&(n=p(e,s.hotspotSet))}}return n}function u(e,t){var n=!1,r=e.mutationType&&e.mutationType.toLowerCase();if(r&&r.indexOf("missense")>-1){var o=e.gene&&e.gene.hugoGeneSymbol,a=t[o];a&&d.values(a).forEach(function(t){n=p(e,t.hotspotSet)})}return n}function p(e,t){var n=!1,r=e.proteinPosStart;if(r>=0){var o=e.proteinPosEnd>=r?e.proteinPosEnd:void 0;n=t.check(r,o)}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.keywordToCosmic=a,t.geneToMyCancerGenome=i,t.indexHotspots=s,t.initHotspotSets=l,t.isHotspot=c,t.is3dHotspot=u;var f=n(408),d=o(f),h=n(657),m=r(h)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){if(0===e.length)return[];e.sort(function(e,t){return e[0]<t[0]?-1:1});for(var t=[],n=[e[0][0],e[0][1]],r=void 0,o=1;o<=e.length;)o===e.length?t.push(n):(r=e[o],r[0]>n[1]?(t.push(n),n=[e[o][0],e[o][1]]):n[1]=Math.max(n[1],r[1])),o++;return t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){n(this,e),this.regions=t?r(t):[]}return o(e,[{key:"check",value:function(e,t){"undefined"==typeof t&&(t=e);for(var n=this.regions,r=0,o=n.length,a=void 0,i=void 0,s=!1;r<o;)if(a=Math.floor((r+o)/2),i=n[a],i[0]>t)o=a;else{if(!(i[1]<e)){s=!0;break}r=a+1}return s}},{key:"add",value:function(e,t){this.regions.push([e,t]),this.regions=r(this.regions)}},{key:"_getHotspotRegions",value:function(){return this.regions}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){var n={pdbInfo:e.title};return m.find(e.compound,function(e){if(e.molecule&&m.indexOf(e.chain,t.toLowerCase())!==-1)return n.moleculeInfo=e.molecule,e}),n}function a(e){return s(e)}function i(e){var t=[];return m.each(e,function(e){m.each(e,function(e){var n=l(e);n&&t.push(n)})}),t}function s(e){var t={};return e.forEach(function(e){t[e.pdbId]||(t[e.pdbId]={}),t[e.pdbId][e.chain]||(t[e.pdbId][e.chain]=[]),t[e.pdbId][e.chain].push(e)}),t}function l(e){var t="",n=void 0;if(e.length>0)return n=e[0].seqFrom,e.forEach(function(e){var r=u(e)||"",o=Math.abs(e.seqFrom-n);if(e.seqFrom<n){var a=Math.abs(r.length-o);t=r.length>=o?r+t.substr(a):r+c(a)+t}else if(e.seqFrom>=n){var i=Math.abs(t.length-o);t=t.length>=o?t.substr(0,t.length-i)+r+t.substr(t.length-i+r.length):t+c(i)+r}n=Math.min(n,e.seqFrom)}),{pdbId:e[0].pdbId,chain:e[0].chain,uniprotStart:n,uniprotEnd:n+t.length-1,alignment:t,identityPerc:p(t),identity:f(t)}}function c(e){for(var t=[],n=0;n<e;n++)t.push(y.ALIGNMENT_GAP);return t.join("")}function u(e){var t=void 0,n=e.midlineAlign,r=e.seqAlign,o=e.pdbAlign;if(n.length===r.length&&n.length===o.length){for(var a=[],i=0;i<n.length;i++)"-"!==r[i]&&("-"===o[i]?a.push("-"):a.push(n[i]));t=a.join("")}return t}function p(e){for(var t=0,n=0,r=0;r<e.length;r++){var o=e[r];o===y.ALIGNMENT_GAP?t++:o!=y.ALIGNMENT_MINUS&&o!=y.ALIGNMENT_PLUS&&o!=y.ALIGNMENT_SPACE||n++}return 1-n/(e.length-t)}function f(e){e=e.toLowerCase();for(var t=0,n=0;n<e.length;n++)e[n].match(/[a-z]/)&&t++;return t}function d(e,t){for(var n=[0,0,0,0],r=t?-1:1,o=0;o<e.length||o<5;o++)n.push(r*e.charCodeAt(o));return n}Object.defineProperty(t,"__esModule",{value:!0}),t.generatePdbInfoSummary=o,t.indexPdbAlignments=a,t.mergeIndexedPdbAlignments=i,t.mergeAlignments=l,t.generateAlignmentString=u,t.calcPdbIdNumericalValue=d;var h=n(408),m=r(h),y=n(659)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ALIGNMENT_GAP="*",t.ALIGNMENT_PLUS="+",t.ALIGNMENT_MINUS="-",t.ALIGNMENT_SPACE=" "},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.MOLECULAR_PROFILE_MUTATIONS_SUFFIX="_mutations";t.MOLECULAR_PROFILE_UNCALLED_MUTATIONS_SUFFIX=n+"_uncalled",t.MUTATION_STATUS_GERMLINE="Germline"},function(e,t){e.exports=[{hugoGeneSymbol:"CRLF2",alteration:"F232C",cancerType:"Acute Lymphoblastic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-lymphoblastic-leukemia/crlf2/199/">CRLF2 c.695T>G (F232C) Mutation in Acute Lymphoblastic Leukemia</a>'},{hugoGeneSymbol:"CRLF2",alteration:"Fusions",cancerType:"Acute Lymphoblastic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-lymphoblastic-leukemia/crlf2/208/">CRLF2 Fusions in Acute Lymphoblastic Leukemia</a>'},{hugoGeneSymbol:"JAK2",alteration:"R683G",cancerType:"Acute Lymphoblastic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-lymphoblastic-leukemia/jak2/200/">JAK2 c.2047A>G (R683G) Mutation in Acute Lymphoblastic Leukemia</a>'},{hugoGeneSymbol:"JAK2",alteration:"R683S",cancerType:"Acute Lymphoblastic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-lymphoblastic-leukemia/jak2/201/">JAK2 c.2049A>T (R683S) Mutation in Acute Lymphoblastic Leukemia</a>'},{hugoGeneSymbol:"JAK2",alteration:"R683S",cancerType:"Acute Lymphoblastic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-lymphoblastic-leukemia/jak2/202/">JAK2 c.2049A>C (R683S) Mutation in Acute Lymphoblastic Leukemia</a>'},{hugoGeneSymbol:"JAK2",alteration:"R683T",cancerType:"Acute Lymphoblastic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-lymphoblastic-leukemia/jak2/203/">JAK2 c.2048G>C (R683T) Mutation in Acute Lymphoblastic Leukemia</a>'},{hugoGeneSymbol:"CBFB-MYH11",alteration:"t(16;16)(p13.1;q22) Translocation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/cbfb-myh11/252/">CBFB-MYH11 t(16;16)(p13.1;q22) Translocation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"CBFB-MYH11",alteration:"inv(16)(p13.1q22) Inversion",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/cbfb-myh11/258/">CBFB-MYH11 inv(16)(p13.1q22) Inversion in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"DEK-NUP214",alteration:"t(6;9)(p23;q34) Translocation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/dek-nup214/255/">DEK-NUP214 t(6;9)(p23;q34) Translocation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"DNMT3A",alteration:"R882C",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/dnmt3a/291/">DNMT3A c.2644C>T (R882C) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"DNMT3A",alteration:"R882S",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/dnmt3a/292/">DNMT3A c.2644C>A (R882S) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"DNMT3A",alteration:"R882H",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/dnmt3a/293/">DNMT3A c.2645G>A (R882H) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"DNMT3A",alteration:"R882P",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/dnmt3a/294/">DNMT3A c.2645G>C (R882P) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"DNMT3A",alteration:"R882G",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/dnmt3a/295/">DNMT3A c.2644C>G (R882G) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"DNMT3A",alteration:"R882L",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/dnmt3a/296/">DNMT3A c.2645G>T (R882L) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"Internal Tandem Duplication",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/277/">FLT3 Internal Tandem Duplication in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"D835H",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/278/">FLT3 c.2503G>C (D835H) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"D835N",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/279/">FLT3 c.2503G>A (D835N) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"D835Y",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/280/">FLT3 c.2503G>T (D835Y) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"D835A",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/281/">FLT3 c. 2504A>C (D835A) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"D835V",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/282/">FLT3 c.2504A>T (D835V) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"D835E",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/283/">FLT3 c.2505T>G (D835E) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"I836L",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/284/">FLT3 c.2506A>C (I836L) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"I836V",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/285/">FLT3 c.2506A>G (I836V) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"I836D",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/286/">FLT3 c.2506_2507delATinsGA (I836D) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"I836H",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/287/">FLT3 c.2506_2507delATinsCA (I836H) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"D835E",cancerType:"Acute Myeloid Leukemia ",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/288/">FLT3 c.2505T>A (D835E) Mutation in Acute Myeloid Leukemia </a>'},{hugoGeneSymbol:"FLT3",alteration:"I836F",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/289/">FLT3 c.2506A>T (I836F) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"I836M",cancerType:"Acute Myeloid Leukemia ",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/290/">FLT3 c.2508C>G (I836M) Mutation in Acute Myeloid Leukemia </a>'},{hugoGeneSymbol:"IDH1",alteration:"R132C",cancerType:"Acute Myeloid Leukemia ",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh1/260/">IDH1 c.394C>T (R132C) Mutation in Acute Myeloid Leukemia </a>'},{hugoGeneSymbol:"IDH1",alteration:"R132G",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh1/261/">IDH1 c.394C>G (R132G) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132S",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh1/262/">IDH1 c.394C>A (R132S) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132H",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh1/263/">IDH1 c.395G>A (R132H) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132L",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh1/264/">IDH1 c.395G>T (R132L) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132P",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh1/265/">IDH1 c.395G>C (R132P) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH2",alteration:"R140Q",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh2/266/">IDH2 c.419G>A (R140Q) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH2",alteration:"R140W",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh2/267/">IDH2 c.418C>T (R140W) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH2",alteration:"R140L",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh2/268/">IDH2 c.419G>T (R140L) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH2",alteration:"R140G",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh2/269/">IDH2 c.418C>G (R140G) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172K",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh2/270/">IDH2 c.515G>A (R172K) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172M",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh2/271/">IDH2 c.515G>T (R172M) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172S",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh2/272/">IDH2 c.516G>C (R172S) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"KIT",alteration:"Exon 8 Mutation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/kit/273/">KIT Exon 8 Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"KIT",alteration:"D816Y",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/kit/274/">KIT c.2446G>T (D816Y) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"KIT",alteration:"D816V",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/kit/275/">KIT c.2447A>T (D816V) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"KIT",alteration:"D816I",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/kit/276/">KIT c.2446_2447delGAinsAT (D816I) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"KIT",alteration:"D816H",cancerType:"Acute Myeloid Leukemia ",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/kit/84/">KIT c.2446G>C (D816H) Mutation in Acute Myeloid Leukemia </a>'},{hugoGeneSymbol:"MLL-MLLT3",alteration:"t(9;11)(p22;q23) Translocation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/mll-mllt3/254/">MLL-MLLT3 t(9;11)(p22;q23) Translocation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"PML-RARA",alteration:"t(15;17)(q22;q12) Translocation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/pml-rara/253/">PML-RARA t(15;17)(q22;q12) Translocation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"RBM15-MKL1",alteration:"t(1;22)(p13;q13) Translocation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/rbm15-mkl1/257/">RBM15-MKL1 t(1;22)(p13;q13) Translocation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"RPN1-EVI1",alteration:"(RPN1-MECOM) inv(3)(q21q26.2) Inversion",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/rpn1-evi1/256/">RPN1-EVI1 (RPN1-MECOM) inv(3)(q21q26.2) Inversion in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"RPN1-EVI1",alteration:"(RPN1-MECOM) t(3;3)(q21;q26.2) Translocation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/rpn1-evi1/259/">RPN1-EVI1 (RPN1-MECOM) t(3;3)(q21;q26.2) Translocation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"RUNX1-RUNX1T1",alteration:"t(8;21)(q22;q22) Translocation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/runx1-runx1t1/251/">RUNX1-RUNX1T1 t(8;21)(q22;q22) Translocation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"ALK",alteration:"Fusions",cancerType:"Anaplastic Large Cell Lymphoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/anaplastic-large-cell-lymphoma/alk/66/">ALK Fusions in Anaplastic Large Cell Lymphoma</a>'},{hugoGeneSymbol:"SMO",alteration:"D473H",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/163/">SMO c.1417G>C (D473H) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"A68V",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/164/">SMO c.203_204delCCinsTT (A68V) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"R199W",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/165/">SMO c.595C>T (R199W) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"T349I",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/166/">SMO c.1046_1047delCCinsTT (T349I) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"R485W",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/167/">SMO c.1452_1453delCCinsTT (R485W) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"L515F",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/168/">SMO c.1542_1543delCCinsTT (L515F) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"W535L",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/169/">SMO c.1604G>T (W535L) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"R562Q",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/170/">SMO c.1685G>A (R562Q) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"A652V",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/171/">SMO c.1955C>T (A652V) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"P755F",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/172/">SMO c.2263_2264delCCinsTT (P755F) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"TSC1",alteration:"E636fs",cancerType:"Bladder Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/bladder-cancer/tsc1/237/">TSC1 c.1907_1908del (E636fs) Mutation in Bladder Cancer</a>'},{hugoGeneSymbol:"AKT1",alteration:"E17K",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/akt1/23/">AKT1 c.49G>A (E17K) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"AR",alteration:"Expression",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/ar/311/">AR Expression in Breast Cancer</a>'},{hugoGeneSymbol:"ESR1",alteration:"Expression",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/esr1/248/">ER (ESR1) Expression in Breast Cancer</a>'},{hugoGeneSymbol:"FGFR1",alteration:"Amplification",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/fgfr1/58/">FGFR1 Amplification in Breast Cancer</a>'},{hugoGeneSymbol:"FGFR2",alteration:"Amplification",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/fgfr2/309/">FGFR2 Amplification in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"Amplification",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/119/">HER2 (ERBB2) Amplification in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"Overexpression",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/238/">HER2 (ERBB2) Overexpression in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"G309A",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/239/">HER2 (ERBB2) c.926G>C (G309A) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"D769H",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/240/">HER2 (ERBB2) c.2305G>C (D769H) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"D769Y",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/241/">HER2 (ERBB2) c.2305G>T (D769Y) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"L755_T759del",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/242/">HER2 (ERBB2) c.2264_2278del (L755_T759del) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"G778_P780dup",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/243/">HER2 (ERBB2) c.2339_2340ins (G778_P780dup) Mutation in Breast Cancer</a>'
},{hugoGeneSymbol:"ERBB2",alteration:"V842I",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/244/">HER2 (ERBB2) c.2524G>A (V842I) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"R896C",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/245/">HER2 (ERBB2) c.2686C>T (R896C) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"L755S",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/246/">HER2 (ERBB2) c.2264T>C (L755S) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"V777L",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/247/">HER2 (ERBB2) c.2329G>T (V777L) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047L",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/10/">PIK3CA c.3140A>T (H1047L) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047R",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/11/">PIK3CA  c.3140A>G (H1047R) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545G",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/13/">PIK3CA c.1634A>G (E545G) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545V",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/14/">PIK3CA c.1634A>T (E545V) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546E",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/15/">PIK3CA c.1636C>G (Q546E) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546K",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/16/">PIK3CA c.1636C>A (Q546K) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546L",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/17/">PIK3CA c.1637A>T (Q546L) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546P",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/18/">PIK3CA c.1637A>C (Q546P) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546R",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/19/">PIK3CA c.1637A>G (Q546R) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"D549N",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/20/">PIK3CA c.1645G>A (D549N) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E542K",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/7/">PIK3CA c.1624G>A (E542K) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545K",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/8/">PIK3CA c.1633G>A (E545K) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545Q",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/9/">PIK3CA c.1633G>C (E545Q) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PGR",alteration:"Expression",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pgr/249/">PR (PGR) Expression in Breast Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R159Ss",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pten/24/">PTEN c.477G>T (R159S) Mutations in Breast Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R233*",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pten/25/">PTEN c.697C>T (R233*) Mutations in Breast Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"K267fs",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pten/26/">PTEN c.800delA (K267fs*9) Mutations in Breast Cancer</a>'},{hugoGeneSymbol:"BIRC3",alteration:"Truncating Mutations",cancerType:"Chronic Lymphocytic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-lymphocytic-leukemia/birc3/342/">BIRC3 Truncating Mutations in Chronic Lymphocytic Leukemia</a>'},{hugoGeneSymbol:"NOTCH1",alteration:"P2514fs",cancerType:"Chronic Lymphocytic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-lymphocytic-leukemia/notch1/344/">NOTCH1 c.7541_7542delCT (P2514fs) Mutation in Chronic Lymphocytic Leukemia</a>'},{hugoGeneSymbol:"NOTCH1",alteration:"Truncating Mutations",cancerType:"Chronic Lymphocytic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-lymphocytic-leukemia/notch1/345/">NOTCH1 Truncating Mutations in Chronic Lymphocytic Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"Fusions",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/219/">BCR-ABL1 Fusions in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F359V",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/221/">BCR-ABL1 c.1075T>G (F359V) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F359I",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/222/">BCR-ABL1 c.1075T>A (F359I) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F359C",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/223/">BCR-ABL1 c.1076T>G (F359C) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"E255V",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/224/">BCR-ABL1 c.764A>T (E255V) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F317V",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/225/">BCR-ABL1 c.949T>G (F317V) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F317L",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/226/">BCR-ABL1 c.951C>G (F317L) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F317L",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/227/">BCR-ABL1 c.949T>C (F317L) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F317L",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/228/">BCR-ABL1 c.951C>A (F317L) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F317I",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/229/">BCR-ABL1 c.949T>A (F317I) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F317C",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/230/">BCR-ABL1 c.950T>G (F317C) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"T315I",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/231/">BCR-ABL1 c.944C>T (T315I) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"T315A",cancerType:"Chronic Myeloid Leukemia ",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/232/">BCR-ABL1 c.943A>G (T315A) Mutation in Chronic Myeloid Leukemia </a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"V299L",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/233/">BCR-ABL1 c.895G>T (V299L) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"V299L",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/234/">BCR-ABL1 c.895G>C (V299L) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"E255K",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/235/">BCR-ABL1 c.763G>A (E255K) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"Y253H",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/236/">BCR-ABL1 c.757T>C (Y253H) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"AKT1",alteration:"E17K",cancerType:"Colorectal Cancer ",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/akt1/23/">AKT1 c.49G>A (E17K) Mutation in Colorectal Cancer </a>'},{hugoGeneSymbol:"BRAF",alteration:"G469E",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/146/">BRAF c.1406G>A (G469E) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"G469V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/147/">BRAF c.1406G>T (G469V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594G",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/148/">BRAF c.1781A>G (D594G) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/149/">BRAF c.1781A>T (D594V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"G596R",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/150/">BRAF c.1786G>C (G596R) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/54/">BRAF c.1799T>A (V600E) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"G466V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/70/">BRAF c.1397G>T (G466V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"G469A",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/71/">BRAF c.1406G>C (G469A) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/159/">KRAS c.38G>T (G13V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"K117N",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/160/">KRAS c.351A>C (K117N) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"K117N",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/161/">KRAS c.351A>T (K117N) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"A146P",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/27/">KRAS c.436G>C (A146P) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"A146T",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/28/">KRAS c.436G>A (A146T) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"A146V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/29/">KRAS c.437C>T (A146V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61H",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/30/">KRAS c.183A>C (Q61H) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61P",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/308/">KRAS c.182A>C (Q61P) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61H",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/31/">KRAS c.183A>T (Q61H) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12A",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/32/">KRAS c.35G>C (G12A) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12C",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/33/">KRAS c.34G>T (G12C) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12D",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/34/">KRAS c.35G>A (G12D) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12R",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/35/">KRAS c.34G>C (G12R) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12S",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/36/">KRAS c.34G>A (G12S) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/37/">KRAS c.35G>T (G12V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13C",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/38/">KRAS c.37G>T (G13C) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13D",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/39/">KRAS c.38G>A (G13D) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13R",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/40/">KRAS c.37G>C (G13R) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61K",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/41/">KRAS c.181C>A (Q61K) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61L",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/42/">KRAS c.182A>T (Q61L) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61R",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/43/">KRAS c.182A>G (Q61R) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13A",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/68/">KRAS c.38G>C (G13A) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13S",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/69/">KRAS c.37G>A (G13S) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61K",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/nras/75/">NRAS c.181C>A (Q61K) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61R",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/nras/77/">NRAS c.182A>G (Q61R) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12A",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/nras/85/">NRAS c.35G>C (G12A) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12C",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/nras/86/">NRAS c.34G>T (G12C) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12D",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/nras/87/">NRAS c.35G>A (G12D) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12S",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/nras/89/">NRAS c.34G>A (G12S) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/nras/90/">NRAS c.35G>T (G12V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047L",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/10/">PIK3CA c.3140A>T (H1047L) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047R",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/11/">PIK3CA c.3140A>G (H1047R) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545G",cancerType:"Coloretal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/13/">PIK3CA c.1634A>G (E545G) Mutation in Coloretal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/14/">PIK3CA c.1634A>T (E545V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546E",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/15/">PIK3CA c.1636C>G (Q546E) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546K",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/16/">PIK3CA c.1636C>A (Q546K) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546L",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/17/">PIK3CA c.1637A>T (Q546L) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546P",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/18/">PIK3CA c.1637A>C (Q546P) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546R",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/19/">PIK3CA c.1637A>G (Q546R) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"D549N",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/20/">PIK3CA c.1645G>A (D549N) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E542K",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/7/">PIK3CA c.1624G>A (E542K) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545K",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/8/">PIK3CA c.1633G>A (E545K) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545Q",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/9/">PIK3CA c.1633G>C (E545Q) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R159Ss",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pten/24/">PTEN c.477G>T (R159S) Mutations in Colorectal Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R233*",cancerType:"Colorectal Cancer ",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pten/25/">PTEN c.697C>T (R233*) Mutations in Colorectal Cancer </a>'},{hugoGeneSymbol:"PTEN",alteration:"K267fs",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pten/26/">PTEN c.800delA (K267fs*9) Mutations in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"E330A",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/151/">SMAD4 c.989A>C (E330A) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"D351H",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/152/">SMAD4 c.1051G>C (D351H) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"D537Y",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/153/">SMAD4 c.1609G>T (D537Y) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"D351N",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/154/">SMAD4 c.1051G>A (D351N) mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"D355E",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/155/">SMAD4 c.1065C>A (D355E) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"R361S",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/156/">SMAD4 c.1081C>A (R361S) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"R361C",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/157/">SMAD4 c.1081C>T (R361C) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"R361H",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/158/">SMAD4 c.1082G>A (R361H) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"Amplification",cancerType:"Gastric Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/gastric-cancer/erbb2/119/">HER2 (ERBB2) Amplification in Gastric Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/braf/54/">BRAF c.1799T>A (V600E) mutation in GIST</a>'},{hugoGeneSymbol:"KIT",alteration:"Exon 9 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/kit/46/">KIT Exon 9 Mutation in GIST</a>'},{hugoGeneSymbol:"KIT",alteration:"Exon 11 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/kit/47/">KIT Exon 11 Mutation in GIST</a>'},{hugoGeneSymbol:"KIT",alteration:"Exon 13 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/kit/49/">KIT Exon 13 Mutation in GIST</a>'},{hugoGeneSymbol:"KIT",alteration:"Exon 14 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/kit/50/">KIT Exon 14 Mutation in GIST</a>'},{hugoGeneSymbol:"KIT",alteration:"Exon 17 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/kit/52/">KIT Exon 17 Mutation in GIST</a>'},{hugoGeneSymbol:"PDGFRA",alteration:"Exon 18 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/pdgfra/45/">PDGFRA Exon 18 Mutation in GIST (D842V)</a>'},{hugoGeneSymbol:"PDGFRA",alteration:"Exon 12 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/pdgfra/48/">PDGFRA Exon 12 Mutation in GIST</a>'},{hugoGeneSymbol:"PDGFRA",alteration:"Exon 14 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/pdgfra/51/">PDGFRA Exon 14 Mutation in GIST</a>'},{hugoGeneSymbol:"PDGFRA",alteration:"Exon 18 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/pdgfra/53/">PDGFRA Exon 18 Mutation in GIST</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/braf/54/">BRAF c.1799T>A (V600E) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132C",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh1/260/">IDH1 c.394C>T (R132C) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132G",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh1/261/">IDH1 c.394C>G (R132G) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132S",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh1/262/">IDH1 c.394C>A (R132S) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132H",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh1/263/">IDH1 c.395G>A (R132H) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132L",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh1/264/">IDH1 c.395G>T (R132L) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172K",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh2/270/">IDH2 c.515G>A (R172K) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172M",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh2/271/">IDH2 c.515G>T (R172M) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172S",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh2/272/">IDH2 c.516G>C (R172S) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172G",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh2/317/">IDH2 c.514A>G (R172G) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172W",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh2/318/">IDH2 c.514A>T (R172W) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172S",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh2/319/">IDH2 c.516G>T (R172S) Mutation in Glioma</a>'},{hugoGeneSymbol:"ALK",alteration:"Fusions",cancerType:"Inflammatory Myofibroblastic Tumor",linkHTML:'<a href="http://mycancergenome.org/content/disease/inflammatory-myofibroblastic-tumor/alk/66/">ALK Fusions in Inflammatory Myofibroblastic Tumor</a>'},{hugoGeneSymbol:"AKT1",alteration:"E17Ks",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/akt1/23/">AKT1 c.49G>A (E17K) Mutations in Non-Small Cell Lung Cancer (NSCLC)</a>'},{hugoGeneSymbol:"ALK",alteration:"Fusions",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/alk/66/">ALK Fusions in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"Y472C",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/braf/209/">BRAF c.1415A>G (Y472C) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"G469L",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/braf/310/">BRAF c.1405_1406delGGinsTT (G469L) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/braf/54/">BRAF c.1799T>A (V600E) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"G466V",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/braf/70/">BRAF c.1397G>T (G466V) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"G469A",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/braf/71/">BRAF c.1406G>C (G469A) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"L597V",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/braf/73/">BRAF c.1789C>G (L597V) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"DDR2",alteration:"S768R",cancerType:"Squamous Cell Carcinoma of the Lung",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/ddr2/78/">DDR2 c.2304T>A (S768R) Mutation in Squamous Cell Carcinoma of the Lung</a>'},{hugoGeneSymbol:"EGFR",alteration:"G719As",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/1/">EGFR c.2156G>C (G719A) Mutations in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"Exon 19 Insertion",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/135/">EGFR Exon 19 Insertion in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"G719Cs",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/2/">EGFR c.2155G>T (G719C) Mutations in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"Exon 19 Deletion",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/21/">EGFR Exon 19 Deletion in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"G719Ss",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/3/">EGFR c.2155G>A (G719S) Mutations in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"A763_Y764insFQEA",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/312/">EGFR c.2290_2291ins (A763_Y764insFQEA) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"Status Unknown",cancerType:"Non-Small Cell Lung cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/313/">EGFR Status Unknown in Non-Small Cell Lung cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"exon 18–25 Kinase Domain Duplication (EGFR-KDD)",
cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/339/">EGFR exon 18–25 Kinase Domain Duplication (EGFR-KDD) in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"T790M",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/4/">EGFR c.2369C>T (T790M) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"L858R",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/5/">EGFR c.2573T>G (L858R) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"L861Q",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/6/">EGFR c.2582T>A (L861Q) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"Exon 20 Insertion",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/64/">EGFR Exon 20 Insertion in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"FGFR1",alteration:"Amplification",cancerType:"Squamous Cell Carcinoma of the Lung",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/fgfr1/58/">FGFR1 Amplification in SCC of the Lung</a>'},{hugoGeneSymbol:"FGFR3",alteration:"Fusions",cancerType:"Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/fgfr3/341/">FGFR3 Fusions in Lung Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"ERBB2 Exon 20 Insertion",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/erbb2/65/">HER2 (ERBB2) Exon 20 Insertion in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61H",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/30/">KRAS c.183A>C (Q61H) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61H",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/31/">KRAS c.183A>T (Q61H) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12A",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/32/">KRAS c.35G>C (G12A) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12C",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/33/">KRAS c.34G>T (G12C) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12D",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/34/">KRAS c.35G>A (G12D) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12R",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/35/">KRAS c.34G>C (G12R) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12S",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/36/">KRAS c.34G>A (G12S) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12V",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/37/">KRAS c.35G>T (G12V) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13C",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/38/">KRAS c.37G>T (G13C) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13D",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/39/">KRAS c.38G>A (G13D) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13R",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/40/">KRAS c.37G>C (G13R) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61K",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/41/">KRAS c.181C>A (Q61K) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61L",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/42/">KRAS c.182A>T (Q61L) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61R",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/43/">KRAS c.182A>G (Q61R) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13A",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/68/">KRAS c.38G>C (G13A) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13S",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/69/">KRAS c.37G>A (G13S) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"D67Ns",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/map2k1/60/">MEK1 (MAP2K1) c.199G>A (D67N) Mutations in Non-Small Cell Lung Cancer (NSCLC)</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"K57Ns",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/map2k1/72/">MEK1 (MAP2K1) c.171G>T (K57N) Mutations in Non-Small Cell Lung Cancer (NSCLC)</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"Q56P",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/map2k1/74/">MEK1 (MAP2K1) c.167A>C (Q56P) Mutation in Non-Small Cell Lung Cancer (NSCLC)</a>'},{hugoGeneSymbol:"MET",alteration:"Exon 14 Skipping Mutations",cancerType:"Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/met/343/">MET Exon 14 Skipping Mutations in Lung Cancer</a>'},{hugoGeneSymbol:"MET",alteration:"Amplification",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/met/59/">MET Amplification in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61K",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/75/">NRAS c.181C>A (Q61K) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61L",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/76/">NRAS c.182A>T (Q61L) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61R",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/77/">NRAS c.182A>G (Q61R) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61H",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/80/">NRAS c.183A>C (Q61H) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61H",cancerType:"Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/81/">NRAS c.183A>T (Q61H) Mutation in Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12A",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/85/">NRAS c.35G>C (G12A) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12C",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/86/">NRAS c.34G>T (G12C) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12D",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/87/">NRAS c.35G>A (G12D) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12R",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/88/">NRAS c.34G>C (G12R) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12S",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/89/">NRAS c.34G>A (G12S) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NTRK1",alteration:"Fusions",cancerType:"Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/ntrk1/315/">NTRK1 (TRKA) Fusions in Lung Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047L",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/pik3ca/10/">PIK3CA  c.3140A>T (H1047L) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047R",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/pik3ca/11/">PIK3CA c.3140A>G (H1047R) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E542K",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/pik3ca/7/">PIK3CA c.1624G>A (E542K) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545K",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/pik3ca/8/">PIK3CA c.1633G>A (E545K) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545Q",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/pik3ca/9/">PIK3CA c.1633G>C (E545Q) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R233*",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/pten/25/">PTEN c.697C>T  (R233*) Mutations in Non-Small Cell Lung Cancer (NSCLC)</a>'},{hugoGeneSymbol:"RET",alteration:"Fusions",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/ret/127/">RET Fusions in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"RICTOR",alteration:"Amplification",cancerType:"Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/rictor/340/">RICTOR Amplification in Lung Cancer</a>'},{hugoGeneSymbol:"ROS1",alteration:"Fusions",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/ros1/67/">ROS1 Fusions in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"SMO",alteration:"D473H",cancerType:"Medulloblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/medulloblastoma/smo/163/">SMO c.1417G>C (D473H) Mutation in Medulloblastoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/111/">BRAF c.1799_1800delTGinsAA (V600E) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600D",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/114/">BRAF c.1799_1800delTGinsAT (V600D) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600G",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/115/">BRAF c.1799T>G (V600G) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600K",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/116/">BRAF c.1798_1799delGTinsAA (V600K) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600M",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/117/">BRAF c.1798G>A (V600M) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/118/">BRAF c.1798_1799delGTinsAG (V600R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"L597R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/138/">BRAF c.1790T>G (L597R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594G",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/148/">BRAF c.1781A>G (D594G) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594V",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/149/">BRAF c.1781A>T (D594V) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"L597Q",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/188/">BRAF c.1790T>A (L597Q) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"L597S",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/189/">BRAF c.1789_1790delCTinsTC (L597S) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"K601E",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/190/">BRAF c.1801A>G (K601E) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594N",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/298/">BRAF c.1780G>A (D594N) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594N",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/299/">BRAF c.1779_1780delTGinsGA (D594N) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594H",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/300/">BRAF c.1780G>C (D594H) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594E",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/301/">BRAF c.1782T>A (D594E) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594E",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/302/">BRAF c.1782T>G (D594E) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"Fusions",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/334/">BRAF Fusions in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/54/">BRAF c.1799T>A (V600E) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"L597V",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/73/">BRAF c.1789C>G (L597V) Mutation in Melanoma</a>'},{hugoGeneSymbol:"CTNNB1",alteration:"S37F",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/ctnnb1/104/">CTNNB1(beta-catenin) c.110C>T (S37F) Mutation in Melanoma</a>'},{hugoGeneSymbol:"CTNNB1",alteration:"S37Y",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/ctnnb1/105/">CTNNB1 (beta-catenin) c.110C>A (S37Y) Mutation in Melanoma</a>'},{hugoGeneSymbol:"CTNNB1",alteration:"S45F",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/ctnnb1/106/">CTNNB1 (beta-catenin) c.134C>T (S45F) Mutation in Melanoma</a>'},{hugoGeneSymbol:"CTNNB1",alteration:"S45P",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/ctnnb1/107/">CTNNB1 (beta-catenin) c.133T>C (S45P) Mutation in Melanoma</a>'},{hugoGeneSymbol:"CTNNB1",alteration:"S45Y",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/ctnnb1/108/">CTNNB1 (beta-catenin) c.134C>A (S45Y) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNA11",alteration:"Q209P",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gna11/101/">GNA11 c.626A>C (Q209P) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNA11",alteration:"R183C",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gna11/335/">GNA11 c.546_547delCCinsTT (R183C) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNA11",alteration:"R183C",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gna11/336/">GNA11 c.547C>T (R183C) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNA11",alteration:"Q209L",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gna11/99/">GNA11 c.626A>T (Q209L) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNAQ",alteration:"Q209L",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gnaq/100/">GNAQ c.626A>T (Q209L) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNAQ",alteration:"Q209P",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gnaq/102/">GNAQ c.626A>C (Q209P) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNAQ",alteration:"Q209R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gnaq/103/">GNAQ c.626A>G (Q209R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNAQ",alteration:"R183Q",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gnaq/337/">GNAQ c.548G>A (R183Q) Mutation in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"W557R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/109/">KIT c.1669T>A (W557R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"W557R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/110/">KIT c.1669T>C (W557R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"V559A",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/112/">KIT c.1676T>C (V559A) Mutation in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"V559D",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/113/">KIT c.1676T>A (V559D) Mutation in Melanoma</a>'},{hugoGeneSymbol:"Other",alteration:"KIT mutations",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/132/">Other KIT mutations in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"Amplification",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/338/">KIT Amplification in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"D816H",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/84/">KIT c.2446G>C (D816H) Mutation in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"K642E",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/95/">KIT c.1924A>G (K642E) Mutation in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"L576P",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/96/">KIT c.1727T>C (L576P) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"F53L",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/210/">MEK1 (MAP2K1) c.157T>C (F53L) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"I111S",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/211/">MEK1 (MAP2K1) c.332T>G (I111S) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"C121S",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/212/">MEK1 (MAP2K1) c.362G>C (C121S) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"P124L",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/213/">MEK1 (MAP2K1) c.371C>T (P124L) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"P124S",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/214/">MEK1 (MAP2K1) c.370C>T (P124S) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"E203K",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/215/">MEK1 (MAP2K1) c.607G>A (E203K) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"P264S",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/216/">MEK1 (MAP2K1) c.790C>T (P264S) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"N382H",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/217/">MEK1 (MAP2K1) c.1144A>C (N382H) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NF1",alteration:"Mutations",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nf1/325/">NF1 Mutations in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G13C",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/297/">NRAS c.37G>T (G13C) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61K",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/75/">NRAS c.181C>A (Q61K) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61L",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/76/">NRAS c.182A>T (Q61L) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/77/">NRAS c.182A>G (Q61R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61H",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/80/">NRAS c.183A>C (Q61H) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61H",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/81/">NRAS c.183A>T (Q61H) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/82/">NRAS c.182_183delAAinsGG (Q61R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61L",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/83/">NRAS c.182_183delAAinsTG (Q61L) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12A",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/85/">NRAS c.35G>C (G12A) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12C",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/86/">NRAS c.34G>T (G12C) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12D",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/87/">NRAS c.35G>A (G12D) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/88/">NRAS c.34G>C (G12R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12S",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/89/">NRAS c.34G>A (G12S) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12V",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/90/">NRAS c.35G>T (G12V) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G13A",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/91/">NRAS c.38G>C (G13A) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G13D",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/92/">NRAS c.38G>A (G13D) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G13R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/93/">NRAS c.37G>C (G13R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G13V",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/94/">NRAS c.38G>T (G13V) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61E",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/97/">NRAS c.181C>G (Q61E) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61P",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/98/">NRAS c.182A>C (Q61P) Mutation in Melanoma</a>'},{hugoGeneSymbol:"ASXL1",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/asxl1/320/">ASXL1 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"BCOR",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/bcor/321/">BCOR Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"DNMT3A",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/dnmt3a/322/">DNMT3A Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"ETV6",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/etv6/323/">ETV6 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"EZH2",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/ezh2/324/">EZH2 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"NF1",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/nf1/325/">NF1 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"RUNX1",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/runx1/326/">RUNX1 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"SF3B1",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/sf3b1/327/">SF3B1 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"SRSF2",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/srsf2/328/">SRSF2 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"STAG2",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/stag2/329/">STAG2 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"TET2",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/tet2/330/">TET2 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"TP53",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/tp53/331/">TP53 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"U2AF1",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/u2af1/332/">U2AF1 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"ZRSR2",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/zrsr2/333/">ZRSR2 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"ALK",alteration:"D1091N",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/173/">ALK c.3271G>A (D1091N) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"T1151M",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/174/">ALK c.3452C>T (T1151M) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"I1171N",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/175/">ALK c.3512T>A (I1171N) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"F1174C",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/176/">ALK c.3521T>G (F1174C) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"F1174I",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/177/">ALK c.3520T>A (F1174I) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"F1174L",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/178/">ALK c.3522C>A (F1174L) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"F1174V",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/179/">ALK c.3520T>G (F1174V) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"F1245C",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/180/">ALK c.3734T>G (F1245C) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"F1245L",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/181/">ALK c.3735C>G (F1245L) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"F1245V",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/182/">ALK c.3733T>G (F1245V) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"R1275Q",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/183/">ALK c.3824G>A (R1275Q) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"Y1278S",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/184/">ALK c.3833A>C (Y1278S) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"L597R",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/braf/138/">BRAF c.1790T>G (L597R) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/braf/54/">BRAF c.1799T>A (V600E) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12A",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/kras/32/">KRAS c.35G>C (G12A) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12C",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/kras/33/">KRAS c.34G>T (G12C) Mutation in Ovarian Cancer</a>'
},{hugoGeneSymbol:"KRAS",alteration:"G12D",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/kras/34/">KRAS c.35G>A (G12D) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12R",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/kras/35/">KRAS c.34G>C (G12R) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12V",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/kras/37/">KRAS c.35G>T (G12V) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13D",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/kras/39/">KRAS c.38G>A (G13D) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047L",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pik3ca/10/">PIK3CA c.3140A>T (H1047L) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047R",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pik3ca/11/">PIK3CA c.3140A>G (H1047R) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546K",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pik3ca/16/">PIK3CA c.1636C>A (Q546K) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E542K",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pik3ca/7/">PIK3CA c.1624G>A (E542K) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545K",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pik3ca/8/">PIK3CA c.1633G>A (E545K) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R130*",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pten/137/">PTEN c.388C>T (R130*) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"N323fs",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pten/140/">PTEN c.968dupA (N323fs*2) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"N323fs",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pten/141/">PTEN c.968delA (N323fs*21) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"P248fs",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pten/142/">PTEN c.741dupA (P248fs*5) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R130fs",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pten/143/">PTEN c.389delG (R130fs*4) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R130Q",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pten/144/">PTEN c.389G>A (R130Q) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R130G",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pten/145/">PTEN c.388C>G (R130G) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"ALK",alteration:"Exon Deletion",cancerType:"Rhabdomyosarcoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/rhabdomyosarcoma/alk/186/">ALK Exon Deletion in Rhabdomyosarcoma</a>'},{hugoGeneSymbol:"ALK",alteration:"D1225N",cancerType:"Rhabdomyosarcoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/rhabdomyosarcoma/alk/187/">ALK c.3673G>A (D1225N) Mutation in Rhabdomyosarcoma</a>'},{hugoGeneSymbol:"KIT",alteration:"W557R",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/110/">KIT c. 1669T>C (W557R) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"V559A",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/112/">KIT c. 1676T>C (V559A) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"D820E",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/120/">KIT c.2460T>A (D820E) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"H697Y",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/121/">KIT c.2089C>T (H697Y) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"P577_D579del",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/122/">KIT c.1730_1738del (P577_D579del) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"V560del",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/123/">KIT c.1679_1681del (V560del) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"Y553N",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/124/">KIT c.1657T>A (Y553N) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"E490K",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/218/">KIT c.1468G>A (E490K) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"L576P",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/96/">KIT c.1727T>C (L576P) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"AKAP-BRAF",alteration:"Translocation",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/braf/125/">AKAP-BRAF Translocation in Thyroid Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/braf/54/">BRAF c.1799T>A (V600E) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"HRAS",alteration:"G12R",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/hras/303/">HRAS c.34G>C (G12R) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"HRAS",alteration:"G12V",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/hras/304/">HRAS c.35G>T (G12V) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"HRAS",alteration:"G13C",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/hras/305/">HRAS c.37G>T (G13C) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"HRAS",alteration:"G13R",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/hras/306/">HRAS c.37G>C (G13R) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"HRAS",alteration:"Q61R",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/hras/307/">HRAS c.182A>G (Q61R) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"A146V",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/29/">KRAS c.437C>T (A146V) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61P",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/308/">KRAS c.182A>C (Q61P) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12A",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/32/">KRAS c.35G>C (G12A) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12C",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/33/">KRAS c.34G>T (G12C) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12D",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/34/">KRAS c.35G>A (G12D) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12R",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/35/">KRAS c.34G>C (G12R) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12S",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/36/">KRAS c.34G>A (G12S) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12V",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/37/">KRAS c.35G>T (G12V) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13D",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/39/">KRAS c.38G>A (G13D) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13R",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/40/">KRAS c.37G>C (G13R) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61K",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/41/">KRAS c.181C>A (Q61K) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61L",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/42/">KRAS c.182A>T (Q61L) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61R",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/43/">KRAS c.182A>G (Q61R) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13S",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/69/">KRAS c.37G>A (G13S) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61K",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/nras/75/">NRAS c.181C>A (Q61K) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61R",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/nras/77/">NRAS c.182A>G (Q61R) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"RET",alteration:"C634 Mutations",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/ret/126/">RET C634 Mutations in Thyroid Cancer</a>'},{hugoGeneSymbol:"RET",alteration:"Fusions",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/ret/127/">RET Fusions in Thyroid Cancer</a>'},{hugoGeneSymbol:"RET",alteration:"M918T Mutations",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/ret/128/">RET M918T Mutations in Thyroid Cancer</a>'}]},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(343),l=o(s),c=n(471),u=r(c);n(521);var p=n(667),f=r(p),d=function(){function e(){a(this,e)}return i(e,null,[{key:"getCircleX",value:function(e,t,n){var r=e/100;return t*(1-r)+n*r}},{key:"getCircleFill",value:function(e){return e<25?"blue":e>75?"red":"gray"}},{key:"getTooltipContents",value:function(e){return e&&"complete"===e.status&&null!==e.data?l.createElement("div",null,l.createElement("span",null,"mRNA level of the gene in this tumor"),l.createElement("br",null),l.createElement("span",null,l.createElement("b",null,"mRNA z-score: "),e.data.zScore),l.createElement("br",null),l.createElement("span",null,l.createElement("b",null,"Percentile: "),e.data.percentile),l.createElement("br",null)):e&&"complete"===e.status&&null===e.data?l.createElement("span",null,"mRNA data is not available for this gene."):e&&"error"===e.status?l.createElement("span",null,"Error retrieving data."):l.createElement("span",null,"Querying server for data.")}},{key:"getTdContents",value:function(t){var n=null,r=30,o=3,a=0,i=a+o,s=a+r,c=s-o,u=30,d=c+o+3,h=d+u;return t&&"complete"===t.status&&null!==t.data?l.createElement("svg",{width:h,height:12},l.createElement("text",{x:d,y:11,textAnchor:"start",fontSize:10},Math.round(t.data.percentile)+"%"),l.createElement("g",null,l.createElement("line",{x1:a,y1:8,x2:s,y2:8,style:{stroke:"gray",strokeWidth:2}}),l.createElement("circle",{cx:e.getCircleX(t.data.percentile,i,c),cy:8,r:o,fill:e.getCircleFill(t.data.percentile)}))):(n=t&&"complete"===t.status&&null===t.data?p.TableCellStatus.NA:t&&"error"===t.status?p.TableCellStatus.ERROR:p.TableCellStatus.LOADING,null!==n?l.createElement(f.default,{status:n,naAlt:"mRNA data is not available for this gene."}):void 0)}},{key:"getData",value:function(e,t){if(0===e.length)return null;var n=e[0].sampleId,r=e[0].entrezGeneId;return t.get({sampleId:n,entrezGeneId:r})}},{key:"getDataFromCNA",value:function(e,t){var n=e[0].sampleId,r=e[0].entrezGeneId;return t.get({sampleId:n,entrezGeneId:r})}},{key:"renderFromCacheDatum",value:function(t){return l.createElement(u.default,{placement:"left",overlay:e.getTooltipContents(t),arrowContent:l.createElement("div",{className:"rc-tooltip-arrow-inner"})},e.getTdContents(t))}},{key:"renderFunction",value:function(t,n){var r=e.getData(t,n);return e.renderFromCacheDatum(r)}},{key:"cnaRenderFunction",value:function(t,n){var r=e.getDataFromCNA(t,n);return e.renderFromCacheDatum(r)}}]),e}();t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TableCellStatus=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(343),u=o(c),p=n(471),f=r(p),d=t.TableCellStatus=void 0;!function(e){e[e.LOADING=0]="LOADING",e[e.ERROR=1]="ERROR",e[e.NA=2]="NA"}(d||(t.TableCellStatus=d={}));var h=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){var e="",t="";switch(this.props.status){case d.LOADING:e=this.props.loadingAlt||"Querying server for data.",t="LOADING";break;case d.ERROR:e=this.props.errorAlt||"Error retrieving data.",t="ERROR";break;case d.NA:e=this.props.naAlt||"Data not available.",t=""}return u.createElement(f.default,{placement:"left",overlay:u.createElement("span",null,e)},u.createElement("span",{style:{color:"gray",fontSize:"xx-small",textAlign:"center"}},t))}}]),t}(u.Component);t.default=h},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(343),u=o(c),p=n(471),f=r(p),d=n(670),h=function(e){function t(e){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),l(t,[{key:"mainContent",value:function(){var e=this,n=this.props,r=n.barWidth,o=n.barHeight,a=n.barColor,i=n.totalCount,s=n.counts,l=n.textMargin,c=this.props.freqColors||t.defaultProps.freqColors,p=this.props.mainCountIndex&&this.props.mainCountIndex>=0&&this.props.mainCountIndex<s.length?this.props.mainCountIndex:0,f=s[p]/i,h=(r||0)+(l||0),m=h+t.TEXT_WIDTH,y=[];return s.forEach(function(t,n){var r=n%c.length,o=r>=0?c[r]:c[0];y.push(e.frequencyRectangle(t,i,o))}),u.createElement("svg",{width:m,height:"12"},u.createElement("text",{x:h,y:"9.5",textAnchor:"start",fontSize:"10"},(0,d.getPercentage)(f)),u.createElement("rect",{y:"2",width:r,height:o,fill:a}),y)}},{key:"frequencyRectangle",value:function(e,t,n){var r=e/t,o=this.props,a=o.barWidth,i=o.barHeight;return u.createElement("rect",{y:"2",width:r*(a||0),height:i,fill:n})}},{key:"render",value:function(){var e=this.mainContent();return this.props.tooltip&&(e=u.createElement(f.default,{placement:"left",overlay:this.props.tooltip,arrowContent:u.createElement("div",{className:"rc-tooltip-arrow-inner"})},e)),e}}],[{key:"TEXT_WIDTH",get:function(){return 35}}]),t}(u.Component);t.default=h,h.defaultProps={freqColors:["lightgreen","green"],barColor:"#ccc",textMargin:6,barWidth:30,barHeight:8}},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(343),u=o(c),p=n(471),f=r(p),d=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){var e=u.createElement("svg",{width:"12",height:"12"},u.createElement("circle",{r:"5",cx:"6",cy:"6",stroke:this.props.stroke,fill:this.props.circleFill}),u.createElement("text",{x:"3",y:"8.5",fontSize:this.props.fontSize,fill:this.props.textFill},this.props.text.slice(0,1)));return this.props.tooltip&&(e=u.createElement(f.default,{placement:"right",overlay:this.props.tooltip,arrowContent:u.createElement("div",{className:"rc-tooltip-arrow-inner"})},e)),e}}]),t}(u.Component);t.default=d,d.defaultProps={stroke:"#55C",circleFill:"none",fontSize:7,textFill:"#66C"}},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(343),c=o(l),u=n(464),p=n(408),f=o(p),d=n(675),h=r(d),m=n(680),y=r(m),g=n(683),v=r(g),b=n(714),w=r(b),C=n(634),T=n(656),S=n(652),x=function(){function e(){i(this,e)}return s(e,null,[{key:"getData",value:function(t,n,r,o,a,i,s){var l=void 0;if(t){var c=t[0],u=void 0,p=c.gene.hugoGeneSymbol,f=!!n[c.entrezGeneId];l={hugoGeneSymbol:p,oncoKbGeneExist:f,civicEntry:i&&i.result&&s&&s.result?e.getCivicEntry(c,i.result,s.result):void 0,civicStatus:i&&i.status&&s&&s.status?e.getCivicStatus(i.status,s.status):"pending",hasCivicVariants:!0,myCancerGenomeLinks:o?e.getMyCancerGenomeLinks(c,o):[],isHotspot:!!r&&(0,T.isHotspot)(c,r.single),is3dHotspot:!!r&&(0,T.is3dHotspot)(c,r.clustered)},f?(a&&a.result&&"complete"===a.status&&(u=e.getIndicatorData(c,a.result)),l=Object.assign({},l,{oncoKbStatus:a?a.status:"pending",oncoKbIndicator:u})):l=Object.assign({},l,{oncoKbStatus:"complete",oncoKbIndicator:void 0})}else l=e.DEFAULT_ANNOTATION_DATA;return l}},{key:"getCivicEntry",value:function(e,t,n){var r=e.gene.hugoGeneSymbol,o=null;if(n[r]&&n[r][e.proteinChange]){var i=a({},e.proteinChange,n[r][e.proteinChange]),s=t[r];o=(0,S.buildCivicEntry)(s,i)}return o}},{key:"getCivicStatus",value:function(e,t){return"error"==e||"error"==t?"error":"complete"==e&&"complete"==t?"complete":"pending"}},{key:"getIndicatorData",value:function(e,t){if(null!==t.sampleToTumorMap&&null!==t.indicatorMap){var n=(0,C.generateQueryVariantId)(e.gene.entrezGeneId,t.sampleToTumorMap[e.sampleId],e.proteinChange,e.mutationType);return t.indicatorMap[n]}}},{key:"getEvidenceQuery",value:function(e,t){return t.sampleToTumorMap?(0,C.generateQueryVariant)(e.gene.entrezGeneId,t.sampleToTumorMap[e.sampleId],e.proteinChange,e.mutationType,e.proteinPosStart,e.proteinPosEnd):void 0}},{key:"getMyCancerGenomeLinks",value:function(t,n){var r=n[t.gene.hugoGeneSymbol],o=[];return r&&(o=e.filterByAlteration(t,r).map(function(e){return e.linkHTML})),o}},{key:"filterByAlteration",value:function(e,t){return t.filter(function(t){var n=/^[A-Za-z][0-9]+[A-Za-z]/,r=/[0-9]+/,o=t.alteration.trim().match(n);if(o&&e.proteinChange){var a=e.proteinChange.match(r),i=t.alteration.match(r);return a&&i&&a[0]===i[0]}return!1})}},{key:"sortValue",value:function(t,n,r,o,a,i,s){var l=e.getData(t,n,r,o,a,i,s);return f.flatten([v.default.sortValue(l.oncoKbIndicator),w.default.sortValue(l.civicEntry),y.default.sortValue(l.myCancerGenomeLinks),h.default.sortValue(l.isHotspot,l.is3dHotspot)])}},{key:"renderFunction",value:function(t,n){var r=e.getData(t,n.oncoKbAnnotatedGenes,n.hotspots,n.myCancerGenomeData,n.oncoKbData,n.civicGenes,n.civicVariants),o=void 0;return n.oncoKbData&&n.oncoKbData.result&&(o=this.getEvidenceQuery(t[0],n.oncoKbData.result)),e.mainContent(r,n,n.oncoKbEvidenceCache,o,n.pubMedCache)}},{key:"mainContent",value:function(e,t,n,r,o){return c.createElement("span",{style:{display:"inline-block",minWidth:100}},c.createElement(u.If,{condition:t.enableOncoKb||!1},c.createElement(v.default,{hugoGeneSymbol:e.hugoGeneSymbol,geneNotExist:!e.oncoKbGeneExist,status:e.oncoKbStatus,indicator:e.oncoKbIndicator,evidenceCache:n,evidenceQuery:r,pubMedCache:o})),c.createElement(u.If,{condition:t.enableCivic||!1},c.createElement(w.default,{civicEntry:e.civicEntry,civicStatus:e.civicStatus,hasCivicVariants:e.hasCivicVariants})),c.createElement(u.If,{condition:t.enableMyCancerGenome||!1},c.createElement(y.default,{linksHTML:e.myCancerGenomeLinks})),c.createElement(u.If,{condition:t.enableHotspot||!1},c.createElement(h.default,{isHotspot:e.isHotspot,is3dHotspot:e.is3dHotspot})))}},{key:"DEFAULT_ANNOTATION_DATA",get:function(){return{oncoKbStatus:"complete",oncoKbGeneExist:!1,myCancerGenomeLinks:[],isHotspot:!1,is3dHotspot:!1,hasCivicVariants:!0,hugoGeneSymbol:"",civicStatus:"complete"}}}]),e}();t.default=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.querySelector(".rc-tooltip-arrow");t.style.left="10px"}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.placeArrow=l;var u=n(343),p=o(u),f=n(471),d=r(f),h=n(676),m=r(h),y=n(677),g=r(y),v=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return s(t,e),c(t,null,[{key:"sortValue",value:function(e,t){var n=0;return e&&(n+=1),t&&(n+=.5),n}},{key:"hotspotInfo",value:function(e,n){return p.createElement("span",{className:g.default["hotspot-info"]},t.title(e,n),p.createElement("br",null),t.publication(e,n),p.createElement("br",null),p.createElement("br",null),t.link(e,n))}},{key:"title",value:function(e,t){var n=e?p.createElement("b",null,"Recurrent Hotspot"):"",r=e&&t?"and":"",o=t?p.createElement("b",null,"3D Clustered Hotspot"):"";return p.createElement("span",null,n," ",r," ",o)}},{key:"publication",value:function(e,t){var n=e?"a recurrent hotspot (statistically significant)":"",r=e&&t?"and":"",o=t?"a 3D clustered hotspot":"",a=e?p.createElement("a",{href:"http://www.ncbi.nlm.nih.gov/pubmed/26619011",target:"_blank"},"Chang et al., Nat Biotechnol, 2016"):"",i=t?p.createElement("a",{href:"http://genomemedicine.biomedcentral.com/articles/10.1186/s13073-016-0393-x",target:"_blank"},"Gao et al., Genome Medicine, 2017"):"";return p.createElement("span",null,"This mutated amino acid was identified as ",n," ",r," ",o," in a population-scale cohort of tumor samples of various cancer types using methodology based in part on ",a," ",r," ",i,".")}},{key:"link",value:function(e,t){var n=e?p.createElement("a",{href:"http://cancerhotspots.org/",target:"_blank"},"http://cancerhotspots.org/"):"",r=e&&t?"and":"",o=t?p.createElement("a",{href:"http://3dhotspots.org/",target:"_blank"},"http://3dhotspots.org/"):"";return p.createElement("span",null,"Explore all mutations at ",n," ",r," ",o,".")}}]),c(t,[{key:"render",value:function(){var e=this.props,r=e.isHotspot,o=e.is3dHotspot,a=p.createElement("span",{className:""+m.default["annotation-item"]});if(r||o){var i=14,s=14,c=n(678);r||(c=n(679),s=18);var u=p.createElement("div",{className:"rc-tooltip-arrow-inner"}),f=t.hotspotInfo(r,o);a=p.createElement(d.default,{overlay:f,placement:"topLeft",trigger:["hover","focus"],arrowContent:u,onPopupAlign:l},p.createElement("span",{className:m.default["annotation-item"]+" chang_hotspot"},p.createElement("img",{width:i,height:s,src:c,alt:"Recurrent Hotspot Symbol"})))}return a}}]),t}(p.Component);t.default=v},function(e,t){e.exports={portalWidth:"annotation-module__portalWidth__1ONSd","annotation-item":"annotation-module__annotation-item__1YzCz","annotation-item-text":"annotation-module__annotation-item-text__2FRXN","annotation-item-error":"annotation-module__annotation-item-error__1XUY_"}},function(e,t){e.exports={portalWidth:"cancerHotspots-module__portalWidth__2IjLk","hotspot-info":"cancerHotspots-module__hotspot-info__1GI2v"}},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPgogICAgPGcgaWQ9Imljb21vb24taWdub3JlIj4KICAgIDwvZz4KICAgIDxwYXRoIGZpbGw9IiNmZjk5MDAiIGQ9Ik0zMjEuMDA4IDEwNDUuMzMzYy02OC4yNDUtMTQyLjAwOC0zMS45MDEtMjIzLjM3OSAyMC41NTEtMzAwLjA0NCA1Ny40NC04My45NTYgNzIuMjQ0LTE2Ny4wNjUgNzIuMjQ0LTE2Ny4wNjVzNDUuMTUzIDU4LjcgMjcuMDkyIDE1MC41MDhjNzkuNzcyLTg4LjggOTQuODI0LTIzMC4yOCA4Mi43ODMtMjg0LjQ2NCAxODAuMzE1IDEyNi4wMTIgMjU3LjM3NiAzOTguODU2IDE1My41MjMgNjAxLjA2NSA1NTIuMzcyLTMxMi41MzIgMTM3LjM5OS03ODAuMTcyIDY1LjE1NS04MzIuODUxIDI0LjA4MSA1Mi42NzYgMjguNjQ4IDE0MS44NTEtMjAgMTg1LjEyNy04Mi4zNTItMzEyLjI3Ni0yODUuOTcyLTM3Ni4yNzYtMjg1Ljk3Mi0zNzYuMjc2IDI0LjA4MyAxNjEuMDQ0LTg3LjI5NiAzMzcuMTQ0LTE5NC42OTYgNDY4LjczMS0zLjc3NS02NC4yMTYtNy43ODMtMTA4LjUyOC00MS41NDktMTY5Ljk4LTcuNTggMTE2LjY1Ni05Ni43MzIgMjExLjc0OC0xMjAuODczIDMyOC42MjgtMzIuNzAxIDE1OC4yODcgMjQuNDk2IDI3NC4xOCAyNDEuNzQ4IDM5Ni42MjN6Ij48L3BhdGg+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE2LjAuNCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyNC4yNjNweCIgaGVpZ2h0PSIzNi4zNjZweCIgdmlld0JveD0iMCAwIDI0LjI2MyAzNi4zNjYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI0LjI2MyAzNi4zNjYiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxwYXRoIGZpbGw9IiNGRjk5MDAiIGQ9Ik02LjgyOCwyNy45NDdjLTEuODU5LTMuODcyLTAuODY5LTYuMDk0LDAuNTY0LTguMTg0YzEuNTY1LTIuMjk2LDEuOTY4LTQuNTU4LDEuOTY4LTQuNTU4CgkJczEuMjMxLDEuNiwwLjc0Miw0LjEwNGMyLjE4MS0yLjQyMywyLjU5MS02LjI4NiwyLjI1Ni03Ljc2NGM0LjkyMSwzLjQzNiw3LjAyNywxMC44ODksNC4xOSwxNi40MDEKCQlDMzEuNjI3LDE5LjQxOSwyMC4zLDYuNjYsMTguMzI2LDUuMjIxYzAuNjU2LDEuNDM5LDAuNzgzLDMuODczLTAuNTQ2LDUuMDUzQzE1LjUzNiwxLjc1LDkuOTgsMCw5Ljk4LDAKCQljMC42NTcsNC4zOTctMi4zODgsOS4yMDgtNS4zMTYsMTIuOEM0LjU2LDExLjA0Niw0LjQ1MSw5LjgzMSwzLjUzLDguMTU1Yy0wLjIwMSwzLjE4My0yLjYzNiw1Ljc4NS0zLjI5OCw4Ljk3NAoJCUMtMC42NTksMjEuNDQ1LDAuOSwyNC42MSw2LjgyOCwyNy45NDdMNi44MjgsMjcuOTQ3eiIvPgoJPHRleHQgdHJhbnNmb3JtPSJtYXRyaXgoMC41ODMgMCAwIDAuNTgzIDMuNzMyNCAzNi4xOTYzKSIgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IidBcmlhbC1Cb2xkSXRhbGljTVQnIiBmb250LXNpemU9IjIwLjY4MDIiPjNEPC90ZXh0Pgo8L2c+Cjwvc3ZnPgo=";
},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.querySelector(".rc-tooltip-arrow");t.style.left="10px"}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.placeArrow=l;var u=n(343),p=o(u),f=n(408),d=o(f),h=n(471),m=r(h),y=n(676),g=r(y),v=n(681),b=r(v),w=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return s(t,e),c(t,null,[{key:"sortValue",value:function(e){return e.length>0?1:0}},{key:"myCancerGenomeLinks",value:function(e){var t=[];return d.each(e,function(e,n){t.push(p.createElement("li",{key:n,dangerouslySetInnerHTML:{__html:e}}))}),p.createElement("span",null,p.createElement("b",null,"My Cancer Genome links:"),p.createElement("br",null),p.createElement("ul",{className:b.default["link-list"]},t))}}]),c(t,[{key:"render",value:function(){var e=p.createElement("span",{className:""+g.default["annotation-item"]});if(this.props.linksHTML.length>0){var r=p.createElement("div",{className:"rc-tooltip-arrow-inner"}),o=t.myCancerGenomeLinks(this.props.linksHTML);e=p.createElement(m.default,{overlay:o,placement:"topLeft",trigger:["hover","focus"],arrowContent:r,onPopupAlign:l},p.createElement("span",{className:g.default["annotation-item"]+" mcg"},p.createElement("img",{width:"14",height:"14",src:n(682),alt:"My Cancer Genome Symbol"})))}return e}}]),t}(p.Component);t.default=w},function(e,t){e.exports={portalWidth:"myCancerGenome-module__portalWidth__m3pyZ","link-list":"myCancerGenome-module__link-list__2ZNFI"}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIsAAACACAYAAAA73po8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAADvNJREFUeNrsXT1y4koXPaacj94KPnkFIwfEI0eEg1dgWIFNkVJFu4qUwrMCMyswExIZxwTWrMB6Kxi9FfAFuhq3Zf20Wt2tFuJWuZ7rDZaa1tG95/722eFwQCJnZ2fogvSn2yEAj/tfm/1yEGi4jwvAB+AC+EL3fKF/3gEI9stB1IY9OxwOOOsSWPrTrQfgiR5eWnYAJipA059uRwBuU4DMkzWAn/vlYHcCi13a5Engo+P9crCWuL4D4I5A4kgscU1gjU5gaV6jPFd4iMKAIVMzBzBSsNQQwLUOk3gCizhYnok7iEoE4KroofWnW59A4itebum9T2DRBxSftIrMW37JmwUyNUMCiatx2RGAC5tM0uFwwHkHnJ+55N+5AFb96XZCAPmmyNSIiEP86sqmjbRCsxD5/M65mem3LKCff8nd3Ale1wXwJrmsgDykkSRhVSHX++Vgc9Is8cNMvAe35C3zeW7Qn24TMxFS3CIEEGaA6FbQ3IR5YOxPty+CXpQurbjptGYh7+RRMA4ha/MTbfRfKpbyFyT75SAUXO+K3OIm5NIGstsIwZVwY6UBs18O/lG47leN4C6Mv+yXg7ENYOlZHu+otcmq+QNpLNMytMUM9QwCJWH4psjiD5UXI5M1aeAZOeQAdAcsBmITvGxE+UhFwKw1aCwRuekMWMiFNUkQf2q89oSIs1FTRJq5E5rl1uB3CnXGJiiqOm6Avwy7AhaTX/SH7huQK2vaQ7k9erCQB+Qa/E5GOAVpL5OA8cicH7VmMQoUk8k3IrxXBk3S7bGDxTP4fe5NbyClBi4Nkd5RV1xnE1olbOLG++Ug3C8HlwRWnVrGoZLNowXLNwP3iNBMwCwNGkZaRidvmjf1/bTnhiSq1GTEmlQ+971d4hgjqI9aj/fLwZoKu5Da3x0qJElFxUgisT/dvmkmuQ/75WACi4VMxzcKIcgAJyJOFCIuo/gqEI7YQVG3gkmwHDTzlDFaJBRKSMIJXzPA88KBI8p72BVeQqluBeNgoRD1nxNQtIDOh3htce2aGBMlCt4JKFpddlGepoQUt9F1vu86UHgTI+iqD9sAFpVeUIi4n4bZ9sQYW3iMLTzT9+WSmqJcqROa5YHs7s7S9b0CeGVs8dgAYDa0P2Xi2A6WugG5HeJmK2t7gBlb8A9hxNhi1IRpRnm6obYLrdsb+iOB6IiI231T4XsJwKS/5yVjs8DkGkrqm2sXr2vtG6LFO4LgCOjnxbZIrKBs8DHJ94g47G/SHAX96XaM7B4nJXt6rgkoLsfAd5wa/A/vTV1hWzSHgPxKgcVjbHHH2OzBMGA2BJg0d1JSZlrbDJEGuUEcU+G1SadiIRmmKGRsdtHEWvrT7SMH3nC/HNReR62gXH+69Snk/Iq4GNtPbdZLx2Ie6XJOl7GF28RC6CVdc+RXifQkgTIiMuWW2PEuyQM+B8jcphZDgNngY8uuWbBQw1NZPGHTlsF66szQLEJcYrkh0EQw3zKSFg/Ak6o2ksqcRTDbqSTTeZJavMXHe6IxQBz9ln6BK7vOgpX60TGbIOIhiacXMDbbWbrU25SGeetPt7XGj1U1QyLq7NhN0Ir7eWZs8cbYYmiZVuEBzT+7V5qJY47gVvQKjk1+Z5DYJ8YWzFKt8gns/en2WYbHVAVLmcYIbBzLqcHryfqO86Zc5ZRWcVDeMuKTWfK1gYWAEHVYq6S9nipvtCkZCdIFB8AzTbXSZobyABF2xQNibBYxNrtGXEsSpoikzSYoS+760+2rSGusDFgecrTLPTomjM3WiBOGY9DBDQ2boCHkAoEekd9C8yWVG8qYg68k/3CS2mB5Qv0SysycnnRuiMoI1l3WKhYCxYGaWtsRJSLVuc6EvgDA7hSttUJ8hdcaZcVj6sZZ7nHE2eW4JsV8IbakqF7nKk1664JlDuBWReW4pXKDuBD7tQWg+arhmh/MkXSlXH+6ZRyaHynvELVQe3jkbvrkSQQA7hmbbRDPvk2GJa9g2cELKXF0mLb+dOsmFY3nkkDx8LHLzSMUXtd8cAzAF8ZmE4HPOogDUN9oo14Ym7EK93JozcMMdf4E4IyxWcjY4oKA8m/HzFAit6BxJjIlCg69bVn+/GS/HDzUAEsynmPN2Gxc8Lm8Wfr/UIRVBCjPRRvM2KxVhy9pHEAQ7JeDS1nXuahCblWTvyQPelTSsHVX8+3ySj67OTlXn/e0VxG9Iid5PNeozOJTCTINW6rcxx+MLVzyhpyuoyXxinoV/uAOYgPwHEiez0OFRAGvqSpmcv+XY3ZcxhZ+6j4h95Ed4iDjGMAF/XtEfMhvyTMNNV7bFSa4FN5fVXnD+9Mtk2xin+C9HNDhCVZqY9y8L5UhrwAcxhaTpJenrE2DuM91ixRACM0F4j0BoHgoL9DOjMHI8Bd6q3clPOSnYY+gDaItbJEMJOgJeD51jn1ZSf7dhPvyLxmAYsjO8Oat8xLAlekOQcPyWzcIyzRLWW+QiDmqbPOpqfwCcToh7wFnHhbFcxPueqHFhdXKXFxN1/27b+c1PR8RuYFEoxNxBlbw7yFji2vIndl8jKLrZfiV/JIZlMuoV6kr/+hKBZB7/ciB6KyraNFwjuPfUR1FQbmV4u8x1LVBVK2WzFZ7QLdF9aFcH+qUPmkWKq1TPe5qs18OrnES3ZrFhfyh5584EJ1HgCLN8l3D9/Db/BAYW6wYWzzb1kyW4eKGirhLhIwYU5Zm0ZWQurSxp4ixRdK7vcP7uPOIfvfwOYp7JeNZccnPCHGidKJJu/gKSP9VetjjJ80i4+ZWENdyBeIjTmfMibM90e/pPbmVAIqH9+SnA+BO12RLesh1tMs4bypo2gw5Gh+GZylIqpJCGVOU5QmOsmJCBC6HsQWrkcSU1VrronrqXkseqE55QLWAloQJmoU595gXvFhz2fAFmfuqgNmVjXUzOTT5m41Ioe7CpFEsrGpOqYzhQATYr6jB/JKsul9yzSLAPEC8LieAQNL0POOtmXdQuyTxmjU9nHmBB+cytrijvRpyHManh7sBMM6o2NsgO341RHF86LYGBxkTuL0SEzkWCZr2BGxr10CzY2x2hbg4O888rRCXPcwzeN4wi9eQKcqSm6w11ORIiXaJUH4YhPCAn16Gres8YLgHJmL3A8QFU2fcTx5JzAKMl0NkN5yp82sApoi/VDrprFe0SMUSthAz3wWAclWgNUTJcZaZ+KXQnV7j8yGfm6rF9ec5RGykYeP/tV+bfHiD+dhIEVCqaOJ70b1lbLZmbDGHovjUfjkYc0fuJeapkvQ0BHVaqVkolP/M/awUAyXhLQ8518uSawA7hbU411UIrajrLHpCVhUJLFcsnsBnItIOlYHCAWbCmYQwx3NKPhsQ2VZljkK8pzUqS26TmeLsc+0jTAxolqLzpzcAfhUQ11YIlzcKUHEubuEcXDpkGooAs2vBXkap3zeI6383slrEQplzWrRyu/F5GYsmwKxQL2/0swUbOUFc9BwhzgofVQiBLAWvOYf96fauikck1OvMtYN4Euu0YoQYNy3h9zGCQQAsWWP0I8THCpbuhXCv8345SKqmHiTWacu40yG5rSsAb5YNOTbBVbJccKdKmKTqHNwJclowCniALaQwTG3SnJJ/TgfwUpTvu9ECFgLMBnHTlghptWmOf9Z6fajtYrBRq3goLmv1tIEl8df3y8EVyqdUWjPFkgJimYChksdjFWVTv2vVs1Dj+1WOWdpZeGBmnld2VydZZ7FWcaCwDad28ROlBy7wOUJr3WxcCqrlAfjxCPnLUCDkERoDCwEmIg2z5tzlnaUbmJdAc1GcOGyjiJBX4RiY8hPjqUf6xeZBylTptsrx3i6OIQYj2HD2oZGsSGod1VsgL4hn4zr2gmX2kOPSOzieovUyDrZBxVGtOsBySxv+bDlgxnjPrgcEnqsjGs3xvSCEcL1fDq6rhjWUmqGMbrhOnRpvielxSUPO6UV44UASyMa9Kp++KkGoRv3pNqLIbxPcxCHSGra9vIB7GXlTmbTXeBlej/IxJ6o1y58cV62Rc55TRLZwELPFmmJIJsWv8KfCxLWKZulpQH1mDKOhwyD4GMKIwNMKDUIHTb0R2P2Klwh0rEslwXVL/v2pAcK7w8fo8nfbNUl/uk1qgIc1LvW77WBxoX5IUJnHE+Fja4trMVAYaRJfweWs1ywiCxzSvDqTYvWRfKRNku5GVRIdA1gS/mLMHFG2eZ3BYWzxblQPDYSuoUk9hQsMIVbj4pg2R3gfwhxYBJQRcRMHLRHVrrNXYQOuRJONpImSty+UKX2ID3uYhRYBRdcLs6NaI6VyOBy0JBI9xNVnZWTyQyF3KuD0Be+BJq/ALgeII5QBVfC1wS0eQm91XnvAwmmCEbKDSSH340BdcU7i+fyyFTgVNa+saEmxaAOLBeo4BHBvW5mEhgnYmd6f5NE9pWDpNbl59DB18AiXvK63Blz1ojiKZ+BWka4L9yzYR51xEBdx5Pg5faC16VgKzI1fC44ZLBvonzblA3htUMscxZy+RjkL9+Y9Qs8AoSwxmgEnsv/HoGnX8hAb5yycmGxxfSRibUpM3ivQeXErwELh6fBIAXNr8Hvtjh4sJKbHcmivsSGOZJJY/+gKWNYN3FN3jc2Nyf3T3QFqDVjoiwaGb+tCU46GK4k0IREMlGLYpFlME91Ehv3p9q7lxHZioq/cNrBsGrrvSgN/MUVs16ZCAVaBhVoX1g3dXllRFnlajoE135vsyzqHffLLsApPxENcST8uAIFPvyb//ZoDijDFIb5BbWtsiIITx3SJFRHcjIfyhuaKq8c0pdMnUHylh1xlPRd5HILMnUvXrHrtEA1l0xsvUSiJTzQxvisk3lSH8EoVH3FDAt2Uxnohb2fX5IGk1oKFNu/JkOuZAORn8jD60+2qBmDGNo8bOVawOIiryjxNt9gRQNY595cpVLJi5q8usPRsXRw3TUq16l0jLha/KtEAVUa4/tUqOGKxVrOkNMwT6nXqJS75jyrBq4o1sw9NTYvovBnKiV1UPawpcWGl5/EKdisc/RyaVoElBZqkayAvxrGDwip/0m53iBODPGgCcmU3OHJpJVgyHiJPQgPdE7256UqBRdPDzYPlJCcpkv8PAHSv/QtFBkyYAAAAAElFTkSuQmCC"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.querySelector(".rc-tooltip-arrow");t.style.display="none"}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.hideArrow=l;var p=n(343),f=o(p),d=n(455),h=n(346),m=n(527),y=n(471),g=r(y),v=n(676),b=r(v),w=n(684),C=r(w),T=n(634),S=n(406),x=n(685),A=r(x),k=n(667),E=r(k),M=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},_=P=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showFeedback=!1,n.tooltipDataLoadComplete=!1,n.handleFeedbackOpen=n.handleFeedbackOpen.bind(n),n.handleFeedbackClose=n.handleFeedbackClose.bind(n),n.handleLoadComplete=n.handleLoadComplete.bind(n),n.tooltipContent=n.tooltipContent.bind(n),n}return s(t,e),c(t,[{key:"render",value:function(){var e=f.createElement("span",{className:""+b.default["annotation-item"]});return"error"===this.props.status?e=this.errorIcon():"pending"===this.props.status?e=this.loaderIcon():(e=f.createElement("span",{className:""+b.default["annotation-item"]},f.createElement("i",{className:C.default["oncogenic-icon-image"]+" "+this.oncogenicImageClassNames(this.props.indicator),style:P.ONCOGENIC_ICON_STYLE,"data-test":"oncogenic-icon-image"})),this.showFeedback?e=f.createElement("span",null,e,this.feedbackModal(this.props.hugoGeneSymbol,this.props.evidenceQuery&&this.props.evidenceQuery.alteration)):(this.tooltipDataLoadComplete||this.props.evidenceCache&&this.props.evidenceQuery)&&(e=f.createElement(g.default,{overlay:this.tooltipContent,placement:"right",trigger:["hover","focus"],onPopupAlign:l,destroyTooltipOnHide:!1},e))),e}},{key:"loaderIcon",value:function(){return f.createElement(m.Circle,{size:18,scaleEnd:.5,scaleStart:.2,color:"#aaa",className:"pull-left"})}},{key:"errorIcon",value:function(){return f.createElement(g.default,{overlay:f.createElement("span",null,"Error fetching OncoKB data"),placement:"right",trigger:["hover","focus"],destroyTooltipOnHide:!0},f.createElement("span",{className:""+b.default["annotation-item-error"]},f.createElement("i",{className:"fa fa-exclamation-triangle text-danger"})))}},{key:"feedbackModal",value:function(e,t){var n="https://docs.google.com/forms/d/1lt6TtecxHrhIE06gAKVF_JW4zKFoowNFzxn6PJv4g7A/viewform",r="entry.1744186665="+(e||""),o="entry.1671960263="+(t||""),a="entry.1381123986=",i="entry.1083850662="+encodeURIComponent(window.location.href);return f.createElement(d.Modal,{show:this.showFeedback,onHide:this.handleFeedbackClose},f.createElement(d.Modal.Header,{closeButton:!0},f.createElement(d.Modal.Title,null,"OncoKB Annotation Feedback")),f.createElement(d.Modal.Body,null,f.createElement("iframe",{src:n+"?"+r+"&"+o+"&entry.118699694&entry.1568641202&"+a+"&"+i+"&embedded=true",style:{width:550,height:500,border:"none",marginLeft:"10px"},marginHeight:0,marginWidth:0},f.createElement(E.default,{status:k.TableCellStatus.LOADING}))))}},{key:"tooltipContent",value:function(){return f.createElement(A.default,{geneNotExist:this.props.geneNotExist,indicator:this.props.indicator||void 0,evidenceCache:this.props.evidenceCache,evidenceQuery:this.props.evidenceQuery,pubMedCache:this.props.pubMedCache,handleFeedbackOpen:this.handleFeedbackOpen,onLoadComplete:this.handleLoadComplete})}},{key:"handleLoadComplete",value:function(){this.tooltipDataLoadComplete||(this.tooltipDataLoadComplete=!0)}},{key:"handleFeedbackOpen",value:function(){this.showFeedback=!0}},{key:"handleFeedbackClose",value:function(){this.showFeedback=!1}},{key:"oncogenicImageClassNames",value:function(e){var t=void 0;return t=e&&null!=e.oncogenic?(0,T.oncogenicImageClassNames)(e.oncogenic,e.vus,e.highestSensitiveLevel,e.highestResistanceLevel):(0,T.oncogenicImageClassNames)("N/A",!1,"",""),t=t.map(function(e){return C.default[e]}),t.join(" ")}}],[{key:"sortValue",value:function(e){if(!e)return[];var t=[];return t[0]=(0,T.calcOncogenicScore)(e.oncogenic,e.vus),t[1]=(0,T.calcSensitivityLevelScore)(e.highestSensitiveLevel),t[2]=(0,T.calcResistanceLevelScore)(e.highestResistanceLevel),t[3]=e.geneExist?1:0,t}},{key:"ONCOGENIC_ICON_STYLE",get:function(){return{backgroundImage:"url("+n(713)+")"}}}]),t}(f.Component);M([S.observable],_.prototype,"showFeedback",void 0),M([S.observable],_.prototype,"tooltipDataLoadComplete",void 0),_=P=M([h.observer],_),t.default=_;var P},function(e,t){e.exports={portalWidth:"oncogenicIcon-module__portalWidth__3lDXV","oncogenic-icon-image":"oncogenicIcon-module__oncogenic-icon-image__3ptbU",level1:"oncogenicIcon-module__level1__2I59M",oncogenic:"oncogenicIcon-module__oncogenic__1PXxv",level2A:"oncogenicIcon-module__level2A__2fiNZ",level2B:"oncogenicIcon-module__level2B__2Q7_L",level3A:"oncogenicIcon-module__level3A__1you4",level3B:"oncogenicIcon-module__level3B__2B8Jp",level4:"oncogenicIcon-module__level4__2XZHD",levelR1:"oncogenicIcon-module__levelR1__3_5T8",levelR2:"oncogenicIcon-module__levelR2__3Qirw",levelR3:"oncogenicIcon-module__levelR3__2H4x5",level1R:"oncogenicIcon-module__level1R__30RSu",level2AR:"oncogenicIcon-module__level2AR__2oYQp",level2BR:"oncogenicIcon-module__level2BR__2yX9i",level3AR:"oncogenicIcon-module__level3AR__3KUvC",level3BR:"oncogenicIcon-module__level3BR__3Gitf",level4R:"oncogenicIcon-module__level4R__CLk5P","likely-neutral":"oncogenicIcon-module__likely-neutral__32Yau","unknown-oncogenic":"oncogenicIcon-module__unknown-oncogenic__Fb5Ww","no-info-oncogenic":"oncogenicIcon-module__no-info-oncogenic__3eAEd",vus:"oncogenicIcon-module__vus__3nQPW"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(343),p=o(u),f=n(686),d=r(f),h=n(346),m=n(634),y=n(667),g=r(y),v=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},b=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){var e=p.createElement("span",null),t=this.evidenceCacheData;if(this.props.geneNotExist&&(e=p.createElement(d.default,{geneNotExist:!0,pmidData:{},handleFeedbackOpen:this.props.handleFeedbackOpen})),!t||!this.props.indicator)return e;if("complete"===t.status&&t.data&&!this.props.geneNotExist){var n=t.data,r=this.pmidData;e=p.createElement(d.default,{geneNotExist:this.props.geneNotExist,title:this.props.indicator.query.hugoSymbol+" "+this.props.indicator.query.alteration+" in "+this.props.indicator.query.tumorType,gene:this.props.indicator.geneExist?this.props.indicator.query.hugoSymbol:"",oncogenicity:this.props.indicator.oncogenic,oncogenicityPmids:(0,m.generateOncogenicCitations)(n.oncogenicRefs),mutationEffect:n.mutationEffect.knownEffect,mutationEffectPmids:(0,m.generateMutationEffectCitations)(n.mutationEffect.refs),geneSummary:this.props.indicator.geneSummary,variantSummary:this.props.indicator.variantSummary,tumorTypeSummary:this.props.indicator.tumorTypeSummary,biologicalSummary:n.mutationEffect.description,treatments:(0,m.generateTreatments)(n.treatments),pmidData:r,handleFeedbackOpen:this.props.handleFeedbackOpen})}else"pending"===t.status?e=p.createElement(g.default,{status:y.TableCellStatus.LOADING}):"error"===t.status&&(e=p.createElement(g.default,{status:y.TableCellStatus.ERROR}));return e}},{key:"componentDidUpdate",value:function(){this.evidenceCacheData&&"complete"===this.evidenceCacheData.status&&this.evidenceCacheData.data&&this.props.onLoadComplete&&this.props.onLoadComplete()}},{key:"evidenceCacheData",get:function(){var e=void 0;if(!this.props.geneNotExist&&this.props.evidenceCache&&this.props.evidenceQuery){var t=this.props.evidenceCache.getData([this.props.evidenceQuery.id],[this.props.evidenceQuery]);t&&(e=t[this.props.evidenceQuery.id])}return e}},{key:"pmidData",get:function(){if(this.props.pubMedCache&&this.evidenceCacheData){var e=(0,m.extractPmids)(this.evidenceCacheData.data),t=!0,n=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value;this.props.pubMedCache.get(i)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}return this.props.pubMedCache&&this.props.pubMedCache.cache||{}}}]),t}(p.Component);b=v([h.observer],b),t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(343),u=o(c),p=n(408),f=o(p),d=n(687),h=r(d),m=n(464),y=n(471),g=r(y),v=n(634);n(709),n(710);var b=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={activeTab:"oncogenicity",levelsCollapsed:!0},e.handleOncogenicityTabSelect=e.handleOncogenicityTabSelect.bind(e),e.handleMutationEffectTabSelect=e.handleMutationEffectTabSelect.bind(e),e.handleLevelCollapse=e.handleLevelCollapse.bind(e),e}return s(t,e),l(t,null,[{key:"LEVELS",get:function(){return["1","2A","2B","3A","3B","4","R1"]}},{key:"LEVEL_ICON_STYLE",get:function(){return{backgroundImage:"url("+n(711)+")"}}},{key:"LEVEL_DESC",get:function(){return{1:u.createElement("span",null,u.createElement("b",null,"FDA-recognized")," biomarker predictive of response to an ",u.createElement("b",null,"FDA-approved")," drug ",u.createElement("b",null,"in this indication")),"2A":u.createElement("span",null,u.createElement("b",null,"Standard care")," biomarker predictive of response to an ",u.createElement("b",null,"FDA-approved")," drug ",u.createElement("b",null,"in this indication")),"2B":u.createElement("span",null,u.createElement("b",null,"Standard care")," biomarker predictive of response to an ",u.createElement("b",null,"FDA-approved")," drug ",u.createElement("b",null,"in another indication"),", but not standard care for this indication"),"3A":u.createElement("span",null,u.createElement("b",null,"Compelling clinical evidence")," supports the biomarker as being predictive of response to a drug ",u.createElement("b",null,"in this indication"),", but neither biomarker and drug are standard care"),"3B":u.createElement("span",null,u.createElement("b",null,"Compelling clinical evidence")," supports the biomarker as being predictive of response to a drug ",u.createElement("b",null,"in another indication"),", but neither biomarker and drug are standard care"),4:u.createElement("span",null,u.createElement("b",null,"Compelling biological evidence")," supports the biomarker as being predictive of response to a drug, but neither biomarker and drug are standard care"),R1:u.createElement("span",null,u.createElement("b",null,"Standard care")," biomarker predictive of ",u.createElement("b",null,"resistance")," to an ",u.createElement("b",null,"FDA-approved")," drug ",u.createElement("b",null,"in this indication"))}}}]),l(t,[{key:"treatmentRow",value:function(e,n,r,o,a,i,s,l,c){var p=this,f=function(){return u.createElement("div",{style:{maxWidth:"200px"}},r)},d=c.length>0||l.length>0?function(){return u.createElement("div",{style:{maxWidth:"400px",maxHeight:"200px",overflowY:"auto"}},u.createElement("ul",{className:"list-group",style:{marginBottom:0}},p.abstractList(c),p.pmidList(l,s)))}:u.createElement("span",null);return u.createElement("tr",{key:e},u.createElement("td",{key:"level"},u.createElement(g.default,{overlay:f,placement:"left",trigger:["hover","focus"],destroyTooltipOnHide:!0},u.createElement("i",{className:"level-icon level-"+n,style:t.LEVEL_ICON_STYLE}))),u.createElement("td",{key:"alterations"},(0,v.mergeAlterations)(o)),u.createElement("td",{key:"treatment"},a),u.createElement("td",{key:"cancerType"},i),u.createElement("td",{key:"citations"},u.createElement(m.If,{condition:c.length>0||l.length>0},u.createElement(g.default,{overlay:d,placement:"right",trigger:["hover","focus"],destroyTooltipOnHide:!0},u.createElement("i",{className:"fa fa-book"})))))}},{key:"levelListItem",value:function(e,n){return u.createElement("li",{key:e},u.createElement("i",{className:"level-icon level-"+e,style:t.LEVEL_ICON_STYLE}),n)}},{key:"pmidList",value:function(e,t){var n=this,r=[];return t&&e.forEach(function(e){var o=t[e.toString()],a=o?o.data:null;a&&r.push(n.pmidItem(a.title,f.isArray(a.authors)&&a.authors.length>0?a.authors[0].name+" et al.":"Unknown",a.source,new Date(a.pubdate).getFullYear().toString(),a.uid))}),r}},{key:"pmidItem",value:function(e,t,n,r,o){return u.createElement("li",{key:o,className:"list-group-item",style:{width:"100%"}},u.createElement("a",{href:"http://www.ncbi.nlm.nih.gov/pubmed/"+o,target:"_blank"},u.createElement("b",null,e)),u.createElement("br",null),u.createElement("div",{style:{width:"100%"}},t," ",n,". ",r," ",u.createElement("span",{style:{float:"right"}},"PMID: ",o)))}},{key:"abstractList",value:function(e){var t=this,n=[];return e.forEach(function(e,r){n.push(t.abstractItem(r,e.abstract,e.link))}),n}},{key:"abstractItem",value:function(e,t,n){var r=u.createElement("b",null,t);return n&&(r=u.createElement("a",{href:n,target:"_blank"},r)),u.createElement("li",{key:"abstract_"+e,className:"list-group-item",style:{width:"100%"}},r)}},{key:"generateLevelRows",value:function(e,t){var n=this,r=[];return e.forEach(function(e){r.push(n.levelListItem(e,t[e]))}),r}},{key:"generateTreatmentRows",value:function(e,t,n){var r=this,o=[];return e.forEach(function(e,a){o.push(r.treatmentRow(a,e.level,t[e.level],e.variant,e.treatment,e.cancerType,n,e.pmids,e.abstracts))}),o}},{key:"render",value:function(){return u.createElement("div",{className:"oncokb-card","data-test":"oncokb-card"},u.createElement("div",{className:"z-depth-2"},!this.props.geneNotExist&&u.createElement("span",null,u.createElement("div",{className:"item tabs-wrapper"},u.createElement("div",{className:"col s12 tip-header"},this.props.title),u.createElement("div",{className:"col s12"},u.createElement("ul",{className:"tabs"},u.createElement("li",{key:"oncogenicity",className:"tab col s6 enable-hover"},u.createElement("a",{className:"oncogenicity",onClick:this.handleOncogenicityTabSelect},u.createElement("span",{className:"title"},"clinical implications"),u.createElement("span",{className:"title-content"},this.props.oncogenicity||"Unknown"))),u.createElement("li",{key:"mutationEffect",className:"tab col s6 enable-hover"},u.createElement("a",{className:"mutation-effect",onClick:this.handleMutationEffectTabSelect},u.createElement("span",{className:"title"},"Biological Effect"),u.createElement("span",{className:"title-content"},this.props.mutationEffect||"Unknown"))),u.createElement("div",{className:"indicator"}))),u.createElement(m.If,{condition:"oncogenicity"===this.state.activeTab},u.createElement("div",{className:"col s12 oncogenicity"},u.createElement("div",{className:"summary",style:{padding:"10px 0"}},u.createElement("p",null,this.props.geneSummary),u.createElement("p",null,this.insertLink(this.props.variantSummary,{keyword:"Chang et al. 2016",link:"https://www.ncbi.nlm.nih.gov/pubmed/26619011"})),u.createElement("p",null,this.props.tumorTypeSummary)),u.createElement(m.If,{condition:this.props.treatments.length>0},u.createElement("div",{className:"treatments-wrapper"},u.createElement("table",{className:"table",style:{marginTop:6}},u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",{key:"level",scope:"col"},"Level"),u.createElement("th",{key:"alterations",scope:"col"},"Alteration(s)"),u.createElement("th",{key:"drugs",scope:"col"},"Drug(s)"),u.createElement("th",{key:"cancerTypes",scope:"col"},"Level-associated",u.createElement("br",null),"cancer type(s)"),u.createElement("th",{key:"citations",scope:"col"},"Citation(s)"))),u.createElement("tbody",null,this.generateTreatmentRows(this.props.treatments,t.LEVEL_DESC,this.props.pmidData))))))),u.createElement(m.If,{condition:"mutationEffect"===this.state.activeTab},u.createElement("div",{className:"col s12 tab-pane mutation-effect"},u.createElement(m.If,{condition:void 0!==this.props.biologicalSummary&&this.props.biologicalSummary.length>0},u.createElement(m.Then,null,u.createElement("div",null,this.summaryWithRefs(this.props.biologicalSummary,"tooltip"))),u.createElement(m.Else,null,u.createElement(m.If,{condition:this.props.mutationEffectPmids.length>0},u.createElement(m.Then,null,u.createElement("div",{className:"refs"},u.createElement("ul",{className:"list-group",style:{marginBottom:0}},this.pmidList(this.props.mutationEffectPmids,this.props.pmidData)))),u.createElement(m.Else,null,u.createElement("span",null,"Mutation effect information is not available.")))))))),u.createElement("div",{className:"item disclaimer"},u.createElement("span",null,"The information above is intended for research purposes only and should not be used as a substitute for professional diagnosis and treatment.")),u.createElement("div",{className:"item-list levels-wrapper"},u.createElement("div",{
className:"collapsible-header",onClick:this.handleLevelCollapse},"Levels",u.createElement("span",{className:"secondary-content"},u.createElement(m.If,{condition:this.state.levelsCollapsed},u.createElement("i",{className:"fa fa-chevron-down"})),u.createElement(m.If,{condition:!this.state.levelsCollapsed},u.createElement("i",{className:"fa fa-chevron-up"})))),u.createElement(h.default,{isOpened:!this.state.levelsCollapsed},u.createElement("div",{className:"levels oncokb-card-levels-collapse"},u.createElement("ul",null,this.generateLevelRows(t.LEVELS,t.LEVEL_DESC)))))),this.props.geneNotExist&&u.createElement("div",{className:"additional-info"},"There is currently no information about this gene in OncoKB."),u.createElement("div",{className:"item footer"},u.createElement("a",{href:"http://oncokb.org/#/gene/{{gene}}",target:"_blank"},u.createElement("img",{src:n(712),className:"oncokb-logo",alt:"OncoKB"})),u.createElement("span",{className:"pull-right feedback"},u.createElement("button",{className:"btn btn-default btn-sm",onClick:this.props.handleFeedbackOpen},"Feedback")))))}},{key:"handleOncogenicityTabSelect",value:function(){this.handleTabSelect("oncogenicity")}},{key:"handleMutationEffectTabSelect",value:function(){this.handleTabSelect("mutationEffect")}},{key:"handleTabSelect",value:function(e){this.setState({activeTab:e})}},{key:"handleLevelCollapse",value:function(){this.setState({levelsCollapsed:!this.state.levelsCollapsed})}},{key:"insertLink",value:function(e,t){if(!e)return e;var n=[],r=e.split(t.keyword);n.push(r[0]);for(var o=u.createElement("a",{href:t.link,target:t.target||"_blank"},t.keyword),a=1;a<r.length;a++)n.push(o),n.push(r[a]);return n}},{key:"refComponent",value:function(e,t){var n=this,r=e.split(/pmid|nct/i);if(r.length<2)return null;var o=r[1].match(/[0-9]+/g);if(!o)return null;var a=void 0,i=void 0;e.toLowerCase().indexOf("pmid")>=0?(a="http://www.ncbi.nlm.nih.gov/pubmed/",i="PMID: "):e.toLowerCase().indexOf("nct")>=0&&(a="http://www.ncbi.nlm.nih.gov/pubmed/",i="NCT");var s=void 0;if(a&&i&&(s=u.createElement("a",{target:"_blank",href:""+a+o.join(",")},""+i+o.join(","))),"tooltip"===t){var l=function(){return u.createElement("div",{style:{maxWidth:"400px",maxHeight:"200px",overflowY:"auto"}},u.createElement("ul",{className:"list-group",style:{marginBottom:0}},n.pmidList(o.map(function(e){return parseInt(e)}),n.props.pmidData)))};return u.createElement("span",null,r[0],u.createElement(g.default,{overlay:l,placement:"right",trigger:["hover","focus"],destroyTooltipOnHide:!0},u.createElement("i",{className:"fa fa-book",style:{color:"black"}})),")")}return s?u.createElement("span",null,r[0],s,")"):null}},{key:"summaryWithRefs",value:function(e,t){var n=this;if(!e)return e;var r=[],o=/(\(.*?[PMID|NCT].*?\))/i,a=e.split(o);return a.forEach(function(e){if(e.match(o)){var a=n.refComponent(e,t);a&&r.push(a)}else r.push(e)}),r}}]),t}(u.Component);t.default=b},function(e,t,n){"use strict";var r=n(688).default;e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(343),p=r(u),f=n(689),d=n(704),h=r(d),m=.5,y=function(e){return Math.max(0,parseFloat(e)).toFixed(1)},g=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onHeightReady=function(e){var t=n.props,r=t.isOpened,o=t.onHeightReady;n.renderStatic&&r&&(n.height=y(e)),n.setState({height:r||!n.renderStatic?e:0});var a=r?e:0;n.state.height!==a&&o(a)},n.state={height:-1,isOpenedChanged:!1},n}return s(t,e),c(t,[{key:"componentWillMount",value:function(){this.height=y(0),this.renderStatic=!0}},{key:"componentWillReceiveProps",value:function(e){var t=e.isOpened;this.setState({isOpenedChanged:t!==this.props.isOpened})}},{key:"componentDidUpdate",value:function(e){var t=e.isOpened;if(t!==this.props.isOpened){var n=this.props.isOpened?this.state.height:0;this.props.onHeightReady(n)}}},{key:"getMotionHeight",value:function(e){var t=this.props,n=t.isOpened,r=t.springConfig,o=t.fixedHeight,a=this.state.isOpenedChanged,i=n?Math.max(0,parseFloat(e)).toFixed(1):y(0),s=!a&&!n||this.height===i&&o===-1,c=(0,f.spring)(n?Math.max(0,e):0,l({precision:m},r)),u=n?Math.max(0,e):0;return s?u:c}},{key:"renderFixed",value:function(){var e=this,t=this.props,n=(t.springConfig,t.onHeightReady,t.onRest,t.isOpened),r=t.style,a=t.children,i=t.fixedHeight,s=t.keepCollapsedContent,c=o(t,["springConfig","onHeightReady","onRest","isOpened","style","children","fixedHeight","keepCollapsedContent"]);if(this.renderStatic){this.renderStatic=!1;var u={overflow:"hidden",height:n?i:0};return s||n?(this.height=y(i),p.default.createElement("div",l({style:l({},u,r)},c),a)):null}return p.default.createElement(f.Motion,{defaultStyle:{height:n?0:i},style:{height:this.getMotionHeight(i)}},function(t){var o=t.height;if(e.height=y(o),!s&&!n&&e.height===y(0))return null;var i={overflow:"hidden",height:o};return p.default.createElement("div",l({style:l({},i,r)},c),a)})}},{key:"render",value:function(){var e=this,t=this.props,n=(t.springConfig,t.onHeightReady,t.isOpened),r=t.style,a=t.children,i=t.fixedHeight,s=t.keepCollapsedContent,c=t.onRest,u=o(t,["springConfig","onHeightReady","isOpened","style","children","fixedHeight","keepCollapsedContent","onRest"]);if(i>-1)return this.renderFixed();var d=this.renderStatic,m=this.state.height,g=parseFloat(m).toFixed(1);m>-1&&d&&(this.renderStatic=!1);var v=p.default.createElement(h.default,{onHeightReady:this.onHeightReady},a);if(d){var b=n?{height:"auto"}:{overflow:"hidden",height:0};return!n&&m>-1?s?p.default.createElement("div",l({style:l({height:0,overflow:"hidden"},r)},u),v):null:p.default.createElement(f.Motion,{defaultStyle:{height:Math.max(0,m)},style:{height:Math.max(0,m)},onRest:c},function(){return p.default.createElement("div",l({style:l({},b,r)},u),v)})}return p.default.createElement(f.Motion,{defaultStyle:{height:Math.max(0,m)},onRest:c,style:{height:this.getMotionHeight(m)}},function(t){if(e.height=y(t.height),!n&&"0.0"===e.height)return s?p.default.createElement("div",l({style:l({height:0,overflow:"hidden"},r)},u),v):null;var o=n&&e.height===g?{height:"auto"}:{height:t.height,overflow:"hidden"};return p.default.createElement("div",l({style:l({},o,r)},u),v)})}}]),t}(p.default.Component);g.defaultProps={fixedHeight:-1,style:{},keepCollapsedContent:!1,onHeightReady:function(){}},t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var o=n(690);t.Motion=r(o);var a=n(698);t.StaggeredMotion=r(a);var i=n(699);t.TransitionMotion=r(i);var s=n(701);t.spring=r(s);var l=n(702);t.presets=r(l);var c=n(692);t.stripStyle=r(c);var u=n(703);t.reorderKeys=r(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(691),i=r(a),s=n(692),l=r(s),c=n(693),u=r(c),p=n(694),f=r(p),d=n(696),h=r(d),m=n(697),y=r(m),g=n(343),v=r(g),b=n(350),w=r(b),C=n(354),T=r(C),S=1e3/60,x=T.default({propTypes:{defaultStyle:w.default.objectOf(w.default.number),style:w.default.objectOf(w.default.oneOfType([w.default.number,w.default.object])).isRequired,children:w.default.func.isRequired,onRest:w.default.func},getInitialState:function(){var e=this.props,t=e.defaultStyle,n=e.style,r=t||l.default(n),o=i.default(r);return{currentStyle:r,currentVelocity:o,lastIdealStyle:r,lastIdealVelocity:o}},wasAnimating:!1,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyle:null,clearUnreadPropStyle:function(e){var t=!1,n=this.state,r=n.currentStyle,a=n.currentVelocity,i=n.lastIdealStyle,s=n.lastIdealVelocity;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var c=e[l];"number"==typeof c&&(t||(t=!0,r=o({},r),a=o({},a),i=o({},i),s=o({},s)),r[l]=c,a[l]=0,i[l]=c,s[l]=0)}t&&this.setState({currentStyle:r,currentVelocity:a,lastIdealStyle:i,lastIdealVelocity:s})},startAnimationIfNecessary:function(){var e=this;this.animationID=h.default(function(t){var n=e.props.style;if(y.default(e.state.currentStyle,n,e.state.currentVelocity))return e.wasAnimating&&e.props.onRest&&e.props.onRest(),e.animationID=null,e.wasAnimating=!1,void(e.accumulatedTime=0);e.wasAnimating=!0;var r=t||f.default(),o=r-e.prevTime;if(e.prevTime=r,e.accumulatedTime=e.accumulatedTime+o,e.accumulatedTime>10*S&&(e.accumulatedTime=0),0===e.accumulatedTime)return e.animationID=null,void e.startAnimationIfNecessary();var a=(e.accumulatedTime-Math.floor(e.accumulatedTime/S)*S)/S,i=Math.floor(e.accumulatedTime/S),s={},l={},c={},p={};for(var d in n)if(Object.prototype.hasOwnProperty.call(n,d)){var h=n[d];if("number"==typeof h)c[d]=h,p[d]=0,s[d]=h,l[d]=0;else{for(var m=e.state.lastIdealStyle[d],g=e.state.lastIdealVelocity[d],v=0;v<i;v++){var b=u.default(S/1e3,m,g,h.val,h.stiffness,h.damping,h.precision);m=b[0],g=b[1]}var w=u.default(S/1e3,m,g,h.val,h.stiffness,h.damping,h.precision),C=w[0],T=w[1];c[d]=m+(C-m)*a,p[d]=g+(T-g)*a,s[d]=m,l[d]=g}}e.animationID=null,e.accumulatedTime-=i*S,e.setState({currentStyle:c,currentVelocity:p,lastIdealStyle:s,lastIdealVelocity:l}),e.unreadPropStyle=null,e.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=f.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=f.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(h.default.cancel(this.animationID),this.animationID=null)},render:function(){var e=this.props.children(this.state.currentStyle);return e&&v.default.Children.only(e)}});t.default=x,e.exports=t.default},function(e,t){"use strict";function n(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=0);return t}t.__esModule=!0,t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]="number"==typeof e[n]?e[n]:e[n].val);return t}t.__esModule=!0,t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e,t,n,o,a,i,s){var l=-a*(t-o),c=-i*n,u=l+c,p=n+u*e,f=t+p*e;return Math.abs(p)<s&&Math.abs(f-o)<s?(r[0]=o,r[1]=0,r):(r[0]=f,r[1]=p,r)}t.__esModule=!0,t.default=n;var r=[0,0];e.exports=t.default},function(e,t,n){(function(t){(function(){var n,r,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-o)/1e6},r=t.hrtime,n=function(){var e;return e=r(),1e9*e[0]+e[1]},o=n()):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(t,n(695))},function(e,t,n){e.exports=n(344)(285)},function(e,t,n){(function(t){for(var r=n(694),o="undefined"==typeof window?t:window,a=["moz","webkit"],i="AnimationFrame",s=o["request"+i],l=o["cancel"+i]||o["cancelRequest"+i],c=0;!s&&c<a.length;c++)s=o[a[c]+"Request"+i],l=o[a[c]+"Cancel"+i]||o[a[c]+"CancelRequest"+i];if(!s||!l){var u=0,p=0,f=[],d=1e3/60;s=function(e){if(0===f.length){var t=r(),n=Math.max(0,d-(t-u));u=n+t,setTimeout(function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return f.push({handle:++p,callback:e,cancelled:!1}),p},l=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return s.call(o,e)},e.exports.cancel=function(){l.apply(o,arguments)},e.exports.polyfill=function(){o.requestAnimationFrame=s,o.cancelAnimationFrame=l}}).call(t,function(){return this}())},function(e,t){"use strict";function n(e,t,n){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(0!==n[r])return!1;var o="number"==typeof t[r]?t[r]:t[r].val;if(e[r]!==o)return!1}return!0}t.__esModule=!0,t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){for(var r=0;r<e.length;r++)if(!g.default(e[r],t[r],n[r]))return!1;return!0}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(691),s=r(i),l=n(692),c=r(l),u=n(693),p=r(u),f=n(694),d=r(f),h=n(696),m=r(h),y=n(697),g=r(y),v=n(343),b=r(v),w=n(350),C=r(w),T=n(354),S=r(T),x=1e3/60,A=S.default({propTypes:{defaultStyles:C.default.arrayOf(C.default.objectOf(C.default.number)),styles:C.default.func.isRequired,children:C.default.func.isRequired},getInitialState:function(){var e=this.props,t=e.defaultStyles,n=e.styles,r=t||n().map(c.default),o=r.map(function(e){return s.default(e)});return{currentStyles:r,currentVelocities:o,lastIdealStyles:r,lastIdealVelocities:o}},animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(e){for(var t=this.state,n=t.currentStyles,r=t.currentVelocities,o=t.lastIdealStyles,i=t.lastIdealVelocities,s=!1,l=0;l<e.length;l++){var c=e[l],u=!1;for(var p in c)if(Object.prototype.hasOwnProperty.call(c,p)){var f=c[p];"number"==typeof f&&(u||(u=!0,s=!0,n[l]=a({},n[l]),r[l]=a({},r[l]),o[l]=a({},o[l]),i[l]=a({},i[l])),n[l][p]=f,r[l][p]=0,o[l][p]=f,i[l][p]=0)}}s&&this.setState({currentStyles:n,currentVelocities:r,lastIdealStyles:o,lastIdealVelocities:i})},startAnimationIfNecessary:function(){var e=this;this.animationID=m.default(function(t){var n=e.props.styles(e.state.lastIdealStyles);if(o(e.state.currentStyles,n,e.state.currentVelocities))return e.animationID=null,void(e.accumulatedTime=0);var r=t||d.default(),a=r-e.prevTime;if(e.prevTime=r,e.accumulatedTime=e.accumulatedTime+a,e.accumulatedTime>10*x&&(e.accumulatedTime=0),0===e.accumulatedTime)return e.animationID=null,void e.startAnimationIfNecessary();for(var i=(e.accumulatedTime-Math.floor(e.accumulatedTime/x)*x)/x,s=Math.floor(e.accumulatedTime/x),l=[],c=[],u=[],f=[],h=0;h<n.length;h++){var m=n[h],y={},g={},v={},b={};for(var w in m)if(Object.prototype.hasOwnProperty.call(m,w)){var C=m[w];if("number"==typeof C)y[w]=C,g[w]=0,v[w]=C,b[w]=0;else{for(var T=e.state.lastIdealStyles[h][w],S=e.state.lastIdealVelocities[h][w],A=0;A<s;A++){var k=p.default(x/1e3,T,S,C.val,C.stiffness,C.damping,C.precision);T=k[0],S=k[1]}var E=p.default(x/1e3,T,S,C.val,C.stiffness,C.damping,C.precision),M=E[0],_=E[1];y[w]=T+(M-T)*i,g[w]=S+(_-S)*i,v[w]=T,b[w]=S}}u[h]=y,f[h]=g,l[h]=v,c[h]=b}e.animationID=null,e.accumulatedTime-=s*x,e.setState({currentStyles:u,currentVelocities:f,lastIdealStyles:l,lastIdealVelocities:c}),e.unreadPropStyles=null,e.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=d.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=d.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(m.default.cancel(this.animationID),this.animationID=null)},render:function(){var e=this.props.children(this.state.currentStyles);return e&&b.default.Children.only(e)}});t.default=A,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=t;return null==r?e.map(function(e,t){return{key:e.key,data:e.data,style:n[t]}}):e.map(function(e,t){for(var o=0;o<r.length;o++)if(r[o].key===e.key)return{key:r[o].key,data:r[o].data,style:n[t]};return{key:e.key,data:e.data,style:n[t]}})}function a(e,t,n,r){if(r.length!==t.length)return!1;for(var o=0;o<r.length;o++)if(r[o].key!==t[o].key)return!1;for(var o=0;o<r.length;o++)if(!C.default(e[o],t[o].style,n[o]))return!1;return!0}function i(e,t,n,r,o,a,i,s,l){for(var u=m.default(r,o,function(e,r){var o=t(r);return null==o?(n({key:r.key,data:r.data}),null):C.default(a[e],o,i[e])?(n({key:r.key,data:r.data}),null):{key:r.key,data:r.data,style:o}}),p=[],f=[],d=[],h=[],y=0;y<u.length;y++){for(var g=u[y],v=null,b=0;b<r.length;b++)if(r[b].key===g.key){v=b;break}if(null==v){var w=e(g);p[y]=w,d[y]=w;var T=c.default(g.style);f[y]=T,h[y]=T}else p[y]=a[v],d[y]=s[v],f[y]=i[v],h[y]=l[v]}return[u,p,f,d,h]}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(691),c=r(l),u=n(692),p=r(u),f=n(693),d=r(f),h=n(700),m=r(h),y=n(694),g=r(y),v=n(696),b=r(v),w=n(697),C=r(w),T=n(343),S=r(T),x=n(350),A=r(x),k=n(354),E=r(k),M=1e3/60,_=E.default({propTypes:{defaultStyles:A.default.arrayOf(A.default.shape({key:A.default.string.isRequired,data:A.default.any,style:A.default.objectOf(A.default.number).isRequired})),styles:A.default.oneOfType([A.default.func,A.default.arrayOf(A.default.shape({key:A.default.string.isRequired,data:A.default.any,style:A.default.objectOf(A.default.oneOfType([A.default.number,A.default.object])).isRequired}))]).isRequired,children:A.default.func.isRequired,willEnter:A.default.func,willLeave:A.default.func,didLeave:A.default.func},getDefaultProps:function(){return{willEnter:function(e){return p.default(e.style)},willLeave:function(){return null},didLeave:function(){}}},getInitialState:function(){var e=this.props,t=e.defaultStyles,n=e.styles,r=e.willEnter,o=e.willLeave,a=e.didLeave,s="function"==typeof n?n(t):n,l=void 0;l=null==t?s:t.map(function(e){for(var t=0;t<s.length;t++)if(s[t].key===e.key)return s[t];return e});var u=null==t?s.map(function(e){return p.default(e.style)}):t.map(function(e){return p.default(e.style)}),f=null==t?s.map(function(e){return c.default(e.style)}):t.map(function(e){return c.default(e.style)}),d=i(r,o,a,l,s,u,f,u,f),h=d[0],m=d[1],y=d[2],g=d[3],v=d[4];return{currentStyles:m,currentVelocities:y,lastIdealStyles:g,lastIdealVelocities:v,mergedPropsStyles:h}},unmounting:!1,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(e){for(var t=i(this.props.willEnter,this.props.willLeave,this.props.didLeave,this.state.mergedPropsStyles,e,this.state.currentStyles,this.state.currentVelocities,this.state.lastIdealStyles,this.state.lastIdealVelocities),n=t[0],r=t[1],o=t[2],a=t[3],l=t[4],c=0;c<e.length;c++){var u=e[c].style,p=!1;for(var f in u)if(Object.prototype.hasOwnProperty.call(u,f)){var d=u[f];"number"==typeof d&&(p||(p=!0,r[c]=s({},r[c]),o[c]=s({},o[c]),a[c]=s({},a[c]),l[c]=s({},l[c]),n[c]={key:n[c].key,data:n[c].data,style:s({},n[c].style)}),r[c][f]=d,o[c][f]=0,a[c][f]=d,l[c][f]=0,n[c].style[f]=d)}}this.setState({currentStyles:r,currentVelocities:o,mergedPropsStyles:n,lastIdealStyles:a,lastIdealVelocities:l})},startAnimationIfNecessary:function(){var e=this;this.unmounting||(this.animationID=b.default(function(t){if(!e.unmounting){var n=e.props.styles,r="function"==typeof n?n(o(e.state.mergedPropsStyles,e.unreadPropStyles,e.state.lastIdealStyles)):n;if(a(e.state.currentStyles,r,e.state.currentVelocities,e.state.mergedPropsStyles))return e.animationID=null,void(e.accumulatedTime=0);var s=t||g.default(),l=s-e.prevTime;if(e.prevTime=s,e.accumulatedTime=e.accumulatedTime+l,e.accumulatedTime>10*M&&(e.accumulatedTime=0),0===e.accumulatedTime)return e.animationID=null,void e.startAnimationIfNecessary();for(var c=(e.accumulatedTime-Math.floor(e.accumulatedTime/M)*M)/M,u=Math.floor(e.accumulatedTime/M),p=i(e.props.willEnter,e.props.willLeave,e.props.didLeave,e.state.mergedPropsStyles,r,e.state.currentStyles,e.state.currentVelocities,e.state.lastIdealStyles,e.state.lastIdealVelocities),f=p[0],h=p[1],m=p[2],y=p[3],v=p[4],b=0;b<f.length;b++){var w=f[b].style,C={},T={},S={},x={};for(var A in w)if(Object.prototype.hasOwnProperty.call(w,A)){var k=w[A];if("number"==typeof k)C[A]=k,T[A]=0,S[A]=k,x[A]=0;else{for(var E=y[b][A],_=v[b][A],P=0;P<u;P++){var O=d.default(M/1e3,E,_,k.val,k.stiffness,k.damping,k.precision);E=O[0],_=O[1]}var I=d.default(M/1e3,E,_,k.val,k.stiffness,k.damping,k.precision),R=I[0],L=I[1];C[A]=E+(R-E)*c,T[A]=_+(L-_)*c,S[A]=E,x[A]=_}}y[b]=S,v[b]=x,h[b]=C,m[b]=T}e.animationID=null,e.accumulatedTime-=u*M,e.setState({currentStyles:h,currentVelocities:m,lastIdealStyles:y,lastIdealVelocities:v,mergedPropsStyles:f}),e.unreadPropStyles=null,e.startAnimationIfNecessary()}}))},componentDidMount:function(){this.prevTime=g.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;"function"==typeof t?this.unreadPropStyles=t(o(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):this.unreadPropStyles=t,null==this.animationID&&(this.prevTime=g.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){this.unmounting=!0,null!=this.animationID&&(b.default.cancel(this.animationID),this.animationID=null)},render:function(){var e=o(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&S.default.Children.only(t)}});t.default=_,e.exports=t.default},function(e,t){"use strict";function n(e,t,n){for(var r={},o=0;o<e.length;o++)r[e[o].key]=o;for(var a={},o=0;o<t.length;o++)a[t[o].key]=o;for(var i=[],o=0;o<t.length;o++)i[o]=t[o];for(var o=0;o<e.length;o++)if(!Object.prototype.hasOwnProperty.call(a,e[o].key)){var s=n(o,e[o]);null!=s&&i.push(s)}return i.sort(function(e,n){var o=a[e.key],i=a[n.key],s=r[e.key],l=r[n.key];if(null!=o&&null!=i)return a[e.key]-a[n.key];if(null!=s&&null!=l)return r[e.key]-r[n.key];if(null!=o){for(var c=0;c<t.length;c++){var u=t[c].key;if(Object.prototype.hasOwnProperty.call(r,u)){if(o<a[u]&&l>r[u])return-1;if(o>a[u]&&l<r[u])return 1}}return 1}for(var c=0;c<t.length;c++){var u=t[c].key;if(Object.prototype.hasOwnProperty.call(r,u)){if(i<a[u]&&s>r[u])return 1;if(i>a[u]&&s<r[u])return-1}}return-1})}t.__esModule=!0,t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return a({},l,t,{val:e})}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var i=n(702),s=r(i),l=a({},s.default.noWobble,{precision:.01});e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},function(e,t,n){"use strict";function r(){}t.__esModule=!0,t.default=r;e.exports=t.default},function(e,t,n){"use strict";var r=n(705).default;e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(343),s=r(i),l=n(350),c=r(l),u=n(354),p=r(u),f=n(706),d=function(e){return e.clientHeight},h=(0,p.default)({propTypes:{children:c.default.node.isRequired,onHeightReady:c.default.func.isRequired,hidden:c.default.bool,dirty:c.default.bool,getElementHeight:c.default.func},getDefaultProps:function(){return{hidden:!1,dirty:!0,getElementHeight:d}},getInitialState:function(){return{height:0,dirty:this.props.dirty}},componentDidMount:function(){var e=this,t=this.props.getElementHeight(this.wrapper),n=!1;this.setState({height:t,dirty:n},function(){return e.props.onHeightReady(e.state.height)})},componentWillReceiveProps:function(e){var t=e.children,n=e.dirty;(t!==this.props.children||n)&&this.setState({dirty:!0})},shouldComponentUpdate:f.shouldComponentUpdate,componentDidUpdate:function(){var e=this,t=this.props.getElementHeight(this.wrapper),n=!1;t===this.state.height?this.setState({dirty:n}):this.setState({height:t,dirty:n},function(){return e.props.onHeightReady(e.state.height)})},setWrapperRef:function(e){this.wrapper=e},render:function(){var e=this.props,t=(e.onHeightReady,e.getElementHeight,e.dirty,e.hidden),n=e.children,r=o(e,["onHeightReady","getElementHeight","dirty","hidden","children"]),i=this.state.dirty;return t&&!i?null:t?s.default.createElement("div",{style:{height:0,overflow:"hidden"}},s.default.createElement("div",a({ref:this.setWrapperRef},r),n)):s.default.createElement("div",a({ref:this.setWrapperRef},r),n)}});t.default=h},function(e,t,n){"use strict";var r=n(707),o={shouldComponentUpdate:function(e,t){return r(this,e,t)}};e.exports=o},function(e,t,n){"use strict";function r(e,t,n){return!o(e.props,t)||!o(e.state,n)}var o=n(708);e.exports=r},,453,453,function(e,t,n){e.exports=n.p+"reactapp/images/34306b402bf488d807a92babe7055d39.png"},function(e,t,n){e.exports=n.p+"reactapp/images/ac30afc0653ff15c1ea9fd9cbae0414a.png"},function(e,t,n){e.exports=n.p+"reactapp/images/069a019b10e7aa07f55618e44ea3e787.png"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.querySelector(".rc-tooltip-arrow");t.style.display="none"}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.hideArrow=l;var p=n(343),f=o(p),d=n(346),h=n(527),m=n(471),y=r(m),g=n(676),v=r(g),b=n(406),w=n(715),C=r(w),T=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},S=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tooltipDataLoadComplete=!1,n.cardContent=n.cardContent.bind(n),n}return s(t,e),c(t,[{key:"render",value:function(){var e=f.createElement("span",{className:""+v.default["annotation-item"]}),t=14,r=14,o=n(718);if(this.props.hasCivicVariants||(o=n(719)),"error"==this.props.civicStatus)e=this.errorIcon();else if(void 0!==this.props.civicEntry){if(null!==this.props.civicEntry&&"complete"==this.props.civicStatus){e=f.createElement("span",{className:""+v.default["annotation-item"]},f.createElement("img",{width:t,height:r,src:o,alt:"Civic Variant Entry"}));var a=f.createElement("div",{className:"rc-tooltip-arrow-inner"});e=f.createElement(y.default,{overlay:this.cardContent.bind(this,this.props.civicEntry),placement:"right",trigger:["hover","focus"],arrowContent:a,onPopupAlign:l,destroyTooltipOnHide:!1},e)}}else e=this.loaderIcon();return e}},{key:"loaderIcon",value:function(){return f.createElement(h.Circle,{size:18,scaleEnd:.5,scaleStart:.2,color:"#aaa",className:"pull-left"})}},{key:"errorIcon",value:function(){return f.createElement(y.default,{overlay:f.createElement("span",null,"Error fetching Civic data"),placement:"right",trigger:["hover","focus"],destroyTooltipOnHide:!0},f.createElement("span",{className:""+v.default["annotation-item-error"]},f.createElement("i",{className:"fa fa-exclamation-triangle text-danger"})))}},{key:"cardContent",value:function(e){return f.createElement(C.default,{title:"CIViC Variants",geneName:e.name,geneDescription:e.description,geneUrl:e.url,variants:e.variants})}}],[{key:"sortValue",value:function(e){var t=0;return e&&(t=1),t}}]),t}(f.Component);T([b.observable],S.prototype,"tooltipDataLoadComplete",void 0),S=T([d.observer],S),t.default=S},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(343),c=r(l);n(716);var u=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),s(t,[{key:"generateVariants",value:function(e){var t=[];if(e)for(var n in e){var r=e[n],o="";for(var a in r.evidence)o+=a.toLowerCase()+": "+r.evidence[a]+", ";o=o.slice(0,-2)+".",t.push(this.variantItem(r.url,r.name,o,r.description))}else t.push(this.variantItem());return t}},{key:"variantItem",value:function(e,t,n,r){var o=void 0;return o=e||t||n||r?c.createElement("div",{className:"civic-card-variant"},c.createElement("div",{className:"civic-card-variant-header"},c.createElement("span",{className:"civic-card-variant-name"},c.createElement("a",{href:e,target:"_blank"},t)),c.createElement("span",{className:"civic-card-variant-entry-types"}," Entries: ",n)),c.createElement("div",{className:"civic-card-variant-description summary"},r)):c.createElement("div",{
className:"civic-card-variant"},c.createElement("div",{className:"civic-card-variant-description summary"},"Information about the oncogenic activity of this alteration is not yet available in CIViC."))}},{key:"render",value:function(){return c.createElement("div",{className:"civic-card"},c.createElement("span",null,c.createElement("div",{className:"col s12 tip-header"},this.props.title),c.createElement("div",{className:"col s12 civic-card-content"},c.createElement("div",{className:"col s12 civic-card-gene"},c.createElement("p",null,c.createElement("span",{className:"civic-card-gene-name"},c.createElement("a",{href:this.props.geneUrl,target:"_blank"},c.createElement("b",null,this.props.geneName)))," - ",this.props.geneDescription)),c.createElement("div",{className:"col s12"},c.createElement("ul",null,this.generateVariants(this.props.variants))),c.createElement("div",{className:"item disclaimer"},c.createElement("span",null,"Disclaimer: This resource is intended for purely research purposes. It should not be used for emergencies or medical or professional advice.")))),c.createElement("div",{className:"item footer"},c.createElement("a",{href:this.props.geneUrl,target:"_blank"},c.createElement("img",{src:n(717),className:"civic-logo",alt:"CIViC"}))))}}]),t}(c.Component);t.default=u},453,function(e,t,n){e.exports=n.p+"reactapp/images/71fb7f0a5b1cf694468e7ba7e69bd939.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QETDRgRjnOYvgAAFfVJREFUeNrlW3mUVNWd/u6979XSCxRNA9INCIgii0TBqAi4EKISxTVRnKgxLkedyGQkxiTujkYxaswomkSdxETjIUhYXVDMSNTYqElABQZbAQVBoOnq7lreu/udP97romibpRUyMVN93qk6VW+53/fbf7/bwP/zF/l7P7Ai0QvDMsf7dXTM4Opkv68CJFOQmxZvlx+sagxfDrcHH/zzEnBC7bQeI2unLqtO1B/i0RScE3BwcA6QJoe8asL67JIRr7Q9tJqr/D8PASk/g7Pqf3HRoO7jf+MRCus0aPxwBwfrNIxTsM5CO4NNheXzl4a3nLNl23r7T0HA+Qc+ceOQmpNvhw3BiIcE9eGBwcFBOQPtFIxV0I5DmRAGwJZgDRY2XUmLxZzbn2tj+xv8xD7TDxrV66L5sAE86qOCplFdU4HKnikwyuAkYCM9AAA4Z2EcR9LLoEp342uD117bn+uj+/Pm1RUZMqLmvA/gOAihSBAfqe5JpHsmkaxMwEt6oKCgICCEgYCAEg8UDMRJ9K4ac1f/nod6X1gCDqs6s3eFXwtnFSgIKKGgDrChhSpqWGlBABCQki0SAIRQAA4JVonB9oSLv7AE9EuOuxNuhx8zzkLkJYpNHLKoQD2HZA+KJCPwYhIcykzeKXRL9n80XVFNvnAEeF6CpL3upzqn0G7l2mlwq6CkAjyDRA1BZZ2HinoPHmuHb+CcBpyFcwaUpFCVzLAvGgGkMlVNCPH7GCtgnYF1CtYpaKdgnQZJOiSqAL8C8CocSFLDxb9Zp6GdhLUClHio9DLJ/RWx9oeDIQAghIYwOVhnYJwCdTu41hbQikAIgHmAkhJaRaHQWAXjFLSVcDCwToNrbsru7f5RCdhJQly1uaLKNmonDiHWgIDAIw4gDpJoBNsNDBQoA3ieg4ccyikYJ6JcwHI4Z2GdRFE0606e4/6RCOhUPbeJ5Tf31sNngSWjFRMDRj1YR+G4gtxEAWYhlYKwHMpySBNCOwEHCw2HQDU1FsIWs4tnuv9rH0B2Z5tr7dKFObkFykpoK2L7bk97HJxzgGtPh22ZrzCwVkFajo30jdOcc/stk6X7WurlxDS1bBCbcw1PKmdLmV4U81mUElf68KujtDiK/YiLIw0NICc+xtrssnV7IJp8HiLoPgb/qcUsV09c1srXw4HCwZTOIiBgSQaW8naAd7akJYHJYY2Z09cY47pA+t+FALKX3xMApFgsmlXy90cHlsO58jSHgPkeEkkvMmbnYGITkHD4JGy4f0Pz/2zvhFTShTXscwL25sHlCyQAsGbb0uWb2l593RIG50xEAiGgCQovFRXGFu3SB3J8I1YU51zf4d6dEfG5SaD7AXz5YkuLbhAPntrCP4ID4BxgHcAoA/MZLByM09BOoGjyWGWeGsU5N53dZ1+TQPcT+I7vNNfWGq7MPfUNDbuzqlDEpFhY57At/7f565vebtwF6H1Owi4JqKmpIYMGDSGZTKYrar+rAwBIs/zwbWclCCGx0wPgdlSCIAwB3b50T/fZlyTslAil02l86/xLK8/9xjcvPGjg4O8kU+mRhWKh8b3GNQ8+9vjPn1j03Lyc1nqPNt/JdwQAGE1Wguy8po6OkRDrlV2zu0THdTin9Ll//4Hs9K+d0XP8+ImTajM9Dm7NtXz8zqoVLy5ZsnjTsrcaTKcEHD7qy+SXMx+776gJo64p/WqBPqg+5KChfR885aQTH3ztzw2/uvDyqf+6YcMGtZfgafl3johI6u1r/hQ8C+OMjq9znYDd1ecSCVdfeU2/a797/Ud9etWCCwVjNRgBJk08GZd+60o8/YdZR19/y7VvKqV2LLCurg6LF7yUPWrCqGsigyxbPgWgAauB48aNveT5+X/kvXr18vcAnsRXlr8TDU3b5e0ifqNMMM4OnZWwhprd3WM3Wob77p456bYbZ3yU8Hx8sm0rcoUWFIM8coUctjc3QSmJC86/8I1fP/LEd3fyAT+b8fPz+gzsloHdRZRNAZ4HFAoSQwYPwZ23333PXnj+jmRQy2QpCrSz4DqoggHnZdR3Br7TcHjB1IsPPf+cC1/IZrdDaoGE78NnPnzPA6UUHqOw2mBb01Yce8z4n93wgxuPAQA6btxx9KwzTp8FtYeYwADP99CWa8GEY4+bduToI2t3A552BA+AEo2oF0DipNe5WPo7tMASIcuv2RsHW1lZ6V1/3a2rtNVIp1NIpdJI+D48j4FSBsaid8KiqLM9ux0nTTq5YcSIEYyee9b5o71KAGYv+sfOwliDZMLHlNOmXLUb8OgEBFXap87JMsu2sfBdqRlmqDSdELhLAlKpFPuvmU9e07dPX6QSSaTTaSQTCXgJD8zzQBkBoQAh8QHAaAXqUUyaOOkIOqBf/TgT7l1haZ2DsxYhDzBw4MArd6OaHdWXRe+8NAlqD4NRFIirQwDWKV12ze40ARNPOLnvG0vf/cs5Z595F2UE6XQKCT8Bz6PwWQSelkKuLXuehRAcNTU1x9NiEBSdBbQCoHaD3gBKKyglUAyKqKmp6TN69Oghu7F/2uHwLLW0vbR1kfeLzWDHYxQNTRydOvqBEgmDBg2umPnTx65+fv7iD0eNGjJSKhfZfILB86IDsdQjR2OB9gmU0dBaQkkJP+HXe9uy2z4QSgEOIPDBSCdtEgdIbhGKAgpBAUpJCCFw3rlT/7x69er+HdJWugsfQJxTsZzdDg2Iw180EFEwZkf2uFN8BEh1dSZ56YWXjb/t5rvnd6ulMMVIcKlkJGVro6u0Lo+T8b2thtEaykgIKQAAUshNtHHN6lW5XCuKQR6hkNBFB/AykzCAzlm05VuRL+QgJYcUEm25NtT17Zu54Uc3PrULSdFPHyoOg2SHxbU7QVgYE8IJis7uccHUi49Y3rDmg/tn3jO/W3cKcIAlAC8BUA+gLDocQUnDrDWw1kJbDa01lJYQIoRWCsxnyG7PrqCz587evn7DOnARIlfIoq2YR6EtBM9K8GaJtqY8tjVvRWsuCy5CGGvRmm+NxlrWYfiwYVNuv/Wu73fiAzraL7MwcGUOoH2BUeNUwzqFUBdQZv9kyuQzhr/8fMPCJ37365cPGt4nAxH/mgLglxlL/GTiEHWUjInU3WgorSCVABcBlI7snHOOt5a/tYxms1n3h7mzTwx5Ea1tLWhpbcL21m3Ylt2CLds/QVN2K/LFHLRW0FqjOdsMKSQqKyuRSqaglcIxRx91y803/sePO5E8KXdoBlEYdDAl1VRGQlsJayUCU0RWbmoCQI4bd9yBT/92wSMLn5m/9IRTjjkWJtbKduBsZ+CxS4GJCdVWQRsFrQSE4BF4pWCMQSKZwOZPNvOGhobAA4DHn3z8T2OPHYu6vnVI+AkkE0kwFnsRR2C0QsBD5PI5cMGRTqdj5+VgjAHnASZ/dfK0XjU9e99w2w3X5dpawzIySku1gsE5EfX/oKG1AnES2nFsFJuxvtjIRx9x9GHnXTD5xOnTpt8Cvz1djEHvqiKw0WGMiyUuoZSElBKhCGPwEkZHGqiUwmO/eqzPTkXNlClTBlx95dUfWWORTqfgeT4IIXDOQcY3gwMooyXwzkbNTEIokokUevaoxdamJj79e/82btV7Kz/pGMoqk736fL3uoddr00PACEG3mgTa8nm827wG1TbXevYNIzD1qomZve5Q2Dh/0YCWDjJW9UjdBcKwgJCHkDJaPxccjDHMXTD3nJkPzZy303i8sbGxbeTIkT3r6+uPLhaD2GlEah+Nujwwj0UDTkrBKAOl8WfmwfcSMEajZ02td8bpZ12Ry7WtWrn63fVlWsASLFFxaPXXLq3wMgitwtZ8K2iyjZ80ta7ww8dPSY05bmhVl/pTJnbSChF4zSGkgAhDBLwIISW0VhEBKirDG95ouGvGT2Y81Gm9nMlk6KO/eNRkumeglILv+2CUgVBSquHbO7ulIGMdCAh8PwGP+SCUIuGnUFFRiSUvLV508x033drc3NQGgKUrqnuf2euhV6XXG8QJfvzJtfzs7x+cqhvUK9XlzqQFIAEtAaEkpOLgPEDIQwjJoZWCVAqccxhjYKzBC0temHbf/fc9rLV2u2xkDh06NHnn7XeG1VXVsNZGkmc7JF86sZRhORBCwKgHz/NBiQcQgBKKyspqZFuymHHvHZfPXzj3VQBsTO87Vp02+ESceltd65hJA1KU0q6DdwAEoIUFVxxcROCFFJCx1IWMchUQIJvNYvac2WOefOrJFR1z3o5TV9Lc3Gw+2vDRz8YdO+6HyUQSWuuSuhNCSmpPCS2RQgkFZV5EConST0IIhBSoqqzCSZMmn96nb22vte9v3HzVhReO/cGsSZn6gzIpQoj3WcELrhGIIgIegPMiuIgdn9Lggkfx32i8s/Kd12fcM2PkH//7jxv2tpUNABg7dmyP6d+d3lzTowbGGPieD8ZYSRsIjTY8uLimJaSdIAYS56GUeDBWIygG6F7dGwcPGQivm+Ge53Vd6rHNWw6EnCPkAbgIIaWI/JVUEFLAxLnFho83YNbTs8Y899xz73DObQcK90wAADJixIiqW2+6ta1nTc+IBOaD+WwnjQAAZxxACShhMQlRr18qCaOA2p59MXhAPbwen2MOpQAZaARhgFAUoaSEVCoGL6GtgTEGW7ZuweIli6fOfnr2wqamJrmLQarbKwIAoL6+Pvm9a77368NHHX5eexj0PA+MsLIqMapgGfNBCYGzgJQCyWQV+vcdiAPqu0UJzGd5WcCEFmHAUeQFSCmgYuBSSjhrYZzF5i2b8eJLL14+b/68ORs2bCiWauzPSwAA4vs+vfyyy88/47QzfpNOpWGMAWNRdEB7iekcPM+HMRpKGfTsUY8hAw9CZU/6mfeiOQ6IIkchCMBVAK0VlNZQUkfps7HY1rQVC55ZMG3hooW/37hxY64sddp3BLQf48ePH3jFZVe82a++X8a0l22ElG7HRQhGExg8YAQGH1gHVoXPBl4CPBAIggChCGC0hlQKSqtS9vnxpo8xd/7cq5557pl5W7ZsyZUB3mcEoLNGR01NTeLbF3/72q+c8JVbEokEpJSglCKfb0XCr8IRh41F//qaSOW7Cl4DsqhQDIoIRQCtYolrBUY9cBFi3fp1fNbTs6YtWbLk2eZsc2FHIlwCbjsB/rkJQMcW1ejRowdfdMG3fnvIkIPHbG/ehky3Pjh6zAT07lMZAfe7CDxQCIph5OC0hNYGSikEYRFCCrzX+F7jH+bN/fHSPy19OZ/PF8oS4bJqoCR114kWdDkK7LHd7XmeN2bMEaOnX/3Dead8dUqmWzc/+mVvtzRpQBc1imGAgAdQWsIYA60NWnNZtLRkobTFI489cvnCRQuejUHqMsCfmwD2GQgoaYW1Fs6geN9PHvhOJpNKlao2uhsCXBzSChqFXAG5YhsCXizF89a2LD7cuB651gIq0z3Qp3YAYPHJ2g/XNmazzfkyoHYPQPfqxT7jtJcAIHUH1Hd7f+XGzd0yiZQRUWdm51lQh9xdRLG8kC8gHwMXUkAKCZpWaAubsWH9FtR0OwBDBh+GA2rr4HkMXzrsiCMv+uYlV1hrtvzlb2+udM7prkp6XxLQ7v3ZijdWL+/dr3uG54GE30kXz+7I3mSoUCwUPwXcMgGRaMHrL67k8x95ozDu+PE46stjPI8moI0GpYCxGh5lmDRx8kkTjp1w4lt/XfZ8NpstdqLye5NI75s9Qr984Fc3DB5af2CxxcDzYhdsdtTnkIDmDrwokSvk0JJrQVuhFUEYgIdRE0Slt2PN++/x3928onXmTW/jb681pyq6JVAIC5BaIplKIpVKI5WsAGVRFBg39vgxixcsbTxp0inD98Uusc9kAl85buKB/3n//bNzLTLqHFEC4kjkkbSDMgZSaoQiQDEoIORFCMEhpYy2yVbnsWHzh/zl335cePXhQK9b52UYoV6vSqLHTD4QFam0RxxAKQMlBJQRMBbtK9dKoaqyGlNOPfOyllz2zeUr/rq2KxLvKgGd2v+cp55t7NG9Z0oZBUoJiLOwsDDaQJm4AcmLcQjjkFJDCAlCHFSyBX9auKp14Q+yesP7mVR3UltVRX0oK+ERoUd/rR/SFRWec5GTjRqdBISSqBijBNoaJPwETpo4eaqy+t2GZa+9txfO0O1xf8DeMPn1M88bPHTo0Ey+mIPneTAmjkXEwBoLrSWEElBKQhsNraLeH2UUK9et+GjBI2+t+3jFoLE9Uv1TByYzSPbw0NYEeDQFDz6MVVBKwmnA6KjASfoJMOdHGsEIPEqhjQYIwU3X3jxr3foPJsxfMOfNfbVLbHdqQy675Mo5RmtYY2GNhTIKSnMIwRGEBRSCIkIeRD04HrWouBB49oVFi/7l3EumLH7prRf7pPqnerMq+DQJn6Tg0xQ86oNSCm1kpDVKwlgNIQVCySFkCG0UjLawACilUevbOcy89xevHjzk4B5djQBd0QAAwMgRI9PDDhk2si3XAs+jUMYAJsrNjZIQRsb9eAchOZx1UFrh7p/efe28efPmA6C90rV1FTQFSn34rAI+88CIBIEH5rMU1wUUCwVUpCicAxil8VQnCeuAhGcBRINPxjxIFXWpH3348Q9PPHl8d+dcZ+mv2yfb5IYPO6xvIulDGwmlIlWVQiDkAQIRQsV9uCAsRklNrhXX/ei6C+bNmzenPXnxkjqgxIukDx8M0UZJn3pozm1ZuWLlX1bmii0IwjwKhRxCzsF5lCKHYQghZdT7Nw6ERM3aMAwxbOjI1NlTzhm1X/cJjvnSkRNKHRgTdWACHkRNSKOhlAbnkbcvBkVMv276ma+89sorOxcpzjKaAG0fGMdjrBRJYFuwbcUdN9979v0P33fVhxvXQhmBQiGHfD4PzkU81tJwsXOkQMkvWGtw3vkX/K6rkYB2wQG6nr16jZJKQhsJKSPJKCVgTVS4CMERhiGkknjg4Qeuffvtt9/skKxYUC3Lg0+7xhJCkKTJ7gDUyy++8vz066Z/6bkXFy0q8jy4ECgUCuChhHEmnk8QEMbA4n+0klJiyKDBhwwbNqxqX2hAp6wZIyqdM5AymrBGxYuFUro0eDDW4PVlr/913rx5T3bI2R0AZwzhDro0ddpp74FTQft52eZs9t777r3ioV8+cHlzy1YUgzyEEqCEgcYdKUYJiMdAWaRgyUQKIw4dMaArTrBLJqCNUUJGkxelos6rsSbeN6AgYkk1LGt4rJPqLNoJI6HgdNQ4bd8m176bnGjVobHhXnjhhUX33D9jStP2bWCMIZVKIZlIgHkeCGVgZOeZRV3/+sO6EA1clwhobm5a2d6JNdZGBBgTl7CRFuQLefi+n+nQmWkvW53ylSCgKB+zuPjPwMiO5wOwK1asaHh+ybPTBg4YhMqKCvi+Dz9BwWj5ZNRG/5BBaI+9NGvXFQ1wALBq9eolUgloo+GsKyUqxsRaIBWstRg+bPi/x/e2HSVK3Y7tC9F2GRvvFrdw3k4asFMY+/Lhx/TrWdMDqXQaySQFo4h6kvG12hpwHiJfyDV2pSD6X4wYFk47H4gBAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfhAgILACGBOQbTAAAKjklEQVRo3sWYe4xV1RXGf3ufcx/zwJnh6eBUFOyAKFDFB9WSlooaRZIi9RlrrUpQW6Ik1KTW1CaNmtjal7F/1KYWpYrGlFcMojGiVsRRi1ixcXyL4oPXMHPn3nvO2Y/+cfY999zLzDBjir0398zjnrO+b6+19lrf2vB/fokv+2CeqzK5ybmzaQ2eCHY8VOr9agnc0DZ2a7bTwwAWQ8j+E+57M/xqCGS56cqWlRLjHjaAwdK/dvfi+81XQODmW9t+ZZBIACwWg8FgKbJTPmxHZs0bKfxPpoxba/CQNNGMRCffWDxEueufh9UDl4lOkwU8GhmFoEwfGus+hpDPM/erkViUIyPQOj6DRSCAiBBVtxZJ7qqRWRwhgcY7rHN3QIEQSQNejSNz910qDhuB74vMggoBjULSyBG0IF0yWiyCrHeYCCwSWcGESsZbLB45smTwscl+EPi5ReIwEFgkQFHZ5gaLQROhUChHKi5LWsd3D+/lDxccILJRt+mME84gKGCRlIkcndgzoao8s8b+TzyQXk3xF8qVHYMhpIceCmgHDhB1B3qgJ79kHag3MSo/vphHujooAQ+FduvXaA507n0n/cShvCBHAC8QfUHfKlP9kxxZVxXAAiE97yX/cDaG9oMcJnxitPfaIOU8n0zSESyKQru2B3t2KApymPAJjbLuPV1jk1aSSdWA/t/17Emo1vlhhDkwAHz1Kjo2jzlDIPFoJcPnKCI0JT5rCJWLRe11iGyQI4AX7s3+BWVnXeK5qqDomxnq6j01tIfwghwBfOUj+0v7LrI1Biz9a/d3p6CHTaGmEF0pGinQfzB8vVlR3m4RLvquMG2uCadFuA/u6ijUB8IRaODupjN+MP7HmROD7l33PP3gq716IPjkKpuqSIklkYZK0XAUxnqzx0yff+vXix9/9OT2T+7SKQLLxdK7py535jrb7/nGPf/567037I4GgJeV32xi3b0UMkk8UXO1gDiv44IPW4gwCGbyXeacfklXFBucyC37pi63jqrAoDn+6p+VWzJ18ALpPqI+dwxG192R9hk/nH/Rhx49lAicipr70pM3uhxafcnYVpvatj4eZY7k8l8flP8VGgOkri0ja+Cr9YC5087Y1IfGR+IhkGgO0Pn7B+eAvEWetlpTX3M9ikxbNmVsDbxM4KVJgmwriRi6FiHq3uT9C3cYcmTwHHxspsCsF2/05JyTs9iDqpPF4HPK9TXwJBDSOAq2+qxOLNcQyHpLl7eSIYuPj5eKj0Yy4yQ55sxogPJgsYSMv67GnRUHe1WHVcudVQi8Oi8wo/32V+bcKdzq469IvBYx6tt+0G/RiJoBIZYXAc0TJh/33rt10RdJN06EGIDV+G5IkvG4NKFhwVXzf+MT4LutYFK+NmgU3lF+3zvK5b9M4CNCAhQRZ77w8ddCnQIXyTJqtqHBVk0YRENu3rcuXjuKEO3aFckIU1FPClCfyE92lAidxrdOcJcoo1CUGN26+KFk1ZW1SyTSplQAsbnkjrkn3fXONWsbUYnjZSq0sXAJUfj0via37vmCkBJlihTpp49eikQYSggMHQsv/WmSA5UIe4njnUmLJs6w2dNvW3/TMxNbNSJJuurKY3BNhAFC3tsqH7Bb50UU6XfgfQRoNH1E5Mig6Lzt4tuT1Ys41WySAdpJkWA34vhJy/98y+ZZZxhXTaodySY6WhMRoTBk2F9+q+jDs89OpQ2fjHOUJqSEIpvM/rOWNY9/5Ob+ErEIkAhdkeBYDCX6ysfOmDtvwW0etm7itcn8rNGoBN5ieHqCI3jH0ed+aMjiIdzMY11hj3d7hmYOlP925sefVkKam3DMljySJkrsg57zOauVAbdzrBU0Ck1ESIgiQiF5afHGNY7s0wfOHTPm9MDJa1IVK972HoZm/9SlpR0730fi4XmNrddk0BTxyqcVrs5Pax5YWVmsi7oiIiRyVARv37nm3pRcuEJep5tQrqfWNnbwkQh8sry+4dFf9h3Ay40/+nmJLc8on5Mflx9M71kHXQE3KEIMlu3L1v8plq+iIhSOyl1eymOTTKt8aV3g44TK0c/aJV3P47XvmMT5PSfkxZDwykU9jntEhKDAltnPvVYpIaIqljpbFu/PYNzWkSk1JZO+aski2frIUw/P/8PFk4bS+9blewweU7Eodm7ZdN5HhaqSEWm1NrXtgr3NjoKsCUa1vRsCGmgnV/byQ8Erghpwg2UvL8z+1+uhSUupGk34Vk+p5aIDozA1qtIkAYnz+QjG0QBDwGsiAgeuHfgBtl+6Zf2BsKbl1nsAAWNyC+8/5hKbxJ1kZ1sUGUbTNuRIbZPNptyGtuxn+5Kux3b3u85l0630IAIIX86/7JSVWQzS0bR4GDTNTKBpyHlWERCgMG5kNfTyyrKXH9nT6yrXcAggEMcfc3bX6FaTeEohGcd4skPAawK30zUKMOyl6/pX1+zvdcVwGASoio9R2XkrTrzNRyEp4TOJMfiDwhtC10E1GknE5+Uty7Y/3ldwRwkVMTAsAlSk1eTJ33ngyNl9NDGFljrRUgseuJVrAhS7urfevuOZUgHjmoVJRJCthR+IQI0E9/wpJy9YM6u1EdJKrAY8JHTHE0UKGJ5a8vLjGHdwdEgCQx/RWK13d8+kcYAbLZoyBQqUCFEU+JR9+LQx/ZT29vqxaRhHNPVpGFeitpY/fppHJcJCpIpsvHKNJkOJz2hmNBkUGSzrV2xapYPk8Myk9HudB5KwHl9PABDeXdtGt5Zd8lVsaEICt26FQPBGeXPhBI7zJYb4GH/GOdPmvbux0F8dGw5y4HDOiJb8fOKkfleE4p2kCChRpERIiEWyq7yu5x+8nc8ToMmQIYtEMW32Ld2zph86CIN7QJww6epH+xMlb1xPr1b4DHvLLxaeV1+0Cr9BzSDrk5rcFHlOubbY9f67A698MAKpOXBFd1PeIFKSKnJujxBItvWsU7vzfrOHQagZ5HzrRuKYhsFj5qXm391v1Y5QtTT8weIzZ/LE1jKeE2XGFddYMwl2ffjse7u+mc/naaTPTSIKicHgJ/LZIFi0+ou5L3UN45Ss7uRCnPWYdkUszvggUXMh2zb8duHrTzbkM6mRwbimq5z4MIDEYPnR8+1tg2/KQZLw6IajTixBEvcQ5apcxLoVDy5X5exEz+lFAfh5lS878MgdYWtAosmy9AMhBj45G5RAR7vv5GNsUKMI0BRZdcXWx7AYr0giWiT9b3z0Rnz4ECaDXXx4LwnpyJ86c4QHlcfOrYiJipINUQSs/N6bz1VO62VSliTF11ZfuPH6PRjKlNz6jQOQGOb+fbB9IAdMQXvETOU0rE7qnuKJFR90VUqCCKu3C7wWou0bV87atiEkokSAdeCxSpjQ2dF8SA+k09A02WQd8cazdL+6dZWbNCzWlElNfbaIxfbtW7d005ICAbrmQAV8Oo4eURLqSDkdWylAZd76S6qmWx2lDicgqkyp2zasX9iLJOOmw4qwHTNjoACssYMQKLxRgTeuBpTwW1MDoRVBTXMOkznVvP/i9mXjyLnZuFLdZFs9xhq7xg7sAQs7n4qSKmCcuOy4yW3sysCXWpCIUm3HHtvRTJZMUsY1IaXuevj4538BBXB1HeF6wqkAAAAASUVORK5CYII="},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){var t=new RegExp(y.MOLECULAR_PROFILE_UNCALLED_MUTATIONS_SUFFIX+"$");return t.test(e)}function i(e,t){var n=C[e],r=C[t];return n<r?-1:n>r?1:e.localeCompare(t)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,n=e.map(function(e){return(0,m.default)(e.mutationType)}).sort(i),r=(0,g.findFirstMostCommonElt)(n);if(!r)return"#FF0000";var o=(0,h.getProteinImpactTypeFromCanonical)(r);switch(o){case"missense":return t.missenseColor;case"truncating":return t.truncatingColor;case"inframe":return t.inframeColor;default:return t.otherColor}}function l(e){var t={},n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value,l=!0,c=!1,u=void 0;try{for(var p,f=s[Symbol.iterator]();!(l=(p=f.next()).done);l=!0){var d=p.value,h=d.proteinPosStart;t[h]=t[h]||[],t[h].push(d)}}catch(e){c=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(c)throw u}}}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return t}function c(e,t,n){var r=[];return e.forEach(function(e){var o=e[0];o.proteinPosStart>-1&&o.proteinPosStart>=t&&o.proteinPosStart<=n&&r.push(o.proteinPosStart),o.proteinPosEnd>o.proteinPosStart&&o.proteinPosEnd>=t&&o.proteinPosEnd<=n&&r.push(o.proteinPosEnd)}),d.uniq(r)}function u(e,t,n,r){if(t.length>0&&r.length>0){var o=(0,b.stringListToSet)(r.map(v.toSampleUuid)),a=d.chain(t).filter(function(t){var r=n[t.molecularProfileId];return!!r&&(t.gene.hugoGeneSymbol===e&&new RegExp(y.MUTATION_STATUS_GERMLINE,"i").test(t.mutationStatus)&&!!o[(0,v.toSampleUuid)(r.studyId,t.sampleId)])}).map(v.toSampleUuid).uniq().value().length;return 100*a/r.length}return 0}function p(e,t,n,r){if(t.length>0&&r.length>0){var o=(0,b.stringListToSet)(r.map(v.toSampleUuid));return 100*d.chain(t).filter(function(t){var r=n[t.molecularProfileId];return!!r&&(t.gene.hugoGeneSymbol===e&&!new RegExp(y.MUTATION_STATUS_GERMLINE,"i").test(t.mutationStatus)&&!!o[(0,v.toSampleUuid)(r.studyId,t.sampleId)])}).map(v.toSampleUuid).uniq().value().length/r.length}return 0}Object.defineProperty(t,"__esModule",{value:!0}),t.MUTATION_TYPE_PRIORITY=t.DEFAULT_PROTEIN_IMPACT_TYPE_COLORS=void 0,t.isUncalled=a,t.mutationTypeSort=i,t.getColorForProteinImpactType=s,t.groupMutationsByProteinStartPos=l,t.getProteinStartPositionsByRange=c,t.germlineMutationRate=u,t.somaticMutationRate=p;var f=n(408),d=o(f),h=n(722),m=r(h),y=n(660),g=n(723),v=n(724),b=n(445),w=t.DEFAULT_PROTEIN_IMPACT_TYPE_COLORS={missenseColor:"#008000",inframeColor:"#8B4513",truncatingColor:"#000000",otherColor:"#8B00C9"},C=t.MUTATION_TYPE_PRIORITY={missense:1,inframe:2,truncating:4,nonsense:6,nonstop:7,nonstart:8,frameshift:4,frame_shift_del:4,frame_shift_ins:5,in_frame_ins:3,in_frame_del:2,splice_site:9,fusion:10,silent:11,other:11}},function(e,t){"use strict";function n(e){return r(o(e))}function r(e){switch(e){case"missense":return"missense";case"frame_shift_ins":case"frame_shift_del":case"frameshift":case"nonsense":case"splice_site":case"nonstop":case"truncating":return"truncating";case"in_frame_ins":case"in_frame_del":case"inframe":return"inframe";case"nonstart":case"fusion":case"silent":case"other":default:return"other"}}function o(e){return a[e.toLowerCase()]}Object.defineProperty(t,"__esModule",{value:!0}),t.getProteinImpactType=n,t.getProteinImpactTypeFromCanonical=r,t.default=o;var a={missense_mutation:"missense",missense:"missense",missense_variant:"missense",frame_shift_ins:"frame_shift_ins",frame_shift_del:"frame_shift_del",frameshift:"frameshift",frameshift_deletion:"frame_shift_del",frameshift_insertion:"frame_shift_ins",de_novo_start_outofframe:"frameshift",frameshift_variant:"frameshift",nonsense_mutation:"nonsense",nonsense:"nonsense",stopgain_snv:"nonsense",stop_gained:"nonsense",splice_site:"splice_site",splice:"splice_site","splice site":"splice_site",splicing:"splice_site",splice_site_snp:"splice_site",splice_site_del:"splice_site",splice_site_indel:"splice_site",splice_region_variant:"splice_site",splice_region:"splice_site",translation_start_site:"nonstart",initiator_codon_variant:"nonstart",start_codon_snp:"nonstart",start_codon_del:"nonstart",nonstop_mutation:"nonstop",stop_lost:"nonstop",in_frame_del:"in_frame_del",in_frame_deletion:"in_frame_del",in_frame_ins:"in_frame_ins",in_frame_insertion:"in_frame_ins",indel:"in_frame_del",nonframeshift_deletion:"inframe",nonframeshift:"inframe","nonframeshift insertion":"inframe",nonframeshift_insertion:"inframe",targeted_region:"inframe",inframe:"inframe",truncating:"truncating",feature_truncation:"truncating",fusion:"fusion",silent:"silent",synonymous_variant:"silent",any:"other",other:"other"}},function(e,t){"use strict";function n(e){for(var t=0,n=void 0,r=0,o=0;o<e.length;o++)0===o||e[o]!==e[o-1]?(r>t&&(t=r,n=e[o-1]),r=1):r+=1;return r>t&&(n=e[e.length-1]),n}Object.defineProperty(t,"__esModule",{value:!0}),t.findFirstMostCommonElt=n},function(e,t){"use strict";function n(e,t){return""+e+l+t}function r(e){var t=e.split(l);return{x:t[0],y:t[1]}}function o(e,t){if("string"==typeof e){if(t)return n(e,t);throw"no sampleId given"}return n(e.studyId,e.sampleId)}function a(e,t){if("string"==typeof e){if(t)return n(e,t);throw"no patientId given"}return n(e.studyId,e.patientId)}function i(e){var t=r(e);return{studyId:t.x,sampleId:t.y}}function s(e){var t=r(e);return{studyId:t.x,patientId:t.y}}Object.defineProperty(t,"__esModule",{value:!0}),t.toSampleUuid=o,t.toPatientUuid=a,t.fromSampleUuid=i,t.fromPatientUuid=s;var l=":"},,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){var r=c(e,t);return h.createElement("div",{className:(0,ie.default)(n?oe.default["integer-data"]:void 0)},r)}function c(e,t){var n="";return e.length>0&&e[0].hasOwnProperty(t)&&(n=e[0][t]),n}function u(e,t,n){return e.length>0&&e.reduce(function(e,r){var o=r[t];return o?e||o.toUpperCase().indexOf(n)>-1:e},!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.MutationTableComponent=t.MutationTableColumnType=void 0;var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.getDivForDataField=l,t.getTextForDataField=c,t.defaultFilter=u;var d=n(343),h=o(d),m=n(346),y=n(406),g=n(408),v=o(g),b=n(594),w=r(b),C=n(734),T=r(C),S=n(736),x=r(S),A=n(737),k=r(A),E=n(666),M=r(E),_=n(738),P=r(_),O=n(739),I=r(O),R=n(740),L=r(R),j=n(742),D=r(j),N=n(743),G=r(N),F=n(744),q=r(F),B=n(748),z=r(B),H=n(750),U=r(H),V=n(761),K=r(V),W=n(764),$=r(W),Y=n(766),Q=r(Y),X=n(745),Z=r(X),J=n(767),ee=r(J),te=n(674),ne=r(te),re=n(741),oe=r(re),ae=n(597),ie=r(ae),se=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},le=t.MutationTableColumnType=void 0;!function(e){e[e.SAMPLE_ID=0]="SAMPLE_ID",e[e.TUMORS=1]="TUMORS",e[e.GENE=2]="GENE",e[e.PROTEIN_CHANGE=3]="PROTEIN_CHANGE",e[e.CHROMOSOME=4]="CHROMOSOME",e[e.START_POS=5]="START_POS",e[e.END_POS=6]="END_POS",e[e.REF_ALLELE=7]="REF_ALLELE",e[e.VAR_ALLELE=8]="VAR_ALLELE",e[e.MUTATION_STATUS=9]="MUTATION_STATUS",e[e.VALIDATION_STATUS=10]="VALIDATION_STATUS",e[e.MUTATION_TYPE=11]="MUTATION_TYPE",e[e.CENTER=12]="CENTER",e[e.TUMOR_ALLELE_FREQ=13]="TUMOR_ALLELE_FREQ",e[e.NORMAL_ALLELE_FREQ=14]="NORMAL_ALLELE_FREQ",e[e.FUNCTIONAL_IMPACT=15]="FUNCTIONAL_IMPACT",e[e.ANNOTATION=16]="ANNOTATION",e[e.COSMIC=17]="COSMIC",e[e.COPY_NUM=18]="COPY_NUM",e[e.MRNA_EXPR=19]="MRNA_EXPR",e[e.COHORT=20]="COHORT",e[e.REF_READS_N=21]="REF_READS_N",e[e.VAR_READS_N=22]="VAR_READS_N",e[e.REF_READS=23]="REF_READS",e[e.VAR_READS=24]="VAR_READS",e[e.CANCER_TYPE=25]="CANCER_TYPE",e[e.NUM_MUTATIONS=26]="NUM_MUTATIONS"}(le||(t.MutationTableColumnType=le={}));var ce=t.MutationTableComponent=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),t}(w.default),ue=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._columns={},n.generateColumns(),n}return s(t,e),p(t,[{key:"generateColumns",value:function(){var e=this;this._columns={},this._columns[le.SAMPLE_ID]={name:"Sample ID",render:function(t){return T.default.renderFunction(t,e.props.molecularProfileIdToMolecularProfile)},download:T.default.getTextValue,sortBy:T.default.getTextValue,filter:function(e,t,n){return u(e,"sampleId",n)},visible:!0},this._columns[le.TUMOR_ALLELE_FREQ]={name:"Allele Freq (T)",render:x.default.renderFunction,headerRender:function(e){return h.createElement("span",{style:{display:"inline-block",maxWidth:55}},e)},sortBy:x.default.getSortValue,tooltip:h.createElement("span",null,"Variant allele frequency in the tumor sample"),visible:!0},this._columns[le.NORMAL_ALLELE_FREQ]={name:"Allele Freq (N)",render:k.default.renderFunction,headerRender:function(e){return h.createElement("span",{style:{display:"inline-block",maxWidth:55}},e)},sortBy:k.default.getSortValue,tooltip:h.createElement("span",null,"Variant allele frequency in the normal sample"),visible:!1},this._columns[le.MRNA_EXPR]={name:"mRNA Expr.",render:function(t){return e.props.mrnaExprRankCache?M.default.renderFunction(t,e.props.mrnaExprRankCache):h.createElement("span",null)}},this._columns[le.COHORT]={name:"Cohort",render:function(t){return e.props.variantCountCache?P.default.renderFunction(t,e.props.mutSigData,e.props.variantCountCache):h.createElement("span",null)},sortBy:function(t){var n=e.props.variantCountCache;return n?P.default.getSortValue(t,n):0},tooltip:h.createElement("span",null,"Mutation frequency in cohort"),defaultSortDirection:"desc"},this._columns[le.COPY_NUM]={name:"Copy #",render:function(t){return e.props.discreteCNACache&&e.props.molecularProfileIdToMolecularProfile?I.default.renderFunction(t,e.props.molecularProfileIdToMolecularProfile,e.props.discreteCNACache):h.createElement("span",null)},sortBy:function(t){return e.props.discreteCNACache&&e.props.molecularProfileIdToMolecularProfile?I.default.getSortValue(t,e.props.molecularProfileIdToMolecularProfile,e.props.discreteCNACache):0},filter:function(t,n){return!(!e.props.discreteCNACache||!e.props.molecularProfileIdToMolecularProfile)&&I.default.filter(t,e.props.molecularProfileIdToMolecularProfile,e.props.discreteCNACache,n)},visible:I.default.isVisible(this.props.discreteCNACache)},this._columns[le.REF_READS_N]={name:"Ref Reads (N)",render:function(e){return L.default.renderFunction(e,[e[0].sampleId],"normalRefCount")},download:function(e){return L.default.getTextValue(e,[e[0].sampleId],"normalRefCount")},sortBy:function(e){return e.map(function(e){return e.normalRefCount})},visible:!1,align:"right"},this._columns[le.VAR_READS_N]={name:"Variant Reads (N)",render:function(e){return L.default.renderFunction(e,[e[0].sampleId],"normalAltCount")},download:function(e){return L.default.getTextValue(e,[e[0].sampleId],"normalAltCount")},sortBy:function(e){return e.map(function(e){return e.normalAltCount})},visible:!1,align:"right"},this._columns[le.REF_READS]={name:"Ref Reads",render:function(e){return L.default.renderFunction(e,[e[0].sampleId],"tumorRefCount")},download:function(e){return L.default.getTextValue(e,[e[0].sampleId],"tumorRefCount")},sortBy:function(e){return e.map(function(e){return e.tumorRefCount})},visible:!1,align:"right"},this._columns[le.VAR_READS]={name:"Variant Reads",render:function(e){return L.default.renderFunction(e,[e[0].sampleId],"tumorAltCount")},download:function(e){return L.default.getTextValue(e,[e[0].sampleId],"tumorAltCount")},sortBy:function(e){return e.map(function(e){return e.tumorAltCount})},visible:!1,align:"right"},this._columns[le.START_POS]={name:"Start Pos",render:function(e){return l(e,"startPosition",!0)},download:function(e){return c(e,"startPosition")},sortBy:function(e){return e.map(function(e){return e.startPosition})},visible:!1,align:"right"},this._columns[le.END_POS]={name:"End Pos",render:function(e){return l(e,"endPosition",!0)},download:function(e){return c(e,"endPosition")},sortBy:function(e){return e.map(function(e){return e.endPosition})},visible:!1,align:"right"},this._columns[le.REF_ALLELE]={name:"Ref",render:function(e){return l(e,"referenceAllele")},download:function(e){return c(e,"referenceAllele")},sortBy:function(e){return e.map(function(e){return e.referenceAllele})},visible:!1},this._columns[le.VAR_ALLELE]={name:"Var",render:function(e){return l(e,"variantAllele")},download:function(e){return c(e,"variantAllele")},sortBy:function(e){return e.map(function(e){return e.variantAllele})},visible:!1},this._columns[le.MUTATION_STATUS]={name:"MS",tooltip:h.createElement("span",null,"Mutation Status"),render:Z.default.renderFunction,download:Z.default.download,sortBy:Z.default.sortValue,filter:function(e,t,n){return u(e,"mutationStatus",n)},visible:!1},this._columns[le.VALIDATION_STATUS]={name:"VS",tooltip:h.createElement("span",null,"Validation Status"),render:ee.default.renderFunction,download:ee.default.download,sortBy:ee.default.sortValue,filter:function(e,t,n){return u(e,"validationStatus",n)},visible:!1},this._columns[le.CENTER]={name:"Center",render:function(e){return l(e,"center")},download:function(e){return c(e,"center")},sortBy:function(e){return e.map(function(e){return e.center})},filter:function(e,t,n){return u(e,"center",n)},visible:!1},this._columns[le.GENE]={name:"Gene",render:function(e){return D.default.renderFunction(e)},download:function(e){return D.default.getTextValue(e)},sortBy:function(e){return D.default.getSortValue(e)},filter:function(e,t,n){return D.default.getTextValue(e).toUpperCase().indexOf(n)>-1}},this._columns[le.CHROMOSOME]={name:"Chromosome",render:function(e){return h.createElement("div",{className:oe.default["integer-data"]},G.default.getData(e))},download:function(e){return G.default.getData(e)||""},sortBy:function(e){return G.default.getSortValue(e)},filter:function(e,t,n){return(G.default.getData(e)+"").toUpperCase().indexOf(n)>-1},visible:!1,align:"right"},this._columns[le.PROTEIN_CHANGE]={name:"Protein Change",render:q.default.renderWithMutationStatus,download:q.default.getTextValue,sortBy:function(e){return q.default.getSortValue(e)},filter:function(e,t,n){return q.default.getTextValue(e).toUpperCase().indexOf(n)>-1}},this._columns[le.MUTATION_TYPE]={name:"Mutation Type",render:z.default.renderFunction,download:z.default.getTextValue,sortBy:function(e){return z.default.getDisplayValue(e)},filter:function(e,t,n){return z.default.getDisplayValue(e).toUpperCase().indexOf(n)>-1}},this.props.enableGenomeNexus&&(this._columns[le.FUNCTIONAL_IMPACT]={name:"Functional Impact",render:function(t){return e.props.genomeNexusEnrichmentCache?U.default.renderFunction(t,e.props.genomeNexusEnrichmentCache):h.createElement("span",null)},headerRender:U.default.headerRender,visible:!1}),this._columns[le.COSMIC]={name:"COSMIC",render:function(t){return K.default.renderFunction(t,e.props.cosmicData)},sortBy:function(t){return K.default.getSortValue(t,e.props.cosmicData)},download:function(t){return K.default.getDownloadValue(t,e.props.cosmicData)},tooltip:h.createElement("span",null,"COSMIC occurrences"),defaultSortDirection:"desc",align:"right"},this._columns[le.ANNOTATION]={name:"Annotation",render:function(t){return ne.default.renderFunction(t,{hotspots:e.props.hotspots,myCancerGenomeData:e.props.myCancerGenomeData,oncoKbData:e.props.oncoKbData,oncoKbEvidenceCache:e.props.oncoKbEvidenceCache,oncoKbAnnotatedGenes:e.props.oncoKbAnnotatedGenes,pubMedCache:e.props.pubMedCache,civicGenes:e.props.civicGenes,civicVariants:e.props.civicVariants,enableCivic:e.props.enableCivic,enableOncoKb:e.props.enableOncoKb,enableMyCancerGenome:e.props.enableMyCancerGenome,enableHotspot:e.props.enableHotspot})},sortBy:function(t){return ne.default.sortValue(t,e.props.oncoKbAnnotatedGenes,e.props.hotspots,e.props.myCancerGenomeData,e.props.oncoKbData,e.props.civicGenes,e.props.civicVariants)}},this._columns[le.CANCER_TYPE]={name:"Cancer Type",render:function(t){return Q.default.render(t,e.props.sampleIdToTumorType)},sortBy:function(t){return Q.default.sortBy(t,e.props.sampleIdToTumorType)},filter:function(t,n,r){return Q.default.filter(t,r,e.props.sampleIdToTumorType)},tooltip:h.createElement("span",null,"Cancer Type")},this._columns[le.NUM_MUTATIONS]={name:"# Mut in Sample",render:$.default.makeRenderFunction(this),headerRender:function(e){return h.createElement("span",{style:{display:"inline-block",maxWidth:55}},e)},sortBy:function(t){return $.default.sortBy(t,e.props.mutationCountCache)},tooltip:h.createElement("span",null,"Total number of nonsynonymous mutations in the sample"),align:"right"}}},{key:"render",value:function(){return h.createElement(ce,{columns:this.columns,data:this.props.data,dataStore:this.props.dataStore,initialItemsPerPage:this.props.initialItemsPerPage,initialSortColumn:this.props.initialSortColumn,initialSortDirection:this.props.initialSortDirection,itemsLabel:this.props.itemsLabel,itemsLabelPlural:this.props.itemsLabelPlural,paginationProps:this.props.paginationProps,showCountHeader:this.props.showCountHeader})}},{key:"orderedColumns",get:function(){var e=this,t=this.props.columns||[];return v.sortBy(t,function(t){var n=-1;return e._columns[t]&&e._columns[t].order&&(n=e._columns[t].order),n})}},{key:"columns",get:function(){var e=this;return this.orderedColumns.reduce(function(t,n){var r=e._columns[n];return!r||r.shouldExclude&&r.shouldExclude()||t.push(r),t},[])}}]),t}(h.Component);ue.defaultProps={initialItemsPerPage:25,showCountHeader:!0,paginationProps:{itemsPerPageOptions:[25,50,100]},initialSortColumn:"Annotation",initialSortDirection:"desc",
itemsLabel:"Mutation",itemsLabelPlural:"Mutations",enableOncoKb:!0,enableMyCancerGenome:!0,enableHotspot:!0,enableCivic:!1},se([y.observable],ue.prototype,"_columns",void 0),se([y.computed],ue.prototype,"orderedColumns",null),se([y.computed],ue.prototype,"columns",null),ue=se([m.observer],ue),t.default=ue},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(343),l=o(s),c=n(735),u=r(c),p=function(){function e(){a(this,e)}return i(e,null,[{key:"getTextValue",value:function(t){return e.getData(t)||""}},{key:"getData",value:function(e){return e.length>0?e[0].sampleId:null}},{key:"renderFunction",value:function(t,n){var r=e.getTextValue(t),o=l.createElement(u.default,{text:r,tooltip:l.createElement("div",{style:{maxWidth:300}},r),maxLength:16});if(n){var a=n[t[0].molecularProfileId],i=a&&a.studyId;if(i){var s="#/patient?sampleId="+r+"&studyId="+i,c=window.location.href.search("index.do");c>-1&&(s=window.location.href.substring(0,c)+"case.do"+s),o=l.createElement("a",{href:s,target:"_blank"},o)}}return o}}]),e}();t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){return null!=e&&e.length>t+(n||0)}function c(e,t,n,r){return l(e,n,r)?e.substring(0,n)+t:e}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isTooLong=l,t.truncateText=c;var f=n(343),d=o(f),h=n(597),m=r(h),y=n(346),g=n(406),v=n(471),b=r(v),w=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},C=T=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"render",value:function(){var e=this,t=d.createElement("span",{style:{whiteSpace:"nowrap"},className:(0,m.default)(this.props.className)},this.truncatedText);return this.needsTooltip&&(t=d.createElement(b.default,{overlay:function(){return e.props.tooltip||d.createElement("span",null)},placement:"right",destroyTooltipOnHide:!0},t)),t}},{key:"needsTooltip",get:function(){return void 0!==this.props.tooltip&&("always"===this.props.addTooltip||"truncated"===this.props.addTooltip&&this.isTooLong)}},{key:"isTooLong",get:function(){return l(this.props.text,this.props.maxLength||T.defaultProps.maxLength,this.props.buffer)}},{key:"truncatedText",get:function(){return c(this.props.text,this.props.suffix||T.defaultProps.suffix,this.props.maxLength||T.defaultProps.maxLength,this.props.buffer)}}]),t}(d.Component);C.defaultProps={maxLength:50,buffer:2,suffix:"...",addTooltip:"truncated"},w([g.computed],C.prototype,"needsTooltip",null),w([g.computed],C.prototype,"isTooLong",null),w([g.computed],C.prototype,"truncatedText",null),C=T=w([y.observer],C),t.default=C;var T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(343),l=o(s),c=n(471),u=r(c),p=n(667),f=r(p),d=function(){function e(){a(this,e)}return i(e,null,[{key:"mainContent",value:function(e,t,n){var r=l.createElement("span",null,l.createElement("b",null,t)," variant reads out of ",l.createElement("b",null,t+n)," total");return l.createElement(u.default,{placement:"left",overlay:r,arrowContent:l.createElement("div",{className:"rc-tooltip-arrow-inner"}),destroyTooltipOnHide:!0},l.createElement("span",null,e.toFixed(2)))}},{key:"renderFunction",value:function(t){var n=e.getSortValue(t);if(n){var r=t[0].tumorAltCount,o=t[0].tumorRefCount;return e.mainContent(n,r,o)}return l.createElement(f.default,{status:p.TableCellStatus.NA})}},{key:"getSortValue",value:function(e){var t=e[0];if(!t)return null;var n=t.tumorAltCount,r=t.tumorRefCount;return n<0||r<0?null:n/(n+r)}},{key:"isVisible",value:function(e){if(e){var t=!0,n=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value,s=this.getSortValue(i);if(s)return!0}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}return!1}}]),e}();t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(343),l=o(s),c=n(667),u=r(c),p=n(736),f=r(p),d=function(){function e(){a(this,e)}return i(e,null,[{key:"renderFunction",value:function(t){var n=e.getSortValue(t);if(n){var r=t[0].normalAltCount,o=t[0].normalRefCount;return f.default.mainContent(n,r,o)}return l.createElement(u.default,{status:c.TableCellStatus.NA})}},{key:"getSortValue",value:function(e){var t=e[0];if(!t)return null;var n=t.normalAltCount,r=t.normalRefCount;return n<0||r<0?null:n/(n+r)}}]),e}();t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(343),l=o(s);n(521);var c=n(669),u=r(c),p=n(671),f=r(p),d=n(670),h=n(667),m=r(h),y=function(){function e(){a(this,e)}return i(e,null,[{key:"renderFunction",value:function(t,n,r){var o=e.getMutSigQValue(t,n),a=e.getVariantCountData(t,r),i=e.makeCohortFrequencyViz(a);return l.createElement("div",null,null!==i&&i,null!==o&&e.makeMutSigIcon(o))}},{key:"getSortValue",value:function(t,n){var r=e.getVariantCountData(t,n);return r&&r.data?r.data.numberOfSamplesWithMutationInGene:null}},{key:"getVariantCountData",value:function(e,t){if(0===e.length)return null;var n=e[0].entrezGeneId,r=e[0].keyword,o=t.get({entrezGeneId:n,keyword:r});return o?Object.assign({hugoGeneSymbol:e[0].gene.hugoGeneSymbol},o):null}},{key:"getMutSigQValue",value:function(e,t){if(!t||0===e.length)return null;var n=t[e[0].entrezGeneId];return n?n.qValue:null}},{key:"makeCohortFrequencyViz",value:function(t){var n=null;if(null===t)n=h.TableCellStatus.LOADING;else if("error"===t.status)n=h.TableCellStatus.ERROR;else{if(null!==t.data){var r=[t.data.numberOfSamplesWithMutationInGene];return t.data.keyword&&r.push(t.data.numberOfSamplesWithKeyword),l.createElement(u.default,{counts:r,totalCount:t.data.numberOfSamples,tooltip:e.getCohortFrequencyTooltip(t)})}n=h.TableCellStatus.NA}if(null!==n)return l.createElement(m.default,{status:n})}},{key:"makeMutSigIcon",value:function(t){var n=function(){return e.getMutSigTooltip(t)};return l.createElement(f.default,{text:"M",tooltip:n})}},{key:"getBoldPercentage",value:function(e){return l.createElement("b",null,(0,d.getPercentage)(e))}},{key:"getCohortFrequencyTooltip",value:function(t){return null===t?l.createElement("span",null,"Querying server for data."):"error"===t.status?l.createElement("span",null,"Error retrieving data."):null===t.data?l.createElement("span",null,"Count data is not available for this gene."):l.createElement("div",null,l.createElement("span",null,t.data.numberOfSamplesWithMutationInGene," samples (",e.getBoldPercentage(t.data.numberOfSamplesWithMutationInGene/t.data.numberOfSamples),") in this study have mutated ",t.hugoGeneSymbol,"undefined"!=typeof t.data.keyword&&l.createElement("span",null,", out of which ",t.data.numberOfSamplesWithKeyword," (",e.getBoldPercentage(t.data.numberOfSamplesWithKeyword/t.data.numberOfSamples),") have ",t.data.keyword," mutations"),"."))}},{key:"getMutSigTooltip",value:function(e){return l.createElement("div",null,l.createElement("b",null,"MutSig"),l.createElement("br",null),l.createElement("span",null," Q-value: ",(e||0).toExponential(3)))}}]),e}();t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(343),l=o(s),c=n(471),u=r(c);n(521);var p=n(667),f=r(p),d=function(){function e(){a(this,e)}return i(e,null,[{key:"renderFunction",value:function(t,n,r){var o=e.getData(t,n,r);return l.createElement(u.default,{placement:"left",overlay:e.getTooltipContents(o),arrowContent:l.createElement("div",{className:"rc-tooltip-arrow-inner"})},e.getTdContents(o))}},{key:"getSortValue",value:function(t,n,r){return e.getTdValue(e.getData(t,n,r))}},{key:"filter",value:function(t,n,r,o){var a=e.getData(t,n,r);return!(!a||!a.data)&&(!!e.altToFilterString[a.data.alteration]&&e.altToFilterString[a.data.alteration].indexOf(o.toLowerCase())>-1)}},{key:"getData",value:function(e,t,n){if(!e||0===e.length||!n.isActive)return null;var r=e[0].sampleId,o=e[0].entrezGeneId,a=t[e[0].molecularProfileId];return a?n.get({sampleId:r,entrezGeneId:o,studyId:a.studyId}):null}},{key:"getTdValue",value:function(e){return null!==e&&"complete"===e.status&&null!==e.data?e.data.alteration:null}},{key:"getTdContents",value:function(e){var t=null;if(null!==e&&"complete"===e.status&&null!==e.data){var n=e.data.alteration;return 2===n?l.createElement("span",{style:{color:"red",textAlign:"center",fontSize:"12px"}},l.createElement("b",null,"Amp")):1===n?l.createElement("span",{style:{color:"red",textAlign:"center",fontSize:"smaller"}},l.createElement("b",null,"Gain")):0===n?l.createElement("span",{style:{color:"black",textAlign:"center",fontSize:"xx-small"}},"Diploid"):n===-1?l.createElement("span",{style:{color:"blue",textAlign:"center",fontSize:"smaller"}},l.createElement("b",null,"ShallowDel")):l.createElement("span",{style:{color:"blue",textAlign:"center",fontSize:"12px"}},l.createElement("b",null,"DeepDel"))}if(t=e&&"complete"===e.status&&null===e.data?p.TableCellStatus.NA:e&&"error"===e.status?p.TableCellStatus.ERROR:p.TableCellStatus.NA,null!==t)return l.createElement(f.default,{status:t,naAlt:"CNA data is not available for this gene."})}},{key:"getTooltipContents",value:function(e){var t={"-2":"Deep deletion","-1":"Shallow deletion",0:"Diploid / normal",1:"Low-level gain",2:"High-level amplification"};return e&&"complete"===e.status&&null!==e.data?l.createElement("div",null,l.createElement("span",null,t[e.data.alteration])):e&&"complete"===e.status&&null===e.data?l.createElement("span",null,"CNA data is not available for this gene."):e&&"error"===e.status?l.createElement("span",null,"Error retrieving data."):l.createElement("span",null,"Querying server for data.")}},{key:"isVisible",value:function(e){return e&&e.isActive}}]),e}();t.default=d,d.altToFilterString={2:"amp",1:"gain",0:"diploid","-1":"shallowdel","-2":"deepdel"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(343),l=o(s),c=n(741),u=r(c),p=function(){function e(){a(this,e)}return i(e,null,[{key:"getValues",value:function(e,t,n){var r=[],o={},a=!0,i=!1,s=void 0;try{for(var l,c=e[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value;o[u.sampleId]=u[n]}}catch(e){i=!0,s=e}finally{try{!a&&c.return&&c.return()}finally{if(i)throw s}}var p=t.filter(function(e){return o.hasOwnProperty(e)});return r=1===p.length?[o[p[0]]]:p.map(function(e){return e+": "+o[e]})}},{key:"getTextValue",value:function(t,n,r){return e.getValues(t,n,r).join(";")}},{key:"getDisplayValue",value:function(t,n,r){return e.getValues(t,n,r).join("\n")}},{key:"renderFunction",value:function(t,n,r){return l.createElement("div",{className:u.default["integer-data"]},e.getDisplayValue(t,n,r))}},{key:"getReads",value:function(e,t){var n=[];if(e){var r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var l=i.value;n.push(l[t])}}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}}return 1==n.length?n[0]:n}}]),e}();t.default=p},function(e,t){e.exports={portalWidth:"styles-module__portalWidth__1w8-Y","integer-data":"styles-module__integer-data__1Bn0H"}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(343),s=r(i),l=function(){function e(){o(this,e)}return a(e,null,[{key:"getTextValue",value:function(t){var n=e.getData(t);return n||""}},{key:"getDisplayValue",value:function(t){return e.getTextValue(t)}},{key:"getData",value:function(e){return e.length>0?e[0].gene.hugoGeneSymbol:null}},{key:"getSortValue",value:function(t){return e.getTextValue(t)}},{key:"renderFunction",value:function(t){var n=e.getDisplayValue(t);return s.createElement("span",null,n)}}]),e}();t.default=l},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){n(this,e)}return r(e,null,[{key:"getSortValue",value:function(t){var n=e.getData(t);return n?e.extractSortValue(n):null}},{key:"extractSortValue",value:function(e){var t=/[0-9]+/g,n=e.match(t),r=-1;return n?r=parseInt(n[0]):e.toLowerCase().indexOf("x")>-1?r=23:e.toLowerCase().indexOf("y")>-1&&(r=24),r}},{key:"getData",value:function(e){return e.length>0?e[0].gene.chromosome:null}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(343),l=o(s),c=n(735),u=r(c),p=n(745),f=r(p),d=n(747),h=r(d),m=function(){function e(){a(this,e)}return i(e,null,[{key:"getSortValue",value:function(t){return e.extractSortValue(e.getTextValue(t))}},{key:"extractNonNumerical",value:function(e){var t=/[^0-9]+/g,n=e[0].match(t),r=[];if(n&&n.length>0)for(var o=n.join(""),a=0;a<o.length;a++)r.push(o.charCodeAt(a));return r}},{key:"extractSortValue",value:function(t){var n=/[A-Za-z][0-9]+./g,r=/[0-9]+/g,o=t.match(n),a=[];if(o&&0!==o.length?(a=e.extractNonNumerical(o),o=o[0].match(r)):o=t.match(r),o&&o.length>0){var i=o[0];return a&&a.length>0&&(i+="."+a.join("")),parseFloat(i)}return null}},{key:"getTextValue",value:function(t){var n="",r=e.getData(t);return r&&(n=r.toString()),n}},{key:"getDisplayValue",value:function(t){return e.getTextValue(t)}},{key:"getData",value:function(e){return e.length>0?e[0].proteinChange:null}},{key:"renderPlainText",value:function(t){var n=e.getDisplayValue(t);return l.createElement("span",null,n)}},{key:"renderWithMutationStatus",value:function(t){var n=e.getDisplayValue(t),r=f.default.getData(t),o=l.createElement(u.default,{text:n,tooltip:l.createElement("span",null,n),className:h.default.proteinChange,maxLength:20});return r&&r.toLowerCase().indexOf("germline")>-1&&(o=l.createElement("span",null,o,l.createElement("span",{className:h.default.germline},"Germline"))),o}}]),e}();t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(343),l=o(s),c=n(746),u=r(c),p=n(471),f=r(p),d=function(){function e(){a(this,e)}return i(e,null,[{key:"getData",value:function(e){var t=null;return e.length>0&&(t=e[0].mutationStatus),t}},{key:"sortValue",value:function(t){return e.getData(t)}},{key:"download",value:function(t){return e.getData(t)||""}},{key:"renderFunction",value:function(t){var n=e.getData(t),r=void 0,o=!1;return n?n.toLowerCase().indexOf("somatic")>-1?(r=l.createElement("span",{className:u.default.somatic},"S"),o=!0):n.toLowerCase().indexOf("germline")>-1?(r=l.createElement("span",{className:u.default.germline},"G"),o=!0):r=l.createElement("span",{className:u.default.unknown},n):r=l.createElement("span",null),o&&(r=l.createElement(f.default,{overlay:l.createElement("span",null,n),placement:"right"},r)),r}}]),e}();t.default=d},function(e,t){e.exports={portalWidth:"mutationStatus-module__portalWidth__2s2Qx",germline:"mutationStatus-module__germline__3PooJ",somatic:"mutationStatus-module__somatic__1ieJL",unknown:"mutationStatus-module__unknown__mbYor"}},function(e,t){e.exports={portalWidth:"proteinChange-module__portalWidth__1U76x",proteinChange:"proteinChange-module__proteinChange__2xJ_V",germline:"proteinChange-module__germline__1c0ww"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(343),l=o(s),c=n(471),u=r(c),p=n(749),f=r(p),d=n(722),h=r(d),m=function(){function e(){a(this,e)}return i(e,null,[{key:"getDisplayValue",value:function(t){var n=e.getMapEntry(t);return n&&n.label?n.label:e.getTextValue(t)}},{key:"getTextValue",value:function(t){var n="",r=e.getData(t);return r&&(n=r.toString()),n}},{key:"getClassName",value:function(t){var n=e.getMapEntry(t);return n&&n.className?n.className:e.MAIN_MUTATION_TYPE_MAP.other.className}},{key:"getMapEntry",value:function(t){var n=e.getData(t);return n?e.MAIN_MUTATION_TYPE_MAP[(0,h.default)(n)]:void 0}},{key:"getData",value:function(e){return e.length>0?e[0].mutationType:null}},{key:"renderFunction",value:function(t){var n=e.getDisplayValue(t),r=e.getClassName(t),o=e.getTextValue(t),a=l.createElement("span",{className:f.default[r]},n);if(o.toLowerCase()!==n.toLowerCase()){var i=l.createElement("div",{className:"rc-tooltip-arrow-inner"});a=l.createElement(u.default,{overlay:l.createElement("span",null,o),placement:"left",arrowContent:i},a)}return a}},{key:"MAIN_MUTATION_TYPE_MAP",get:function(){return{missense:{label:"Missense",longName:"Missense",className:"missense-mutation",mainType:"missense",priority:1},inframe:{label:"IF",longName:"In-frame",className:"inframe-mutation",mainType:"inframe",priority:2},truncating:{label:"Truncating",longName:"Truncating",className:"trunc-mutation",mainType:"truncating",priority:4},nonsense:{label:"Nonsense",longName:"Nonsense",className:"trunc-mutation",mainType:"truncating",priority:6},nonstop:{label:"Nonstop",longName:"Nonstop",className:"trunc-mutation",mainType:"truncating",priority:7},nonstart:{label:"Nonstart",longName:"Nonstart",className:"trunc-mutation",mainType:"truncating",priority:8},frameshift:{label:"FS",longName:"Frame Shift",className:"trunc-mutation",mainType:"truncating",priority:4},frame_shift_del:{label:"FS del",longName:"Frame Shift Deletion",className:"trunc-mutation",mainType:"truncating",priority:4},frame_shift_ins:{label:"FS ins",longName:"Frame Shift Insertion",className:"trunc-mutation",mainType:"truncating",priority:5},in_frame_ins:{label:"IF ins",longName:"In-frame Insertion",className:"inframe-mutation",mainType:"inframe",priority:3},in_frame_del:{label:"IF del",longName:"In-frame Deletion",className:"inframe-mutation",mainType:"inframe",priority:2},splice_site:{label:"Splice",longName:"Splice site",className:"trunc-mutation",mainType:"truncating",priority:9},fusion:{label:"Fusion",longName:"Fusion",className:"fusion",mainType:"other",priority:10},silent:{label:"Silent",longName:"Silent",className:"other-mutation",mainType:"other",priority:11},other:{label:"Other",longName:"Other",className:"other-mutation",mainType:"other",priority:11}}}}]),e}();t.default=m},function(e,t){e.exports={portalWidth:"mutationType-module__portalWidth__2MF0M","missense-mutation":"mutationType-module__missense-mutation__2vEO9","trunc-mutation":"mutationType-module__trunc-mutation__1fMqq","inframe-mutation":"mutationType-module__inframe-mutation__3PeGf","other-mutation":"mutationType-module__other-mutation__3NGsA","default-mutation":"mutationType-module__default-mutation__27MBJ"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.querySelector(".rc-tooltip-arrow");t.style.left="10px"}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.placeArrow=l;var u=n(343),p=o(u),f=n(527),d=n(597),h=r(d),m=n(471),y=r(m);n(521);var g=n(667),v=r(g),b=n(751),w=r(b),C=n(755),T=r(C),S=n(757),x=r(S),A=n(756),k=r(A),E=n(758),M=r(E),_=n(753),P=r(_),O=n(676),I=r(O),R=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={active:n.props.active},n}return s(t,e),c(t,[{key:"legend",value:function(){var e=this;return p.createElement("div",null,p.createElement("table",{className:"table table-striped table-border-top"},p.createElement("thead",null,p.createElement("tr",null,p.createElement("th",null,"Legend"),p.createElement("th",null,p.createElement("span",{style:{display:"inline-block",width:22},title:"Mutation Asessor",onMouseOver:function(){return e.setState({active:"mutationAssessor"})}},p.createElement("img",{height:14,width:14,src:n(754),alt:"Mutation Assessor"}))),p.createElement("th",null,p.createElement("span",{style:{display:"inline-block",width:22},title:"SIFT",onMouseOver:function(){return e.setState({active:"sift"})}},p.createElement("img",{height:14,width:14,src:n(759),alt:"SIFT"}))),p.createElement("th",null,p.createElement("span",{style:{display:"inline-block",width:22},title:"PolyPhen-2",onMouseOver:function(){return e.setState({active:"polyPhen2"})}},p.createElement("img",{height:14,width:14,src:n(760),alt:"PolyPhen-2"}))))),p.createElement("tbody",null,p.createElement("tr",null,p.createElement("td",null,p.createElement("span",{className:(0,h.default)(I.default["annotation-item-text"],P.default["ma-high"])},p.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}))),p.createElement("td",{className:P.default["ma-high"]},"high"),p.createElement("td",{className:k.default["sift-deleterious"]},"deleterious"),p.createElement("td",{className:M.default["polyPhen2-probably_damaging"]},"probably_damaging")),p.createElement("tr",null,p.createElement("td",null,p.createElement("span",{className:(0,h.default)(I.default["annotation-item-text"],P.default["ma-medium"])},p.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}))),p.createElement("td",{className:P.default["ma-medium"]},"medium"),p.createElement("td",null,"-"),p.createElement("td",null,"-")),p.createElement("tr",null,p.createElement("td",null,p.createElement("span",{className:(0,h.default)(I.default["annotation-item-text"],P.default["ma-low"])},p.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}))),p.createElement("td",{className:P.default["ma-low"]},"low"),p.createElement("td",{className:k.default["sift-deleterious_low_confidence"]},"deleterious_low_confidence"),p.createElement("td",{className:M.default["polyPhen2-possibly_damaging"]},"possibly_damaging")),p.createElement("tr",null,p.createElement("td",null,p.createElement("span",{className:(0,h.default)(I.default["annotation-item-text"],P.default["ma-neutral"])},p.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}))),p.createElement("td",{className:P.default["ma-neutral"]},"neutral"),p.createElement("td",{className:k.default["sift-tolerated_low_confidence"]},"tolerated_low_confidence"),p.createElement("td",{className:M.default["polyPhen2-benign"]},"benign")),p.createElement("tr",null,p.createElement("td",null),p.createElement("td",null,"-"),p.createElement("td",{className:k.default["sift-tolerated"]},"tolerated"),p.createElement("td",null,"-")))))}},{key:"render",value:function(){return p.createElement("div",null,"mutationAssessor"===this.state.active&&t.mutationAssessorText(),"sift"===this.state.active&&t.siftText(),"polyPhen2"===this.state.active&&t.polyPhen2Text(),this.legend())}}],[{key:"mutationAssessorText",value:function(){return p.createElement("div",{style:{width:450,height:100}},p.createElement("a",{href:w.default.MUTATION_ASSESSOR_URL,target:"_blank"},"Mutation Assessor")," predicts the functional impact of amino-acid substitutions in proteins, such as mutations discovered in cancer or missense polymorphisms. The functional impact is assessed based on evolutionary conservation of the affected amino acid in protein homologs. The method has been validated on a large set (60k) of disease associated (OMIM) and polymorphic variants.")}},{key:"siftText",value:function(){return p.createElement("div",{style:{width:450,height:100}},p.createElement("a",{href:T.default.SIFT_URL,target:"_blank"},"SIFT")," predicts whether an amino acid substitution affects protein function based on sequence homology and the physical properties of amino acids. SIFT can be applied to naturally occurring nonsynonymous polymorphisms and laboratory-induced missense mutations.")}},{key:"polyPhen2Text",value:function(){return p.createElement("div",{style:{width:450,height:100}},p.createElement("a",{href:x.default.POLYPHEN2_URL,target:"_blank"},"PolyPhen-2")," (Polymorphism Phenotyping v2) is a tool which predicts possible impact of an amino acid substitution on the structure and function of a human protein using straightforward physical and comparative considerations.")}}]),t}(p.Component),L=function(){function e(){a(this,e)}return c(e,null,[{key:"headerRender",value:function(e){var t=p.createElement("div",{className:"rc-tooltip-arrow-inner"});return p.createElement("div",null,e,p.createElement("br",null),p.createElement("div",{style:{height:14}},p.createElement(y.default,{overlay:p.createElement(R,{active:"mutationAssessor"}),placement:"topLeft",trigger:["hover","focus"],arrowContent:t,destroyTooltipOnHide:!0,
onPopupAlign:l},p.createElement("span",{style:{display:"inline-block",width:22}},p.createElement("img",{height:14,width:14,src:n(754),alt:"Sift"}))),p.createElement(y.default,{overlay:p.createElement(R,{active:"sift"}),placement:"topLeft",trigger:["hover","focus"],arrowContent:t,destroyTooltipOnHide:!0,onPopupAlign:l},p.createElement("span",{style:{display:"inline-block",width:22}},p.createElement("img",{height:14,width:14,src:n(759),alt:"SIFT"}))),p.createElement(y.default,{overlay:p.createElement(R,{active:"polyPhen2"}),placement:"topLeft",trigger:["hover","focus"],arrowContent:t,destroyTooltipOnHide:!0,onPopupAlign:l},p.createElement("span",{style:{display:"inline-block",width:22}},p.createElement("img",{height:14,width:14,src:n(760),alt:"PolyPhen-2"})))))}},{key:"renderFunction",value:function(t,n){var r=e.getGenomeNexusData(t,n);return p.createElement("div",null,e.makeFuncionalImpactViz(r))}},{key:"getGenomeNexusData",value:function(e,t){return 0===e.length?null:t.get(e[0])}},{key:"makeFuncionalImpactViz",value:function(e){var t=null;if(null===e)t=g.TableCellStatus.LOADING;else if("error"===e.status)t=g.TableCellStatus.ERROR;else{if(null!==e.data)return p.createElement("div",null,p.createElement(w.default,{mutationAssessor:e.data.mutation_assessor.annotation}),p.createElement(T.default,{siftScore:parseFloat(e.data.transcript_consequences[0].sift_score),siftPrediction:e.data.transcript_consequences[0].sift_prediction}),p.createElement(x.default,{polyPhenScore:parseFloat(e.data.transcript_consequences[0].polyphen_score),polyPhenPrediction:e.data.transcript_consequences[0].polyphen_prediction}));t=g.TableCellStatus.NA}if(null!==t)return t===g.TableCellStatus.LOADING?p.createElement(f.Circle,{size:18,scaleEnd:.5,scaleStart:.2,color:"#aaa",className:"pull-left"}):p.createElement(v.default,{status:t})}}]),e}();t.default=L},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.querySelector(".rc-tooltip-arrow");t.style.display="none"}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.hideArrow=l;var u=n(343),p=o(u),f=n(471),d=r(f),h=n(676),m=r(h),y=n(597),g=r(y),v=n(752),b=r(v),w=n(753),C=r(w),T=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tooltipContent=n.tooltipContent.bind(n),n}return s(t,e),c(t,[{key:"render",value:function(){var e=p.createElement("span",{className:""+m.default["annotation-item-text"]});if(null!==this.props.mutationAssessor.functionalImpact){var t=this.props.mutationAssessor;e=p.createElement("span",{className:(0,g.default)(m.default["annotation-item-text"],C.default["ma-"+t.functionalImpact])},p.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}));var n=p.createElement("div",{className:"rc-tooltip-arrow-inner"});e=p.createElement(d.default,{overlay:this.tooltipContent,placement:"right",trigger:["hover","focus"],arrowContent:n,onPopupAlign:l,destroyTooltipOnHide:!1},e)}return e}},{key:"tooltipContent",value:function(){var e=this.props.mutationAssessor,r=t.maLink("http://mutationassessor.org/r3/?cm=var&p="+e.uniprotId+"&var="+e.variant),o=t.maLink(e.msaLink),a=t.maLink(e.pdbLink),i=e.functionalImpact?p.createElement("div",null,p.createElement("table",{className:b.default["ma-tooltip-table"]},p.createElement("tr",null,p.createElement("td",null,"Source"),p.createElement("td",null,p.createElement("a",{href:"http://mutationassessor.org/r3"},"MutationAssessor"))),p.createElement("tr",null,p.createElement("td",null,"Impact"),p.createElement("td",null,p.createElement("span",{className:C.default["ma-"+e.functionalImpact]},e.functionalImpact))),(e.functionalImpactScore||0===e.functionalImpactScore)&&p.createElement("tr",null,p.createElement("td",null,"Score"),p.createElement("td",null,p.createElement("b",null,e.functionalImpactScore.toFixed(2)))))):null,s=r?p.createElement("div",{className:b.default["mutation-assessor-link"]},p.createElement("a",{href:r,target:"_blank"},p.createElement("img",{height:"15",width:"19",src:n(754),className:b.default["mutation-assessor-main-img"],alt:"Mutation Assessor"}),"Go to Mutation Assessor")):null,l=o?p.createElement("div",{className:b.default["mutation-assessor-link"]},p.createElement("a",{href:o,target:"_blank"},p.createElement("span",{className:b.default["ma-icon"]+" "+b.default["ma-msa-icon"]},"msa"),"Multiple Sequence Alignment")):null,c=a?p.createElement("div",{className:b.default["mutation-assessor-link"]},p.createElement("a",{href:a,target:"_blank"},p.createElement("span",{className:b.default["ma-icon"]+" "+b.default["ma-3d-icon"]},"3D"),"Mutation Assessor 3D View")):null;return p.createElement("span",null,i,l,c,s)}}],[{key:"maLink",value:function(e){var t=null;return e&&(t=e.replace("getma.org","mutationassessor.org/r3"),0!==t.indexOf("http://")&&(t="http://"+t)),t}}]),t}(p.Component);t.default=T,T.MUTATION_ASSESSOR_URL="http://mutationassessor.org/r3/"},function(e,t){e.exports={portalWidth:"mutationAssessorTooltip-module__portalWidth__15gd3","ma-link":"mutationAssessorTooltip-module__ma-link__3QpML","mutation-assessor-link":"mutationAssessorTooltip-module__mutation-assessor-link__3XLsB","ma-icon":"mutationAssessorTooltip-module__ma-icon__GqjUA","ma-msa-icon":"mutationAssessorTooltip-module__ma-msa-icon__2yT6h","ma-3d-icon":"mutationAssessorTooltip-module__ma-3d-icon__166M3","mutation-assessor-main-img":"mutationAssessorTooltip-module__mutation-assessor-main-img__2QlLP","ma-tooltip-table":"mutationAssessorTooltip-module__ma-tooltip-table__3tyG8"}},function(e,t){e.exports={portalWidth:"mutationAssessorColumn-module__portalWidth__3YkFm","ma-high":"mutationAssessorColumn-module__ma-high__gHJA0","ma-medium":"mutationAssessorColumn-module__ma-medium__3fKlP","ma-low":"mutationAssessorColumn-module__ma-low__VwQXC","ma-neutral":"mutationAssessorColumn-module__ma-neutral__2oq-W"}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAABJCAIAAADdSs1eAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAdMSURBVHhe7VpdTFdlGA/jS5AARUTDkC/RIlfQ5mbkFisuaH2MNusit6Zrulbroq1uWhdetNVNX5vTNb2xC7rQlW2skcMiZrilFTKQDwEVFJAiFRAFpR97Dw8P53/+5z3nPe/5/4/bOTsXcM778by/9/k9v+d9zj9hbm7ugfBiCCwL0TAhECJidokQkRARWZgIfcSMUEIctab90uS+oxfJoj3PrX2qOCMzLTHaLp7pu3ni3PiZvgnRYOf2NS9WrrJsPHBt+oNv++jVhy+vryzKkDmH8T6ePsLhgDkHT1xt7rweze6xGzOf/nCZ4ECzI80j16dmLdu39tzgz4GjQzjQLJ6IRFqJRU7dvmtpfdfVqcjnM7MWyRRGOHZ6jDcGjvAah6AEApHnt2STuX0j1qZ/2TAk2tRtzbFfW+eQgV1l0QpqeWH41v2ESF5WMoKCsPj3pQ4vHtIOY5Hl+en2azvbbwSaqk2ZBB8o6RARr5F19L/pr453tg84Iur3H1dzs3Z83iH+BRyPP5JOsfCbPRtN8bX+1Kggwnu1D2cuT6QAtH93ac5DSXxMRJa3DnaLJ1+8WTwxffej+gHx72dvFG1YnSrFxStrDjR0OYTD3hRua+9SD+dxoWxtmv041BfetC47JX9lilvieEJkfOKOFjiE0VBf8YdJGiguINyYPCISHU4ZvE1LeZATJ1rY5uN4QqSlfeTO7D0MV74hG4yQ3vbbW5y3XDSANFwZv02NaZEVhYuR0nIo9Pq5zeBvYa5BEN5r8N/FYaMZ4wmRprZhMW71ljwpP6UNOHH6Rw3F4YssWYAs2lDUS1BGNOPEIXBtjFFHpH/4Jm4MnZy4bOum1dIFO2lAxCGt7Rw0pBTOb5POisFbzhsJHlSGpuPEQXiWEkcdEXIQwJGeGjX1dgIEtSHi4IlQXFJNJ5ShjBZ6hByX7vWrFuOrlDiKiCB8IIiIlTyrgzJiKBCH0qpzlya7WZ7Knd8SZaIM3kKe3z7UQzd5HF5JiaOIyJ+9/0BoMEH2iuSKEuvjlivvoMbk8Mjof+0wWICEBc5vPyBRxr4ZiBPtNCQ6KiLS0jEq+lc/YUim2voje5FG4BUJB/I3+/FBMaIMIg4QNN38oGDKd0wjqyAyOT17+vy1BcpoRgQawc8jxCZ7RPix5fVtuagSmO4XKlbSCPbEUUHkt4U0pCw/Mz9HkkQq+A5XCnQnAbIZigIwnY9MjTnQcD0b4qggcnIhDdEYU/kCOHHwfHO+BHR+0i9bZ6R5kfBxoG2I4xqRwbGprsH5gIc05Jly48Cq4AjoQuxIS15iBvaTaM9zLTFLclICTZeUOP/3xC2jpILGNpLEz0RXxudlwfJyffY90nThaMt8KRBwvF/3mBoWQe7l2kea/jIKDVWP5gZ5Ycq2uUPkLEtDntSahigvQHtHd4hQGlJVvgZxRLs1QRjQxap45q7lsBuE9Ufa4AIRqoYU5mXgDuZ6vFvlAhG91RDvpvs0glNEUGEWBUSEDwQRn6wJwrBOEWn62xBdSAzOu0Ew3ScbXCMSwJgK/31lXxPuHZ/8ImoUXi5HiIAvmBXTwDsCmIbkZqWi9A3zuBoqg+IIEV5ADGYaQgk0ZUw+IgLgWTVEQ81d2Vabjjhkia3CKRRnUS9TyH0EcKBEhDlQCkFBxMtk/vVF6Zu+B5xsc/qJ19IeOSKsGqK5XKYXICrW0FlUbXwJIgjdON2JobWXVNUsjtYLBXCRFnCbFaaQIEJ403wKc8SsC+0Z+bXC1BJEeOgW0eS+uEgKFKyVIELpKbjzzv5WLzMpGOe8CyQG5oniHq4sD1m1pKoIvzjU2MNjFejz7kubg5PIw8L65v4fWy8TfLBwb20Z0jbngPKWjuqscJDDjT2k85C6um0Fr1YVqE2psRcM+/p4J2XuMGx3TalHBXCECNaAPO275n5ySzxBbrK3dmO8CiVAAViQDgop3Fld7N15nSIiNhY/jzjQ0C2+TogLnvLa9sIYp/Y//TGETwIU6YECiKzr87M7RAQK8BT4i/h1ES7ksrtqSnUZZM8pMBeu4euWqCACoy2dFhzW9UOSSFwEbRFBaSdAWNBW+8FCERFhMT4AI+LqDWyWPoJyBH4USaEdJAVVfQrtnhCB9Zby7EX8TIhYjg+S+vEFXkztFRExik97GDMf5NugBxGMGCnPXnjun7jaR25tPkLTWGoB0jlXEdekZcg+QcPYaJl+REiej526qJAvQFYPN/b6Kq6x9hGaL9LtUfhDRIyWU1rmxLtqSrSLa9wQcSXPSMYhrqLcj8tXcY0zIpbyjG1H0i3kE66EfNx0ttYo3tL1RzbQpjX2cyM0IPvmKVbd0wVZ6cn8eKLl5KoAgalLjBAheeZpODcFJ1dfDwHOkYodIsKmSHmOsbhKoYk1IsIgeAoKX5DnuBQT7EGJDyKCRDOz91xlbtLt1dIgbohosd6PQeTf9PyYNchjhoiYdydEJERExtjQR0IfCX1EhkDoIzKE/gco765KHggW0QAAAABJRU5ErkJggg=="},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.querySelector(".rc-tooltip-arrow");t.style.display="none"}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.hideArrow=l;var u=n(343),p=o(u),f=n(471),d=r(f),h=n(676),m=r(h),y=n(597),g=r(y),v=n(756),b=r(v),w=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tooltipContent=n.tooltipContent.bind(n),n}return s(t,e),c(t,[{key:"render",value:function(){var e=p.createElement("span",{className:""+m.default["annotation-item-text"]});if(this.props.siftPrediction&&this.props.siftPrediction.length>0){e=p.createElement("span",{className:(0,g.default)(m.default["annotation-item-text"],b.default["sift-"+this.props.siftPrediction])},p.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}));var t=p.createElement("div",{className:"rc-tooltip-arrow-inner"});e=p.createElement(d.default,{overlay:this.tooltipContent,placement:"right",trigger:["hover","focus"],arrowContent:t,onPopupAlign:l,destroyTooltipOnHide:!1},e)}return e}},{key:"tooltipContent",value:function(){var e=this.props.siftPrediction?p.createElement("div",null,p.createElement("table",{className:b.default["sift-tooltip-table"]},p.createElement("tr",null,p.createElement("td",null,"Source"),p.createElement("td",null,p.createElement("a",{href:"http://sift.bii.a-star.edu.sg/"},"SIFT"))),p.createElement("tr",null,p.createElement("td",null,"Impact"),p.createElement("td",null,p.createElement("span",{className:b.default["sift-"+this.props.siftPrediction]},this.props.siftPrediction))),(this.props.siftScore||0===this.props.siftScore)&&p.createElement("tr",null,p.createElement("td",null,"Score"),p.createElement("td",null,p.createElement("b",null,this.props.siftScore.toFixed(2)))))):null;return p.createElement("span",null,e)}}]),t}(p.Component);t.default=w,w.SIFT_URL="http://sift.bii.a-star.edu.sg/"},function(e,t){e.exports={portalWidth:"siftTooltip-module__portalWidth__24Oa2","sift-deleterious":"siftTooltip-module__sift-deleterious__1aA2Z","sift-deleterious_low_confidence":"siftTooltip-module__sift-deleterious_low_confidence__2fL6l","sift-tolerated_low_confidence":"siftTooltip-module__sift-tolerated_low_confidence__1u4Hk","sift-tolerated":"siftTooltip-module__sift-tolerated__xqt6g","sift-tooltip-table":"siftTooltip-module__sift-tooltip-table__2KTtP"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.querySelector(".rc-tooltip-arrow");t.style.display="none"}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.hideArrow=l;var u=n(343),p=o(u),f=n(471),d=r(f),h=n(676),m=r(h),y=n(597),g=r(y),v=n(758),b=r(v),w=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tooltipContent=n.tooltipContent.bind(n),n}return s(t,e),c(t,[{key:"render",value:function(){var e=p.createElement("span",{className:""+m.default["annotation-item-text"]});if(this.props.polyPhenPrediction&&this.props.polyPhenPrediction.length>0){e=p.createElement("span",{className:(0,g.default)(m.default["annotation-item-text"],b.default["polyPhen2-"+this.props.polyPhenPrediction])},p.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}));var t=p.createElement("div",{className:"rc-tooltip-arrow-inner"});e=p.createElement(d.default,{overlay:this.tooltipContent,placement:"right",trigger:["hover","focus"],arrowContent:t,onPopupAlign:l,destroyTooltipOnHide:!1},e)}return e}},{key:"tooltipContent",value:function(){var e=this.props.polyPhenPrediction?p.createElement("div",null,p.createElement("table",{className:b.default["polyPhen2-tooltip-table"]},p.createElement("tr",null,p.createElement("td",null,"Source"),p.createElement("td",null,p.createElement("a",{href:"http://genetics.bwh.harvard.edu/pph2/"},"PolyPhen-2"))),p.createElement("tr",null,p.createElement("td",null,"Impact"),p.createElement("td",null,p.createElement("span",{className:b.default["polyPhen2-"+this.props.polyPhenPrediction]},this.props.polyPhenPrediction))),(this.props.polyPhenScore||0===this.props.polyPhenScore)&&p.createElement("tr",null,p.createElement("td",null,"Score"),p.createElement("td",null,p.createElement("b",null,this.props.polyPhenScore.toFixed(2)))))):null;return p.createElement("span",null,e)}}]),t}(p.Component);t.default=w,w.POLYPHEN2_URL="http://genetics.bwh.harvard.edu/pph2/"},function(e,t){e.exports={portalWidth:"polyPhen2Tooltip-module__portalWidth__CFsKD","polyPhen2-probably_damaging":"polyPhen2Tooltip-module__polyPhen2-probably_damaging__EBbPS","polyPhen2-possibly_damaging":"polyPhen2Tooltip-module__polyPhen2-possibly_damaging__1fyF8","polyPhen2-benign":"polyPhen2Tooltip-module__polyPhen2-benign__36nqJ","polyPhen2-unknown":"polyPhen2Tooltip-module__polyPhen2-unknown__3KRAw","polyPhen2-tooltip-table":"polyPhen2Tooltip-module__polyPhen2-tooltip-table__2WGNf"}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAT5QTFRF/Pz8/////P396urqzMzMxsbGxsbGxsbGxsbGxsbGycnJ19fX9vb2/v7+2NjYwsLC+Pr69Pf38PT18fT19ff4+fr79PT0p7GzZ4CGXnuCYX+GZIWNaYqSbo+XZYWNZIKJYXyDbYWLs7m7SHiEAERVcpag+vv7gqavFFhpIWJytsvQgKeyLW5/IWd4Qn2Mv9PYfLTDKoOZKoWbTJqt9/r79Pj5c7zOM5u2MZq0WrDE5/H00+zyodfkVrjPRbHMRbHLULXOm9TjyOfv1OzypNjlndXkz+rx+vz8rdzopNjl7Pb56vX45/T36/b45vT36/b45/T36vX45PP3AENUAEBQAD1MADtKADpIDVJjCU5fB0xdBktcCExdDlJjIWd4KH6TJ3yRJ3qPJ3uQKHyRKYCVMJixMJawMJavMJex////SLEDvgAAAFN0Uk5TAAAAEzVMYW51e0l7fn57Z4OHi4qHggdcu9zu+Pr8+OvXtFC1/YwDhfjrS47u/ddHmv391gcKq/z9yxozdeX9/e19Q0KUo0oGqr0kPEc6SjhGPk2mXRMZAAAAAWJLR0QB/wIt3gAAAAlwSFlzAAAASAAAAEgARslrPgAAALpJREFUGNNjYGBmYWVj5+Dk5GBnY2VhZmDg4ubhhQMePi4GfhBfQFBIWEQUJMLPICYuISklLSMrKyMnr6CoJMbAoKwSHBIaFh4eFhoSrKLKyMCopq4RERkVHR0TGaupxQAUYNTWiYMAXT19RpAAg4FhfEJiUnKKkbEJWIDR1Mw8NS09w8LSihEiwGhtY2tn7+DoxAQTYGRydnF1YwIzIQKM7h6eXozIAozePoyoAr5+aAL+AWgCgUFQBgBUGxvs9K2IRwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0wOS0xNFQwMDoxMTowNSswMzowMPy1TyEAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDktMTRUMDA6MTE6MDQrMDM6MDArn/wpAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAklQTFRF+/z+////dJ7j///+9Pv/a5TdqL7k4+v6eKDjsMnvtM75X5Hkp77ou9H33+j4vtT4wdf7cp/p3u3/ja/oaaP2ytjsZ47V/f//0N71wc3jKnft0OH8GmbeO3fcQHTSMW7VkbbyuNX/FWDcc5TS///6////2+X4z9zs1NviPoLihbT4/f7+bJ/umLLWyNTnNHzt/P3+1OP7wM7o0dznVoPMob3sY4zVR4jukLb0/v7+SILhz9vr//z0pb7gM3rlzeD9E17aWY/q/f3+R4Lhztnq///2jrfxG2rozd35RYHlgaHX0Nzw///+4+39cZrgtMXjqsn1GGjnf6nwkbTvd53iwtDjXIbOq8Pt/v39obrkN3PXLXnvfaju/v//8/j+gajrk7Hl//72sMTiPnrdt9D5+/z+qcz7AE/dcZzn8ff+iari9vf0+vnxTIfjZprvSo71QHradZjT4en2YIrV+fn03+jxOH/qeqnzKG7eY4rNVH/PiLPzxd37mbHe///3x9ToMWfIpL3roLjiT33PNnzrjLX1ibX04er1+vj18/PvXorWU4be9fj+8/X5NnfiGmjn5/D9+fv+WJTv3OLo5eru7e/vhazoL3Pk2ub6s8/6K3buPnTSm7Tja5zpQnDH7fH1/Pz6///4ga/xM3np4Or6SIboYJPmvszjRnXLp8LvlLvzLmnRydjs///8+Pr6UIjkSYTmwNX3LnLhrcXtjKnZS33V2eb70+P8gaLW///5pMj4CmHqnr31Lm7dztvu9/fy4unwQHTSe6HnW+6dZAAAACF0Uk5T+/7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+EjK2AQAAAAFiS0dEAf8CLd4AAAAJcEhZcwAAAEgAAABIAEbJaz4AAAEOSURBVBjTDcyDQkRRFAXQc7Nta6fJtt3Ltm3brsl2k227vqzWBywiZmhkbAKYCpmZW1iCR8IiVqLWYgziEjaStlLMjmAv7eDo5AzIuLi6Ae4EWQ9PL28fX8j5+QMBIMgHBgWHhIZBITwiEhyPEBUdExsXzyEhMSk5BRylIi09IzML2Tm5efkFhaAiVlxSCqBMsbyisqoaxCnV1NbVg4NyQ2NTcwuIqbSqtqmpg2m0a3ZoaYM6dbq6e3r7wLH+gcGh/3RYd2R0bHyCDzY5NT2DWZrTm19YXFpeAVtdW98AaHNre0ewu7eP7IPDo+MT0OnZ+cXl1TUfN7d3gvuHR3rSf355fXsHDD4+v75/fv8AgKdToRrTqZIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTctMDktMTRUMDA6MjI6NDErMDM6MDD+ZbjKAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTA5LTE0VDAwOjIyOjI2KzAzOjAwjPA3fwAAAABJRU5ErkJggg=="},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=e.querySelector(".rc-tooltip-arrow");t.style.left="10px"}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.placeArrow=i;var l=n(343),c=o(l),u=n(471),p=r(u),f=n(408),d=o(f),h=n(762),m=r(h),y=n(763),g=r(y),v=n(741),b=r(v),w=function(){function e(){a(this,e)}return s(e,null,[{key:"getData",value:function(t,n){var r=null;if(t&&n){var o=t[0],a=n[o.keyword];if(a){var i=e.extractPosition(o.proteinChange);r=a.filter(function(t){var n=e.extractPosition(t.proteinChange);return i&&n&&i===n})}}return r}},{key:"extractPosition",value:function(e){var t=/[0-9]+/g,n=e.match(t);return n?n[0]:null}},{key:"getSortValue",value:function(t,n){var r=e.getData(t,n),o=null;return r&&(o=r.length>0?d.reduce(d.map(r,"count"),function(e,t){return e+t},0):0),0===o&&(o=null),o}},{key:"getDownloadValue",value:function(t,n){var r=e.getSortValue(t,n);return r?""+r:""}},{key:"renderFunction",value:function(t,n){var r=e.getData(t,n),o=-1,a="",s=null,l=void 0;return r&&r.length>0&&(o=d.reduce(d.map(r,"count"),function(e,t){return e+t},0),s=function(){return c.createElement("span",{className:g.default["cosmic-table"]},c.createElement("b",null,o)," occurrences of ",c.createElement("b",null,r[0].keyword)," mutations in COSMIC",c.createElement(m.default,{data:r}))},a=o.toString()),l=c.createElement("div",{className:b.default["integer-data"]},a),s&&(l=c.createElement(p.default,{overlay:s,placement:"topLeft",onPopupAlign:i,trigger:["hover","focus"],destroyTooltipOnHide:!0},l)),l}}]),e}();t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(343),u=o(c),p=n(744),f=r(p),d=n(594),h=r(d),m=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),t}(h.default),y=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return s(t,e),l(t,[{key:"render",value:function(){var e=this.props,n=e.data,r=e.columns,o=e.initialSortColumn,a=e.initialSortDirection,i=e.initialItemsPerPage,s=n.length>(this.props.initialItemsPerPage||t.defaultProps.initialItemsPerPage);return u.createElement("div",{className:"cbioportal-frontend"},u.createElement(m,{data:n,columns:r||t.defaultProps.columns,initialSortColumn:o,initialSortDirection:a,initialItemsPerPage:i,showCopyDownload:!1,showColumnVisibility:!1,showFilter:!1,showPagination:s,showPaginationAtTop:!0,paginationProps:{showMoreButton:!1}}))}}]),t}(u.Component);t.default=y,y.defaultProps={data:[],columns:[{name:"COSMIC ID",order:1,render:function(e){return u.createElement("span",null,u.createElement("a",{href:"http://cancer.sanger.ac.uk/cosmic/mutation/overview?id="+e.cosmicMutationId,target:"_blank"},e.cosmicMutationId))},sortBy:function(e){return e.cosmicMutationId}},{name:"Protein Change",order:2,render:function(e){return u.createElement("span",null,e.proteinChange)},sortBy:function(e){return f.default.extractSortValue(e.proteinChange)}},{name:"Occurrence",order:3,render:function(e){return u.createElement("span",null,e.count)},sortBy:function(e){return e.count}}],initialSortColumn:"Occurrence",initialSortDirection:"desc",initialItemsPerPage:10}},function(e,t){e.exports={portalWidth:"cosmic-module__portalWidth__3eF_t","cosmic-table":"cosmic-module__cosmic-table__2ms15"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(343),l=o(s),c=n(765),u=r(c),p=n(741),f=r(p),d=function(){function e(){a(this,e)}return i(e,null,[{key:"makeRenderFunction",value:function(e){return(0,u.default)(function(t){var n=e.props.mutationCountCache;return n?n.get({sampleId:t[0].sampleId,molecularProfileId:t[0].molecularProfileId}):{status:"error",data:null}},function(e){return l.createElement("div",{className:f.default["integer-data"]},e.mutationCount)},"Mutation count not available for this sample.")}},{key:"sortBy",value:function(e,t){var n=void 0;if(t){var r=t.get({sampleId:e[0].sampleId,molecularProfileId:e[0].molecularProfileId});n=r&&r.data?r.data.mutationCount:null}else n=null;return n}}]),e}();t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t,n){return function(r){var o=e(r);return null===o?s.createElement(c.default,{status:l.TableCellStatus.LOADING}):"error"===o.status?s.createElement(c.default,{status:l.TableCellStatus.ERROR}):null===o.data?s.createElement(c.default,{status:l.TableCellStatus.NA,naAlt:n}):t(o.data,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(343),s=o(i),l=n(667),c=r(l)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(343),l=o(s),c=n(408),u=o(c),p=n(667),f=r(p),d=n(735),h=r(d),m=function(){function e(){a(this,e)}return i(e,null,[{key:"getData",value:function(e,t){var n=null;return t&&(n=t[e[0].sampleId]||null),n}},{key:"sortBy",value:function(t,n){var r=e.getData(t,n);return r?r:null}},{key:"filter",value:function(t,n,r){var o=e.getData(t,r);return null!==o&&o.toUpperCase().indexOf(n)>-1}},{key:"isVisible",value:function(t,n){if(!t||!n)return!1;var r={};return t.forEach(function(t){var o=e.getData(t,n);o&&(r[o]=t[0].sampleId)}),u.keys(r).length>1}},{key:"render",value:function(t,n){var r=e.getData(t,n);return r?l.createElement(h.default,{maxLength:30,text:r||"",tooltip:l.createElement("div",{style:{maxWidth:300}},r)}):l.createElement(f.default,{status:p.TableCellStatus.NA,naAlt:"Cancer type not available for this sample."})}}]),e}();t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(343),l=o(s),c=n(768),u=r(c),p=n(471),f=r(p),d=function(){function e(){a(this,e)}return i(e,null,[{key:"getData",value:function(e){var t=null;return e.length>0&&(t=e[0].validationStatus),t}},{key:"sortValue",value:function(t){return e.getData(t)}},{key:"download",value:function(t){return e.getData(t)||""}},{key:"renderFunction",value:function(t){var n=e.getData(t),r=void 0,o=!1;if(n){var a=e.VALIDATION_STATUS_FORMAT[n.toLowerCase()];a?(r=l.createElement("span",{className:u.default[a.className]},a.text),o=!0):r=l.createElement("span",{className:u.default.other},n)}else r=l.createElement("span",null);return o&&(r=l.createElement(f.default,{overlay:l.createElement("span",null,n),placement:"right"},r)),r}},{key:"VALIDATION_STATUS_FORMAT",get:function(){var e={text:"U",className:"unknown",tooltip:"Unknown"},t={text:"V",className:"valid",tooltip:"Valid"},n={text:"W",className:"wildtype",tooltip:"Wildtype"};return{valid:t,validated:t,wildtype:n,unknown:e,not_tested:e,"not tested":e,none:e,na:e,"n/a":e}}}]),e}();t.default=d},function(e,t){e.exports={portalWidth:"validationStatus-module__portalWidth__yrVHU",unknown:"validationStatus-module__unknown__1XsWI",valid:"validationStatus-module__valid__Ziu-a",wildtype:"validationStatus-module__wildtype__14GJI",other:"validationStatus-module__other__3oLt_"}},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MSKTabs=t.MSKTab=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(343),u=o(c),p=n(408),f=o(p),d=n(597),h=r(d),m=n(527),y=n(773),g=r(y);n(776);t.MSKTab=function(e){function t(e){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),l(t,[{key:"render",value:function(){return u.createElement("div",{className:(0,h.default)({"msk-tab":!0,hiddenByPosition:!!this.props.inactive},this.props.className)},this.props.children)}}]),t}(u.Component),t.MSKTabs=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.shownTabs=[],e.tabRefs=[],e.state={currentPage:1,pageBreaks:[]},e}return s(t,e),l(t,[{key:"cloneTab",value:function(e,t,n){return n?u.cloneElement(e,{inactive:t},u.createElement(m.ThreeBounce,{className:"default-spinner center-block text-center"})):u.cloneElement(e,{inactive:t})}},{key:"setActiveTab",value:function(e){this.props.onTabClick&&this.props.onTabClick(e)}},{key:"navTabsRefHandler",value:function(e){this.navTabsRef=e}},{key:"tabRefHandler",value:function(e,t){e&&t&&this.tabRefs.push({id:e,element:t})}},{key:"nextPage",value:function(){this.setState({currentPage:this.state.currentPage+1})}},{key:"prevPage",value:function(){this.setState({currentPage:this.state.currentPage-1})}},{key:"initOnResize",value:function(e,t){var n=this,r=null;return function(e){null!==r&&(window.clearTimeout(r),r=null),r=window.setTimeout(function(){n.setState({currentPage:1,
pageBreaks:[]})},600)}}},{key:"render",value:function(){var e=this;if(this.props.children&&u.Children.count(this.props.children)){var t=this.props.children,n=!1,r="",o=u.Children.toArray(t),a=f.reduce(o,function(t,o){return o.props.hide||(o.props.id===e.props.activeTabId?(n=!0,r=e.props.activeTabId,e.shownTabs.push(o.props.id),t.push(e.cloneTab(o,!1,!!o.props.loading))):f.includes(e.shownTabs,o.props.id)&&!o.props.loading&&t.push(e.cloneTab(o,!0,!!o.props.loading))),t},[]);if(n===!1){var i=o[0];this.shownTabs.push(i.props.id),a[0]=this.cloneTab(i,!1,!!i.props.loading),r=i.props.id}return u.createElement("div",{id:this.props.id?this.props.id:"",className:(0,h.default)("msk-tabs",this.props.className)},this.navTabs(t,r),u.createElement("div",{className:"tab-content"},a))}return null}},{key:"navTabs",value:function(e,t){this.tabRefs=[];var n=this.tabPages(e,t),r=this.state.pageBreaks.length+1,o=this.props.enablePagination?{border:0,overflow:"hidden"}:{},a=this.state.currentPage>1?u.createElement("li",{key:"prevPage",style:{cursor:"pointer"}},u.createElement("a",{onClick:this.prevPage.bind(this)},u.createElement("i",{className:"fa fa-chevron-left",style:this.props.arrowStyle}))):null,i=this.state.currentPage<r?u.createElement("li",{key:"nextPage",style:{cursor:"pointer"}},u.createElement("a",{onClick:this.nextPage.bind(this)},u.createElement("i",{className:"fa fa-chevron-right",style:this.props.arrowStyle}))):null,s=this.props.tabButtonStyle||"tabs";return u.createElement("ul",{ref:this.navTabsRefHandler.bind(this),className:(0,h.default)("nav","nav-"+s),style:o},a,n[this.state.currentPage-1],i,this.props.enablePagination&&u.createElement(g.default,{handleWidth:!0,onResize:this.initOnResize.bind(this)()}))}},{key:"tabPages",value:function(e,t){var n=this,r=[[]],o=1;return u.Children.forEach(e,function(e){if(!(!e||e.props.hide||e.props.loading&&t!==e.props.id)){var a=t===e.props.id?"active":"";n.props.enablePagination&&n.state.pageBreaks.length>0&&n.state.pageBreaks[o-1]===e.props.id&&(o++,r[o-1]=[]),r[o-1].push(u.createElement("li",{key:e.props.id,style:{cursor:"pointer"},ref:n.tabRefHandler.bind(n,e.props.id),className:a},u.createElement("a",{onClick:n.setActiveTab.bind(n,e.props.id),style:e.props.anchorStyle},e.props.linkText)))}}),r}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){if(e.props.enablePagination&&0===e.state.pageBreaks.length){var t=e.findPageBreaks(),n=e.findCurrentPage(t);e.setState({currentPage:n,pageBreaks:t})}},1)}},{key:"findCurrentPage",value:function(e){var t=this,n=1,r=!1;return this.props.activeTabId&&e.length>0&&f.each(this.tabRefs,function(o){if(o.id===e[n-1]&&n++,o.id===t.props.activeTabId)return r=!0,!1}),r?n:1}},{key:"findPageBreaks",value:function(){var e=[],t=this.navTabsRef&&this.navTabsRef.offsetWidth||0;if(t>0){var n=0;f.each(this.tabRefs,function(r){n+=r.element.offsetWidth;var o=e.length>0?160:100;n>t-o&&(e.push(r.id),n=r.element.offsetWidth)})}return e}}]),t}(u.Component)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(774),a=r(o);t.default=a.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(343),p=r(u),f=n(350),d=r(f),h=n(775),m=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={expandChildHeight:0,expandChildWidth:0,expandScrollLeft:0,expandScrollTop:0,shrinkScrollTop:0,shrinkScrollLeft:0,lastWidth:0,lastHeight:0},e.reset=e.reset.bind(e),e.handleScroll=e.handleScroll.bind(e),e}return i(t,e),c(t,[{key:"componentWillMount",value:function(){this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this.containerSize(),t=l(e,2),n=t[0],r=t[1];this.reset(n,r)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props!==e||this.state!==t}},{key:"componentDidUpdate",value:function(){this.expand.scrollLeft=this.expand.scrollWidth,this.expand.scrollTop=this.expand.scrollHeight,this.shrink.scrollLeft=this.shrink.scrollWidth,this.shrink.scrollTop=this.shrink.scrollHeight}},{key:"containerSize",value:function(){return[this.props.handleWidth&&this.container.parentElement.offsetWidth,this.props.handleHeight&&this.container.parentElement.offsetHeight]}},{key:"reset",value:function(e,t){if("undefined"!=typeof window){var n=this.container.parentElement,r="static";n.currentStyle?r=n.currentStyle.position:window.getComputedStyle&&(r=window.getComputedStyle(n).position),"static"===r&&(n.style.position="relative"),this.setState({expandChildHeight:this.expand.offsetHeight+10,expandChildWidth:this.expand.offsetWidth+10,lastWidth:e,lastHeight:t})}}},{key:"handleScroll",value:function(){if("undefined"!=typeof window){var e=this.state,t=this.containerSize(),n=l(t,2),r=n[0],o=n[1];r===e.lastWidth&&o===e.lastHeight||this.props.onResize(r,o),this.reset(r,o)}}},{key:"render",value:function(){var e=this,t=this.state,n=s({},h.expandChildStyle,{width:t.expandChildWidth,height:t.expandChildHeight});return p.default.createElement("div",{style:h.parentStyle,ref:function(t){e.container=t}},p.default.createElement("div",{style:h.parentStyle,onScroll:this.handleScroll,ref:function(t){e.expand=t}},p.default.createElement("div",{style:n})),p.default.createElement("div",{style:h.parentStyle,onScroll:this.handleScroll,ref:function(t){e.shrink=t}},p.default.createElement("div",{style:h.shrinkChildStyle})))}}]),t}(u.Component);t.default=m,m.propTypes={handleWidth:d.default.bool,handleHeight:d.default.bool,onResize:d.default.func},m.defaultProps={handleWidth:!1,handleHeight:!1,onResize:function(e){return e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.parentStyle={position:"absolute",left:0,top:0,right:0,bottom:0,overflow:"scroll",zIndex:-1,visibility:"hidden"},t.shrinkChildStyle={position:"absolute",left:0,top:0,width:"200%",height:"200%"},t.expandChildStyle={position:"absolute",left:0,top:0,width:"100%",height:"100%"}},453,,,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(343),c=r(l),u=n(527),p=n(464),f=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return c.createElement(p.If,{condition:this.props.isLoading},c.createElement(p.Then,null,c.createElement("div",null,c.createElement(u.ThreeBounce,{style:{display:"inline-block",marginLeft:10}}))))}}]),t}(c.Component);t.default=f},,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(343),c=r(l),u=n(455),p=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.defaultTitle="Sorry, something went wrong!",e.defaultTroubleshooting=["Check that your URL parameters are valid.","Make sure you are connected to the internet."],e}return i(t,e),s(t,[{key:"render",value:function(){return c.createElement(u.Modal,{show:this.props.show,onHide:this.props.onHide},c.createElement(u.Modal.Header,{closeButton:!0},c.createElement(u.Modal.Title,null,"undefined"==typeof this.props.title?this.defaultTitle:this.props.title)),c.createElement(u.Modal.Body,null,c.createElement("p",null,"Troubleshooting:"),c.createElement("ul",null,(this.props.troubleshooting||this.defaultTroubleshooting).map(function(e){return c.createElement("li",null,e)}))))}}]),t}(c.Component);t.default=p},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":c(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":c(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){var e=new b.ResultsViewPageStore,t=window.QuerySession,n=({genes:t.getQueryGenes()},[]);if(["-1","all"].indexOf(t.getCaseSetId())>-1)for(var r=t.getStudySampleMap(),o=Object.keys(r),a=0;a<o.length;a++){var i=o[a];n=n.concat(r[i].map(function(e){return{sampleId:e,studyId:i}}))}else for(var s=t.getStudySampleListMap(),o=Object.keys(s),a=0;a<o.length;a++)n.push({sampleListId:s[o[a]],studyId:o[a]});return e.samplesSpecification=n,e.hugoGeneSymbols=t.getQueryGenes(),e.selectedMolecularProfileIds=t.getGeneticProfileIds(),e.rppaScoreThreshold=t.getRppaScoreThreshold(),e.zScoreThreshold=t.getZScoreThreshold(),e.oqlQuery=t.oql_query,e}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p="function"==typeof Symbol&&"symbol"===c(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":c(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":"undefined"==typeof e?"undefined":c(e)},f=n(343),d=o(f),h=n(346),m=n(781),y=r(m),g=n(786),v=r(g),b=n(787),w=n(799),C=r(w),T=n(809),S=r(T),x=n(843),A=r(x),k=n(807),E=r(k),M=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};E.default.plugins.register({beforeDraw:function(e){var t=e.chart.ctx;t.fillStyle="white",t.fillRect(0,0,e.chart.width,e.chart.height)}});var _=l();window.resultsViewPageStore=_;var P=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.exposeComponentRenderersToParentScript(),n}return s(t,e),u(t,[{key:"componentDidMount",value:function(){}},{key:"exposeComponentRenderersToParentScript",value:function(){(0,v.default)("renderMutationsTab",function(e){return d.createElement("div",null,d.createElement(y.default,{show:_.ajaxErrors.length>0,onHide:function(){_.clearErrors()}}),d.createElement(S.default,{genes:e.genes,store:_}))}),(0,v.default)("renderCancerTypeSummary",function(e){return d.createElement("div",null,d.createElement(y.default,{show:_.ajaxErrors.length>0,onHide:function(){_.clearErrors()}}),d.createElement(C.default,{store:_}))}),(0,v.default)("renderMutExTab",function(){return d.createElement("div",null,d.createElement(A.default,{store:_}))})}},{key:"render",value:function(){return null}}]),t}(d.Component);P=M([(0,h.inject)("routing"),h.observer],P),t.default=P},,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,n){for(var r={},o=0;o<e.length;o++){var a=e[o];switch(a){case"MUTATION_EXTENDED":r.MUT=!0,r.FUSION=!0;break;case"COPY_NUMBER_ALTERATION":r.AMP=!0,r.HOMDEL=!0;break;case"MRNA_EXPRESSION":r["EXP>="+t]=!0,r["EXP<=-"+t]=!0;break;case"PROTEIN_LEVEL":r["PROT>="+n]=!0,r["PROT<=-"+n]=!0}}return Object.keys(r).join(" ")}function l(e,t){return j.mapValues(e,function(e,n){var r={mutated:0,amp:0,homdel:0,hetloss:0,gain:0,fusion:0,mrnaExpressionUp:0,mrnaExpressionDown:0,protExpressionUp:0,protExpressionDown:0,multiple:0},o={sampleTotal:e.length,alterationTotal:0,alterationTypeCounts:r,alteredSampleCount:0,parentCancerType:e[0].cancerType};return j.forIn(e,function(e){if(e.uniqueSampleKey in t){var n=t[e.uniqueSampleKey],a=j.uniqBy(n,function(e){return e.alterationType});o.alterationTotal+=a.length,a.length>0&&(o.alteredSampleCount+=1),a.length>1?r.multiple++:j.forEach(a,function(e){switch(e.alterationType){case V.COPY_NUMBER_ALTERATION:r[e.alterationSubType]++;break;case V.MRNA_EXPRESSION:"up"===e.alterationSubType&&r.mrnaExpressionUp++,"down"===e.alterationSubType&&r.mrnaExpressionDown++;break;case V.PROTEIN_LEVEL:"up"===e.alterationSubType&&r.protExpressionUp++,"down"===e.alterationSubType&&r.protExpressionDown++;break;case V.MUTATION_EXTENDED:r.mutated++;break;case V.FUSION:r.fusion++}})}}),o})}Object.defineProperty(t,"__esModule",{value:!0}),t.ResultsViewPageStore=t.AlterationTypeConstants=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.buildDefaultOQLProfile=s,t.countAlterationOccurences=l;var p=n(417),f=o(p),d=n(406),h=n(428),m=n(429),y=n(631),g=o(y),v=n(640),b=o(v),w=n(643),C=o(w),T=n(645),S=o(T),x=n(630),A=o(x),k=n(636),E=o(k),M=n(788),_=o(M),P=n(646),O=n(791),I=n(434),R=o(I),L=n(408),j=r(L),D=n(445),N=n(724),G=n(796),F=o(G),q=n(797),B=o(q),z=n(798),H=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},U=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},V=t.AlterationTypeConstants={MUTATION_EXTENDED:"MUTATION_EXTENDED",COPY_NUMBER_ALTERATION:"COPY_NUMBER_ALTERATION",MRNA_EXPRESSION:"MRNA_EXPRESSION",PROTEIN_LEVEL:"PROTEIN_LEVEL",FUSION:"FUSION"},K=t.ResultsViewPageStore=function(){function e(){var t=this;i(this,e),this.urlValidationError=null,this.ajaxErrors=[],this.hugoGeneSymbols=null,this.samplesSpecification=[],this.oqlQuery="",this.selectedMolecularProfileIds=[],this.selectedMolecularProfiles=(0,h.remoteData)(function(){return Promise.all(t.selectedMolecularProfileIds.map(function(e){return f.default.getMolecularProfileUsingGET({molecularProfileId:e})}))}),this.allMutations=(0,h.remoteData)({await:function(){return j.flatMap(t.mutationMapperStores,function(e){return e.mutationData})},invoke:function(){return U(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j.mapValues(this.mutationMapperStores,function(e){return e.mutationData.result}));case 1:case"end":return e.stop()}},e,this)}))}}),this.molecularData=(0,h.remoteData)({await:function(){return[t.studyToDataQueryFilter,t.genes,t.selectedMolecularProfiles]},invoke:function(){return U(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=j.filter(this.selectedMolecularProfiles.result,function(e){return"MUTATION_EXTENDED"!==e.molecularAlterationType}),!t){e.next=6;break}return n=t.map(function(e){var t=Object.assign({},{entrezGeneIds:r.genes.result.map(function(e){return e.entrezGeneId})},r.studyToDataQueryFilter.result[e.studyId]);return f.default.fetchAllMolecularDataInMolecularProfileUsingPOST({molecularProfileId:e.molecularProfileId,molecularDataFilter:t,projection:"DETAILED"})}),e.abrupt("return",Promise.all(n).then(function(e){return j.concat.apply(j,[[]].concat(a(e)))}));case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}},e,this)}))}}),this.filteredAlterations=(0,h.remoteData)({await:function(){return[t.genes,t.selectedMolecularProfiles,t.mutationMapperStores,t.molecularData,t.defaultOQLQuery,t.geneToMutData]},invoke:function(){return U(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.groupBy(this.molecularData.result,function(e){return e.gene.hugoGeneSymbol}),n=j.keyBy(this.genes.result,function(e){return e.hugoGeneSymbol}),r=j.mapValues(n,function(e){return j.concat([],a.geneToMutData.result[e.hugoGeneSymbol],t[e.hugoGeneSymbol])}),o=j.mapValues(r,function(e){return(0,z.filterCBioPortalWebServiceData)(a.oqlQuery,e,new B.default(a.selectedMolecularProfiles.result),a.defaultOQLQuery.result,void 0,!0)}),e.abrupt("return",o);case 5:case"end":return e.stop()}},e,this)}))}}),this.defaultOQLQuery=(0,h.remoteData)({await:function(){return[t.selectedMolecularProfiles]},invoke:function(){var e=j.map(t.selectedMolecularProfiles.result,function(e){return e.molecularAlterationType});return Promise.resolve(s(e,t.zScoreThreshold,t.rppaScoreThreshold))}}),this.samplesByDetailedCancerType=(0,h.remoteData)({await:function(){return[t.samples,t.clinicalDataForSamples]},invoke:function(){var e=t.groupSamplesByCancerType(t.clinicalDataForSamples.result,t.samples.result,"CANCER_TYPE");return 1===j.size(e)&&(e=t.groupSamplesByCancerType(t.clinicalDataForSamples.result,t.samples.result,"CANCER_TYPE_DETAILED")),Promise.resolve(e)}}),this.samplesExtendedWithClinicalData=(0,h.remoteData)({await:function(){return[t.samples,t.clinicalDataForSamples]},invoke:function(){var e=j.groupBy(t.clinicalDataForSamples.result,function(e){return e.uniqueSampleKey}),n=t.samples.result.map(function(t){var n=e[t.uniqueSampleKey];return n&&n.forEach(function(e){switch(e.clinicalAttributeId){case"CANCER_TYPE_DETAILED":t.cancerTypeDetailed=e.value;break;case"CANCER_TYPE":t.cancerType=e.value}}),t});return n.forEach(function(e){e.cancerType&&!e.cancerTypeDetailed&&(e.cancerTypeDetailed=e.cancerType),!e.cancerType}),Promise.resolve(n)}}),this.alterationsBySampleIdByGene=(0,h.remoteData)({await:function(){return[t.filteredAlterations,t.samples]},invoke:function(){return U(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j.mapValues(this.filteredAlterations.result,function(e){return j.groupBy(e,function(e){return e.uniqueSampleKey})}));case 1:case"end":return e.stop()}},e,this)}))}}),this.filteredAlterationsAsSampleIdArrays=(0,h.remoteData)({await:function(){return[t.filteredAlterations]},invoke:function(){return U(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j.mapValues(this.filteredAlterations.result,function(e){return j.map(e,"sampleId")}));case 1:case"end":return e.stop()}},e,this)}))}}),this.isSampleAlteredMap=(0,h.remoteData)({await:function(){return[t.filteredAlterationsAsSampleIdArrays,t.samples]},invoke:function(){return U(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j.mapValues(this.filteredAlterationsAsSampleIdArrays.result,function(e){return t.samples.result.map(function(t){return j.includes(e,t.sampleId)})}));case 1:case"end":return e.stop()}},e,this)}))}}),this.studyToSampleIds=(0,h.remoteData)(function(){return U(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o,a,i,s,l,c,u,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],n={},r=!0,o=!1,a=void 0,e.prev=5,i=this.samplesSpecification[Symbol.iterator]();!(r=(s=i.next()).done);r=!0)l=s.value,l.sampleId?(n[l.studyId]=n[l.studyId]||{},n[l.studyId][l.sampleId]=!0):l.sampleListId&&t.push(l);e.next=13;break;case 9:e.prev=9,e.t0=e.catch(5),o=!0,a=e.t0;case 13:e.prev=13,e.prev=14,!r&&i.return&&i.return();case 16:if(e.prev=16,!o){e.next=19;break}throw a;case 19:return e.finish(16);case 20:return e.finish(13);case 21:return e.next=23,Promise.all(t.map(function(e){return f.default.getAllSampleIdsInSampleListUsingGET({sampleListId:e.sampleListId})}));case 23:for(c=e.sent,u=function(e){n[t[e].studyId]=n[t[e].studyId]||{};var r=n[t[e].studyId];c[e].map(function(e){r[e]=!0})},p=0;p<c.length;p++)u(p);return e.abrupt("return",n);case 27:case"end":return e.stop()}},e,this,[[5,9,13,21],[14,,16,20]])}))},{}),this.studyToMutationMolecularProfile=(0,h.remoteData)({await:function(){return[t.molecularProfilesInStudies]},invoke:function(){var e={},n=!0,r=!1,o=void 0;try{for(var a,i=t.molecularProfilesInStudies.result[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value,l=s.studyId;!e[l]&&(0,P.isMutationProfile)(s)&&(e[l]=s)}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return Promise.resolve(e)}},{}),this.mutationMapperStores=(0,h.remoteData)({await:function(){return[t.genes,t.oncoKbAnnotatedGenes]},invoke:function(){return t.genes.result?Promise.resolve(j.reduce(t.genes.result,function(e,n){return e[n.hugoGeneSymbol]=new O.MutationMapperStore(R.default,n,t.samples,t.oncoKbAnnotatedGenes.result,function(){return t.mutationDataCache},t.molecularProfileIdToMolecularProfile,t.clinicalDataForSamples,t.studiesForSamplesWithoutCancerTypeClinicalData,t.samplesWithoutCancerTypeClinicalData,t.germlineConsentedSamples),e},{})):Promise.resolve({})}},{}),this.oncoKbAnnotatedGenes=(0,h.remoteData)({invoke:function(){return(0,P.fetchOncoKbAnnotatedGenes)()}},{}),this.clinicalDataForSamples=(0,h.remoteData)({await:function(){return[t.studies,t.samples]},invoke:function(){var e=["CANCER_TYPE","CANCER_TYPE_DETAILED"];if(1===t.studies.result.length){var n=t.studies.result[0],r={attributeIds:e,ids:t.samples.result.map(function(e){return e.sampleId})};return f.default.fetchAllClinicalDataInStudyUsingPOST({studyId:n.studyId,clinicalDataSingleStudyFilter:r,clinicalDataType:"SAMPLE"})}var o={attributeIds:e,identifiers:t.samples.result.map(function(e){return{entityId:e.sampleId,studyId:e.studyId}})};return f.default.fetchClinicalDataUsingPOST({clinicalDataType:"SAMPLE",clinicalDataMultiStudyFilter:o})}},[]),this.germlineConsentedSamples=(0,h.remoteData)({invoke:function(){return U(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.studyIds,e.next=3,Promise.all(t.map(function(e){return f.default.getAllSampleIdsInSampleListUsingGET({sampleListId:r.getGermlineSampleListId(e)})}));case 3:return n=e.sent,e.abrupt("return",j.flatten(n.map(function(e,n){var r=t[n];return e.map(function(e){return{sampleId:e,studyId:r}})})));case 5:case"end":return e.stop()}},e,this)}))},onError:function(){}},[]),this.samples=(0,h.remoteData)({await:function(){return[t.studyToSampleIds]},invoke:function(){var e=[];return j.each(t.studyToSampleIds.result,function(t,n){e=e.concat(Object.keys(t).map(function(e){return{sampleId:e,studyId:n}}))}),f.default.fetchSamplesUsingPOST({sampleIdentifiers:e})}},[]),this.samplesWithoutCancerTypeClinicalData=(0,h.remoteData)({await:function(){return[t.samples,t.clinicalDataForSamples]},invoke:function(){var e={},n=!0,r=!1,o=void 0;try{for(var a,i=t.clinicalDataForSamples.result[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;e[(0,N.toSampleUuid)(s.studyId,s.sampleId)]=!0}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return Promise.resolve(t.samples.result.filter(function(t){return!e[(0,N.toSampleUuid)(t.studyId,t.sampleId)]}))}},[]),this.studiesForSamplesWithoutCancerTypeClinicalData=(0,h.remoteData)({await:function(){return[t.samplesWithoutCancerTypeClinicalData]},invoke:function(){return U(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,P.fetchStudiesForSamplesWithoutCancerTypeClinicalData)(this.samplesWithoutCancerTypeClinicalData));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.studies=(0,h.remoteData)({invoke:function(){return Promise.all(t.studyIds.map(function(e){return f.default.getStudyUsingGET({studyId:e})}))}},[]),this.molecularProfilesInStudies=(0,h.remoteData)({invoke:function(){return U(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=j,e.next=3,Promise.all(this.studyIds.map(function(e){return f.default.getAllMolecularProfilesInStudyUsingGET({studyId:e})}));case 3:return e.t1=e.sent,e.abrupt("return",e.t0.flatten.call(e.t0,e.t1));case 5:case"end":return e.stop()}},e,this)}))}},[]),this.molecularProfileIdToMolecularProfile=(0,h.remoteData)({await:function(){return[t.molecularProfilesInStudies]},invoke:function(){return Promise.resolve(t.molecularProfilesInStudies.result.reduce(function(e,t){return e[t.molecularProfileId]=t,e},{}))}},{}),this.studyToMolecularProfileDiscrete=(0,h.remoteData)({await:function(){return[t.molecularProfilesInStudies]},invoke:function(){return U(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t={},n=!0,r=!1,o=void 0,e.prev=4,a=this.molecularProfilesInStudies.result[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)s=i.value,"DISCRETE"===s.datatype&&(t[s.studyId]=s);e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),r=!0,o=e.t0;case 12:e.prev=12,e.prev=13,!n&&a.return&&a.return();case 15:if(e.prev=15,!r){e.next=18;break}throw o;case 18:return e.finish(15);case 19:return e.finish(12);case 20:return e.abrupt("return",t);case 21:case"end":return e.stop()}},e,this,[[4,8,12,20],[13,,15,19]])}))}},{}),this.discreteCNAData=(0,h.remoteData)({await:function(){return[t.studyToMolecularProfileDiscrete,t.studyToDataQueryFilter]},invoke:function(){return U(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.studyIds,e.next=3,Promise.all(t.map(function(e){var t=r.studyToDataQueryFilter.result[e],n=r.studyToMolecularProfileDiscrete.result[e];return t&&n?f.default.fetchDiscreteCopyNumbersInMolecularProfileUsingPOST({projection:"DETAILED",discreteCopyNumberFilter:t,molecularProfileId:n.molecularProfileId}):Promise.resolve([])}));case 3:return n=e.sent,e.abrupt("return",j.flatten(n));case 5:case"end":return e.stop()}},e,this)}))},onResult:function(e){t.discreteCNACache.addData(e)}},[]),this.studyToDataQueryFilter=(0,h.remoteData)({await:function(){return[t.studyToSampleIds]},invoke:function(){var e=t.studyIds,n={},r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var l=i.value;n[l]=(0,P.generateDataQueryFilter)(t.studyToSampleListId[l]||null,Object.keys(t.studyToSampleIds.result[l]||{}))}}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return Promise.resolve(n)}},{}),this.genes=(0,h.remoteData)(function(){return U(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hugoGeneSymbols||!this.hugoGeneSymbols.length){e.next=10;break}return t=(0,D.stringListToIndexSet)(this.hugoGeneSymbols),e.t0=j,e.next=5,f.default.fetchGenesUsingPOST({geneIdType:"HUGO_GENE_SYMBOL",geneIds:this.hugoGeneSymbols.slice(),projection:"SUMMARY"});case 5:return e.t1=e.sent,e.t2=function(e){return t[e.hugoGeneSymbol]},e.abrupt("return",e.t0.sortBy.call(e.t0,e.t1,e.t2));case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}},e,this)}))}),this.geneToMutData=(0,h.remoteData)({await:function(){return[t.selectedMolecularProfiles,t.genes,t.studyToDataQueryFilter]},invoke:function(){return U(t,void 0,void 0,regeneratorRuntime.mark(function e(){
var t,n,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=j.find(this.selectedMolecularProfiles.result,function(e){return e.molecularAlterationType===V.MUTATION_EXTENDED}),!t){e.next=6;break}return n=Object.assign({},{entrezGeneIds:this.genes.result.map(function(e){return e.entrezGeneId})},this.studyToDataQueryFilter.result[t.studyId]),e.abrupt("return",f.default.fetchMutationsInMolecularProfileUsingPOST({molecularProfileId:t.molecularProfileId,mutationFilter:n,projection:"DETAILED"}).then(function(e){var t=j.groupBy(e,function(e){return e.gene.hugoGeneSymbol});return j.reduce(r.genes.result,function(e,n){return e[n.hugoGeneSymbol]=t[n.hugoGeneSymbol]||[],e},{})}));case 6:return e.abrupt("return",{});case 7:case"end":return e.stop()}},e,this)}))}}),(0,m.labelMobxPromises)(this)}return c(e,[{key:"groupSamplesByCancerType",value:function(e,t,n){var r=j.reduce(e,function(e,t){return t.clinicalAttributeId===n&&(e[t.uniqueSampleKey]=t.value),"CANCER_TYPE"===n&&(e[t.uniqueSampleKey]||"CANCER_TYPE_DETAILED"!==t.clinicalAttributeId||(e[t.uniqueSampleKey]=t.value)),e},{}),o=j.reduce(t,function(e,t){return t.uniqueSampleKey in r&&(e[r[t.uniqueSampleKey]]=e[r[t.uniqueSampleKey]]||[],e[r[t.uniqueSampleKey]].push(t)),e},{});return o}},{key:"getAlterationCountsForCancerTypesByGene",value:function(e,t,n){var r=j.mapValues(e,function(e,r){var o=j.groupBy(t,function(e){return n?e.cancerTypeDetailed:e.cancerType});return l(o,e)});return r}},{key:"getAlterationCountsForCancerTypesForAllGenes",value:function(e,t,n){function r(e,t){if(j.isArray(e))return e.concat(t)}var o=j.groupBy(t,function(e){return n?e.cancerTypeDetailed:e.cancerType}),i=j.flatMap(e,function(e){return e}),s=j.mergeWith.apply(j,[{}].concat(a(i),[r]));return l(o,s)}},{key:"getMutationMapperStore",value:function(e){return this.mutationMapperStores.result[e]}},{key:"getGermlineSampleListId",value:function(e){return e+"_germline"}},{key:"clearErrors",value:function(){this.ajaxErrors=[]}},{key:"studyToSampleListId",get:function(){return this.samplesSpecification.reduce(function(e,t){return t.sampleListId&&(e[t.studyId]=t.sampleListId),e},{})}},{key:"studyIds",get:function(){return Object.keys(this.studyToSampleIds.result)}},{key:"myCancerGenomeData",get:function(){return(0,P.fetchMyCancerGenomeData)()}},{key:"oncoKbEvidenceCache",get:function(){return new g.default}},{key:"pubMedCache",get:function(){return new b.default}},{key:"discreteCNACache",get:function(){return new A.default(this.studyToMolecularProfileDiscrete.result)}},{key:"genomeNexusEnrichmentCache",get:function(){return new E.default}},{key:"cancerTypeCache",get:function(){return new C.default}},{key:"mutationCountCache",get:function(){return new S.default}},{key:"pdbHeaderCache",get:function(){return new _.default}},{key:"mutationDataCache",get:function(){return new F.default(this.studyToMutationMolecularProfile.result,this.studyToDataQueryFilter.result)}}]),e}();H([d.observable],K.prototype,"urlValidationError",void 0),H([d.observable],K.prototype,"ajaxErrors",void 0),H([d.observable],K.prototype,"hugoGeneSymbols",void 0),H([d.observable],K.prototype,"samplesSpecification",void 0),H([d.observable],K.prototype,"zScoreThreshold",void 0),H([d.observable],K.prototype,"rppaScoreThreshold",void 0),H([d.observable],K.prototype,"oqlQuery",void 0),H([d.observable],K.prototype,"selectedMolecularProfileIds",void 0),H([d.computed],K.prototype,"studyToSampleListId",null),H([d.computed],K.prototype,"studyIds",null),H([d.computed],K.prototype,"myCancerGenomeData",null),H([m.cached],K.prototype,"oncoKbEvidenceCache",null),H([m.cached],K.prototype,"pubMedCache",null),H([m.cached],K.prototype,"discreteCNACache",null),H([m.cached],K.prototype,"genomeNexusEnrichmentCache",null),H([m.cached],K.prototype,"cancerTypeCache",null),H([m.cached],K.prototype,"mutationCountCache",null),H([m.cached],K.prototype,"pdbHeaderCache",null),H([m.cached],K.prototype,"mutationDataCache",null),H([d.action],K.prototype,"clearErrors",null)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return 0===e.length?Promise.reject("No pdb ids given"):c.default.postPdbHeader({pdbIds:e})}Object.defineProperty(t,"__esModule",{value:!0});var l=n(789),c=r(l),u=n(627),p=r(u),f=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,function(e){return e},function(e){return e.pdbId},s))}return i(t,e),t}(p.default);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(790),a=r(o),i=n(426),s=new a.default((0,i.getPdbAnnotationApiUrl)());t.default=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(419),l=r(s),c=function(){function e(t){o(this,e),this.domain="",this.errorHandlers=[],t&&(this.domain=t)}return i(e,[{key:"getDomain",value:function(){return this.domain}},{key:"addErrorHandler",value:function(e){this.errorHandlers.push(e)}},{key:"request",value:function(e,t,n,r,o,i,s,c,u){var p=new l.Request(e,t).query(o);Object.keys(r).forEach(function(e){p.set(e,r[e])}),n&&p.send(n),"object"===("undefined"==typeof n?"undefined":a(n))&&"Buffer"!==n.constructor.name&&p.set("Content-Type","application/json"),Object.keys(i).length>0&&(p.type("form"),p.send(i)),p.end(function(e,t){e||!t.ok?(s(e),u.forEach(function(t){return t(e)})):c(t)})}},{key:"postPdbAlignmentByPdbURL",value:function(e){var t={},n="/pdb_annotation/alignment/byPdb";void 0!==e.pdbIds&&(t.pdbIds=e.pdbIds),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"postPdbAlignmentByPdb",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/pdb_annotation/alignment/byPdb",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.pdbIds&&(i.pdbIds=e.pdbIds),void 0===e.pdbIds?void u(new Error("Missing required  parameter: pdbIds")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"getPdbAlignmentByPdbURL",value:function(e){var t={},n="/pdb_annotation/alignment/byPdb/{pdbIds}";n=n.replace("{pdbIds}",e.pdbIds+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"getPdbAlignmentByPdb",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/pdb_annotation/alignment/byPdb/{pdbIds}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{pdbIds}",e.pdbIds+""),void 0===e.pdbIds?void u(new Error("Missing required  parameter: pdbIds")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"postPdbAlignmentByUniprotURL",value:function(e){var t={},n="/pdb_annotation/alignment/byUniprot";void 0!==e.uniprotIds&&(t.uniprotIds=e.uniprotIds),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"postPdbAlignmentByUniprot",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/pdb_annotation/alignment/byUniprot",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.uniprotIds&&(i.uniprotIds=e.uniprotIds),void 0===e.uniprotIds?void u(new Error("Missing required  parameter: uniprotIds")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"getPdbAlignmentByUniprotURL",value:function(e){var t={},n="/pdb_annotation/alignment/byUniprot/{uniprotIds}";n=n.replace("{uniprotIds}",e.uniprotIds+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"getPdbAlignmentByUniprot",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/pdb_annotation/alignment/byUniprot/{uniprotIds}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{uniprotIds}",e.uniprotIds+""),void 0===e.uniprotIds?void u(new Error("Missing required  parameter: uniprotIds")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"postPdbHeaderURL",value:function(e){var t={},n="/pdb_annotation/header";void 0!==e.pdbIds&&(t.pdbIds=e.pdbIds),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"postPdbHeader",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/pdb_annotation/header",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.pdbIds&&(i.pdbIds=e.pdbIds),void 0===e.pdbIds?void u(new Error("Missing required  parameter: pdbIds")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"getPdbHeaderURL",value:function(e){var t={},n="/pdb_annotation/header/{pdbIds}";n=n.replace("{pdbIds}",e.pdbIds+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"getPdbHeader",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/pdb_annotation/header/{pdbIds}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{pdbIds}",e.pdbIds+""),void 0===e.pdbIds?void u(new Error("Missing required  parameter: pdbIds")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"postPositionMapURL",value:function(e){var t={},n="/pdb_annotation/map";void 0!==e.positions&&(t.positions=e.positions),void 0!==e.alignments&&(t.alignments=e.alignments),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"postPositionMap",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/pdb_annotation/map",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.positions&&(i.positions=e.positions),void 0===e.positions?void u(new Error("Missing required  parameter: positions")):(void 0!==e.alignments&&(i.alignments=e.alignments),void 0===e.alignments?void u(new Error("Missing required  parameter: alignments")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n)))}).then(function(e){return e.body})}},{key:"getPositionMapURL",value:function(e){var t={},n="/pdb_annotation/map/{positions}/{alignments}";n=n.replace("{positions}",e.positions+""),n=n.replace("{alignments}",e.alignments+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"getPositionMap",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/pdb_annotation/map/{positions}/{alignments}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{positions}",e.positions+""),void 0===e.positions?void u(new Error("Missing required  parameter: positions")):(o=o.replace("{alignments}",e.alignments+""),void 0===e.alignments?void u(new Error("Missing required  parameter: alignments")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n)))}).then(function(e){return e.body})}},{key:"postAlignmentSummaryURL",value:function(e){var t={},n="/pdb_annotation/summary";void 0!==e.uniprotIds&&(t.uniprotIds=e.uniprotIds),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"postAlignmentSummary",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/pdb_annotation/summary",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",void 0!==e.uniprotIds&&(i.uniprotIds=e.uniprotIds),void 0===e.uniprotIds?void u(new Error("Missing required  parameter: uniprotIds")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("POST",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}},{key:"getAlignmentSummaryURL",value:function(e){var t={},n="/pdb_annotation/summary/{uniprotIds}";n=n.replace("{uniprotIds}",e.uniprotIds+""),e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(n){var r=e.$queryParameters[n];t[n]=r});var r=Object.keys(t);return this.domain+n+(r.length>0?"?"+r.map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):"")}},{key:"getAlignmentSummary",value:function(e){var t=e.$domain?e.$domain:this.domain,n=this.errorHandlers,r=this.request,o="/pdb_annotation/summary/{uniprotIds}",a=void 0,i={},s={},l={};return new Promise(function(c,u){return s.Accept="application/json",s["Content-Type"]="application/json",o=o.replace("{uniprotIds}",e.uniprotIds+""),void 0===e.uniprotIds?void u(new Error("Missing required  parameter: uniprotIds")):(e.$queryParameters&&Object.keys(e.$queryParameters).forEach(function(t){var n=e.$queryParameters[t];i[t]=n}),void r("GET",t+o,a,s,i,l,u,c,n))}).then(function(e){return e.body})}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.MutationMapperStore=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=n(408),u=o(c),p=n(406),f=n(428),d=n(429),h=n(792),m=r(h),y=n(793),g=r(y),v=n(658),b=n(594),w=n(646),C=n(794),T=r(C),S=n(795),x=r(S),A=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},k=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},E=t.MutationMapperStore=function(){function e(t,n,r,o,a,s,l,c,p,h){var m=this;i(this,e),this.config=t,this.gene=n,this.samples=r,this.oncoKbAnnotatedGenes=o,this.getMutationDataCache=a,this.molecularProfileIdToMolecularProfile=s,this.clinicalDataForSamples=l,this.studiesForSamplesWithoutCancerTypeClinicalData=c,this.samplesWithoutCancerTypeClinicalData=p,this.germlineConsentedSamples=h,this.cosmicData=(0,f.remoteData)({await:function(){return[m.mutationData]},invoke:function(){return(0,w.fetchCosmicData)(m.mutationData)}}),this.hotspotData=(0,f.remoteData)({await:function(){return[m.mutationData]},invoke:function(){return k(m,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,w.fetchHotspotsData)(this.mutationData));case 1:case"end":return e.stop()}},e,this)}))},onError:function(){}}),this.mutationData=(0,f.remoteData)({invoke:function(){console.log("getting mutation data",m.gene.entrezGeneId);var e=m.getMutationDataCache().get({entrezGeneId:m.gene.entrezGeneId});return Promise.resolve(e&&e.data||[])}},[]),this.alignmentData=(0,f.remoteData)({await:function(){return[m.uniprotId]},invoke:function(){return k(m,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.uniprotId.result){e.next=4;break}return e.abrupt("return",(0,w.fetchPdbAlignmentData)(this.uniprotId.result));case 4:return e.abrupt("return",[]);case 5:case"end":return e.stop()}},e,this)}))},onError:function(e){}},[]),this.swissProtId=(0,f.remoteData)({invoke:function(){return k(m,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.gene.entrezGeneId<1)){e.next=2;break}return e.abrupt("return","");case 2:return e.next=4,(0,w.fetchSwissProtAccession)(this.gene.entrezGeneId);case 4:if(t=e.sent,!u.isArray(t)){e.next=9;break}return e.abrupt("return",t[0]);case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}},e,this)}))},onError:function(e){}},""),this.uniprotId=(0,f.remoteData)({await:function(){return[m.swissProtId]},invoke:function(){return k(m,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.swissProtId.result){e.next=4;break}return e.abrupt("return",(0,w.fetchUniprotId)(this.swissProtId.result));case 4:return e.abrupt("return","");case 5:case"end":return e.stop()}},e,this)}))},onError:function(e){}},""),this.oncoKbData=(0,f.remoteData)({await:function(){return[m.mutationData,m.clinicalDataForSamples,m.studiesForSamplesWithoutCancerTypeClinicalData]},invoke:function(){return k(m,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,w.fetchOncoKbData)(this.sampleIdToTumorType,this.oncoKbAnnotatedGenes,this.mutationData));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){}},w.ONCOKB_DEFAULT),this.pfamGeneData=(0,f.remoteData)({await:function(){return[m.swissProtId]},invoke:function(){return k(m,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.swissProtId.result){e.next=4;break}return e.abrupt("return",(0,w.fetchPfamGeneData)(this.swissProtId.result));case 4:return e.abrupt("return",{});case 5:case"end":return e.stop()}},e,this)}))}},{}),this.civicGenes=(0,f.remoteData)({await:function(){return[m.mutationData,m.clinicalDataForSamples]},invoke:function(){return k(m,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.config.showCivic?(0,w.fetchCivicGenes)(this.mutationData):{});case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){}},void 0),this.civicVariants=(0,f.remoteData)({await:function(){return[m.civicGenes,m.mutationData]},invoke:function(){return k(m,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.config.showCivic||!this.civicGenes.result){e.next=4;break}return e.abrupt("return",(0,w.fetchCivicVariants)(this.civicGenes.result,this.mutationData));case 4:return e.abrupt("return",{});case 5:case"end":return e.stop()}},e,this)}))},onError:function(e){}},void 0),(0,d.labelMobxPromises)(this)}return s(e,[{key:"processedMutationData",get:function(){return(this.mutationData.result||[]).map(function(e){return[e]})}},{key:"mergedAlignmentData",get:function(){return(0,v.mergeIndexedPdbAlignments)(this.indexedAlignmentData)}},{key:"indexedAlignmentData",get:function(){return(0,w.indexPdbAlignmentData)(this.alignmentData)}},{key:"sortedMergedAlignmentData",get:function(){var e=function(e){return[e.identity,e.alignment.length,e.identityPerc].concat(a((0,v.calcPdbIdNumericalValue)(e.pdbId,!0)),[-1*e.chain.charCodeAt(0)])};return(0,b.lazyMobXTableSort)(this.mergedAlignmentData,e,!1)}},{key:"indexedHotspotData",get:function(){return(0,w.indexHotspotData)(this.hotspotData)}},{key:"sampleIdToTumorType",get:function(){return(0,w.generateSampleIdToTumorTypeMap)(this.clinicalDataForSamples,this.studiesForSamplesWithoutCancerTypeClinicalData,this.samplesWithoutCancerTypeClinicalData)}},{key:"dataStore",get:function(){return new T.default(this.processedMutationData)}},{key:"pdbChainDataStore",get:function(){return new x.default(this.sortedMergedAlignmentData)}},{key:"pdbPositionMappingCache",get:function(){return new m.default}},{key:"residueMappingCache",get:function(){return new g.default}}]),e}();A([p.computed],E.prototype,"processedMutationData",null),A([p.computed],E.prototype,"mergedAlignmentData",null),A([p.computed],E.prototype,"indexedAlignmentData",null),A([p.computed],E.prototype,"sortedMergedAlignmentData",null),A([p.computed],E.prototype,"indexedHotspotData",null),A([p.computed],E.prototype,"sampleIdToTumorType",null),A([d.cached],E.prototype,"dataStore",null),A([d.cached],E.prototype,"pdbChainDataStore",null),A([d.cached],E.prototype,"pdbPositionMappingCache",null),A([d.cached],E.prototype,"residueMappingCache",null)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.default;return y(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e.length>0&&t.length>0)){r.next=6;break}return r.next=3,n.postPositionMap({positions:e,alignments:t});case 3:return r.abrupt("return",r.sent);case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}},r,this)}))}function c(e){return y(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=p.uniq(e.map(function(e){return e.alignmentId})),r=p.uniq(e.map(function(e){return e.uniprotPosition})),t.t0=p,t.t1=p,t.next=6,l(r,n);case 6:return t.t2=t.sent,t.t3=t.t1.values.call(t.t1,t.t2),t.abrupt("return",t.t0.flatten.call(t.t0,t.t3));case 9:case"end":return t.stop()}},t,this)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchPdbPositionMappingData=l;var u=n(408),p=o(u),f=n(789),d=r(f),h=n(627),m=r(h),y=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},g=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,function(e){return e.alignmentId+","+e.uniprotPosition},function(e){return e.alignmentId+","+e.uniprotPosition},c))}return s(t,e),t}(m.default);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:l.default;return u(this,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(e.length>0)){a.next=6;break}return a.next=3,o.postResidueMappingByPDBUsingPOST({idType:"uniprot",id:t,pdbId:n,chainId:r,positionList:e.map(function(e){return""+e})});case 3:return a.abrupt("return",a.sent);case 6:return a.abrupt("return",[]);case 7:case"end":return a.stop()}},a,this)}))}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.fetchAlignments=a;var s=n(650),l=r(s),c=n(428),u=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},p=function(){function e(){o(this,e),this.queries={}}return i(e,[{key:"get",value:function(e){var t=this,n=this.generateQueryKey(e);return this.queries[n]||(this.queries[n]=(0,c.remoteData)({invoke:function(){return u(t,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],r=[],t.next=4,a(e.uniprotPositions,e.uniprotId,e.pdbId,e.chainId);case 4:return o=t.sent,o.length>0&&(o.forEach(function(e){r=r.concat(e.residueMapping)}),n=r.map(function(e){return{status:"complete",data:e}})),t.abrupt("return",n);case 7:case"end":return t.stop()}},t,this)}))},onError:function(e){}},this.defaultData(e))),this.queries[n]}},{key:"generateQueryKey",value:function(e){return e.uniprotId+"_"+e.pdbId+"_"+e.chainId+"_"+e.uniprotPositions.join(",")}},{key:"defaultData",value:function(e){return[null]}}]),e}();t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in o)return o.value;var i=o.get;if(void 0!==i)return i.call(r)},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=n(408),f=o(p),d=n(614),h=n(406),m=n(628),y=r(m),g=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},v=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.selectedPositions=y.default.from({}),n.highlightedPositions=y.default.from({}),n.dataSelector=function(e){return!!n.selectedPositions[e[0].proteinPosStart+""]},n.dataHighlighter=function(e){return!!n.highlightedPositions[e[0].proteinPosStart+""]},n}return s(t,e),l(t,[{key:"setPositionSelected",value:function(e,t){var n={};n[e+""]=t,this.selectedPositions=this.selectedPositions.merge(n)}},{key:"setPositionHighlighted",value:function(e,t){var n={};n[e+""]=t,this.highlightedPositions=this.highlightedPositions.merge(n)}},{key:"clearSelectedPositions",
value:function(){f.isEmpty(this.selectedPositions)||(this.selectedPositions=y.default.from({}))}},{key:"clearHighlightedPositions",value:function(){f.isEmpty(this.highlightedPositions)||(this.highlightedPositions=y.default.from({}))}},{key:"isPositionSelected",value:function(e){return!!this.selectedPositions[e+""]}},{key:"isPositionHighlighted",value:function(e){return!!this.highlightedPositions[e+""]}},{key:"resetFilterAndSelection",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"resetFilter",this).call(this),this.clearSelectedPositions()}}]),t}(d.SimpleMobXApplicationDataStore);t.default=v,g([h.observable.ref],v.prototype,"selectedPositions",void 0),g([h.observable.ref],v.prototype,"highlightedPositions",void 0),g([h.action],v.prototype,"setPositionSelected",null),g([h.action],v.prototype,"setPositionHighlighted",null),g([h.action],v.prototype,"clearSelectedPositions",null),g([h.action],v.prototype,"clearHighlightedPositions",null),g([h.action],v.prototype,"resetFilterAndSelection",null)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=n(614),c=n(406),u=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},p=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.selectedUid="",n.dataSelector=function(e){return n.getChainUid(e)===n.selectedUid},n.dataHighlighter=n.dataSelector,n}return a(t,e),i(t,[{key:"getChainUid",value:function(e){return e.pdbId+e.chain}},{key:"selectUid",value:function(e){this.selectedUid=e||""}},{key:"selectFirstChain",value:function(){this.allData.length>0?this.selectedUid=this.getChainUid(this.allData[0]):this.selectedUid=""}},{key:"getPdbChain",value:function(e){var t=this;return this.allData.find(function(n){return t.getChainUid(n)===e})}},{key:"selectedChain",get:function(){return this.getPdbChain(this.selectedUid)}},{key:"tableData",get:function(){return this.sortedFilteredData}}]),t}(l.SimpleMobXApplicationDataStore);t.default=p,u([c.observable],p.prototype,"selectedUid",void 0),u([c.action],p.prototype,"selectUid",null),u([c.computed],p.prototype,"selectedChain",null),u([c.action],p.prototype,"selectFirstChain",null),u([c.computed],p.prototype,"tableData",null)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return""+e[0].entrezGeneId}function l(e){return""+e.entrezGeneId}function c(e,t,n){return y(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=Object.keys(t),r.next=3,Promise.all(o.map(function(r){var o=n[r],a=t[r],i=e.map(function(e){return e.entrezGeneId});return o&&a&&i.length>0?p.default.fetchMutationsInMolecularProfileUsingPOST({molecularProfileId:a.molecularProfileId,mutationFilter:Object.assign({},o,{entrezGeneIds:i}),projection:"DETAILED"}):Promise.resolve([])}));case 3:return a=r.sent,r.abrupt("return",m.default.values(m.default.groupBy(m.default.flatten(a),"entrezGeneId")));case 5:case"end":return r.stop()}},r,this)}))}Object.defineProperty(t,"__esModule",{value:!0});var u=n(417),p=r(u),f=n(627),d=r(f),h=n(408),m=r(h),y=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},g=function(e){function t(e,n){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l,s,c,e,n))}return i(t,e),t}(d.default);t.default=g},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(408),s=r(i),l={"-2":"homdel","-1":"hetloss",0:null,1:"gain",2:"amp"},c=function(e){var t=null;switch(e="string"==typeof e?e.toLowerCase():""){case"missense_mutation":case"missense":case"missense_variant":t="missense";break;case"frame_shift_ins":case"frame_shift_del":case"frameshift":case"frameshift_deletion":case"frameshift_insertion":case"de_novo_start_outofframe":case"frameshift_variant":t="frameshift";break;case"nonsense_mutation":case"nonsense":case"stopgain_snv":t="nonsense";break;case"splice_site":case"splice":case"splice site":case"splicing":case"splice_site_snp":case"splice_site_del":case"splice_site_indel":t="splice";break;case"translation_start_site":case"start_codon_snp":case"start_codon_del":t="nonstart";break;case"nonstop_mutation":t="nonstop";break;case"fusion":t="fusion";break;case"in_frame_del":case"in_frame_ins":case"indel":case"nonframeshift_deletion":case"nonframeshift":case"nonframeshift insertion":case"nonframeshift_insertion":case"targeted_region":t="inframe";break;default:t="other"}return t},u=function(){function e(t){o(this,e),this.geneticProfiles=t}return a(e,[{key:"gene",value:function(e){return e.gene.hugoGeneSymbol}},{key:"alterationType",value:function(e){var t=s.find(this.geneticProfiles,function(t){return t.molecularProfileId===e});return t?t.molecularAlterationType:void 0}},{key:"cna",value:function(e){return"COPY_NUMBER_ALTERATION"===this.alterationType(e.molecularProfileId)?l[e.value]:null}},{key:"mut_type",value:function(e){return"MUTATION_EXTENDED"===this.alterationType(e.molecularProfileId)?"fusion"===e.mutationType?null:e.aminoAcidChange&&"promoter"===e.aminoAcidChange.toLowerCase()?"promoter":c(e.mutationType):null}},{key:"mut_position",value:function(e){if("MUTATION_EXTENDED"===this.alterationType(e.molecularProfileId)){var t=e.proteinPosStart,n=e.proteinPosEnd;return null!==t&&null!==n?[t,n]:null}return null}},{key:"mut_amino_acid_change",value:function(e){return"MUTATION_EXTENDED"===this.alterationType(e.molecularProfileId)?e.aminoAcidChange:null}},{key:"exp",value:function(e){return"MRNA_EXPRESSION"===this.alterationType(e.molecularProfileId)?parseFloat(e.value):null}},{key:"prot",value:function(e){return"PROTEIN_LEVEL"===this.alterationType(e.molecularProfileId)?parseFloat(e.value):null}},{key:"fusion",value:function(e){return"fusion"===c(e.mutationType)||null}}]),e}();t.default=u},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r,o,a){return g(e,t,n,r,o,a)}function a(e){for(var t=s(e),n=t.filter(function(e){return"datatypes"!==e.gene.toLowerCase()}).map(function(e){return e.gene.toUpperCase()}),r={},o=0;o<n.length;o++)r[n[o]]=!0;return Object.keys(r)}Object.defineProperty(t,"__esModule",{value:!0}),t.filterCBioPortalWebServiceData=o,t.genes=a;var i=n(432),s=(r(i),function(e,t){t=t||"";for(var n=window.oql_parser.parse(e),r=!1,o=0;o<n.length;o++)"datatypes"===n[o].gene.toLowerCase()?r=n[o].alterations:r&&!n[o].alterations&&(n[o].alterations=r);if(t.length>0)for(var o=0;o<n.length;o++)n[o].alterations||(n[o].alterations=window.oql_parser.parse("DUMMYGENE:"+t+";")[0].alterations);return n.filter(function(e){return"datatypes"!==e.gene.toLowerCase()})}),l=function(e){return"cna"===e.alteration_type?"="===e.constr_rel?e.constr_val:["CNA",e.constr_rel,e.constr_val].join(""):"mut"===e.alteration_type?e.constr_rel?"position"===e.constr_type?["MUT",e.constr_rel,e.info.amino_acid,e.constr_val].join(""):["MUT",e.constr_rel,e.constr_val].join(""):"MUT":"exp"===e.alteration_type?"EXP"+e.constr_rel+e.constr_val:"prot"===e.alteration_type?"PROT"+e.constr_rel+e.constr_val:"fusion"===e.alteration_type?"FUSION":void 0},c=function(e){var t="",n=e.gene,r=e.alterations;return t+=n,r.length>0&&(t+=": "+r.map(l).join(" ")),t+=";"},u=function(e,t,n){t.alterationSubType=null;var r=n.gene(t).toUpperCase();return!!r&&e.map(function(e){return p(e,t,r,n)}).reduce(function(e,t){return e||t},!1)},p=function(e,t,n,r,o){var a=e.gene.toUpperCase();return a===n&&(e.alterations?1===e.alterations.map(function(e){return f(e,t,r,o)}).reduce(function(e,t){return 1===t?1:0===t?e:t===-1?1===e?1:-1:void 0},-1):1)},f=function(e,t,n,r){return"cna"===e.alteration_type?h(e,t,n):"mut"===e.alteration_type?m(e,t,n):"exp"===e.alteration_type||"prot"===e.alteration_type?y(e,t,n,r):"fusion"===e.alteration_type?d(e,t,n):void 0},d=function(e,t,n){var r=n.fusion(t);return null===r?0:(t.alterationType="FUSION",1)},h=function(e,t,n){var r=n.cna(t);if(r){t.alterationSubType=r,t.alterationType="COPY_NUMBER_ALTERATION";var o;if("="===e.constr_rel)o=+(r===e.constr_val.toLowerCase());else{var a={amp:2,gain:1,hetloss:-1,homdel:-2},i=a[r],s=a[e.constr_val.toLowerCase()];">"===e.constr_rel?o=+(i>s):">="===e.constr_rel?o=+(i>=s):"<"===e.constr_rel?o=+(i<s):"<="===e.constr_rel&&(o=+(i<=s))}return 2*o-1}return 0},m=function(e,t,n){var r=n.mut_type(t);if(!r)return 0;if(r=r.toLowerCase(),t.alterationType="MUTATION_EXTENDED",t.alterationSubType=r,!e.constr_rel)return 1;if("class"===e.constr_type){var o=e.constr_val.toLowerCase(),a=r===o||"trunc"===o&&"missense"!==r&&"inframe"!==r;return"!="===e.constr_rel&&(a=!a),2*+a-1}if("position"===e.constr_type){var i=n.mut_position(t);if(!i)return-1;var s=e.constr_val,a=s>=i[0]&&s<=i[1];return"!="===e.constr_rel&&(a=!a),2*+a-1}if("name"===e.constr_type){var l=n.mut_amino_acid_change(t).toLowerCase();if(!l)return-1;var c=e.constr_val.toLowerCase(),a=c===l;return"!="===e.constr_rel&&(a=!a),2*+a-1}},y=function(e,t,n,r){var o=n["exp"===e.alteration_type?"exp":"prot"](t);if(null===o)return 0;var a,i=e.constr_val,s=e.constr_rel,l=void 0;return"<"===s&&o<i||"<="===s&&o<=i?(a=1,l=-1):">"===s&&o>i||">="===s&&o>=i?(a=1,l=1):a=-1,t.alterationType=a?"prot"===e.alteration_type?"PROTEIN_LEVEL":"MRNA_EXPRESSION":void 0,t.alterationSubType=l>0?"up":"down",r&&(t.oql_regulation_direction="undefined"==typeof t.oql_regulation_direction?l:t.oql_regulation_direction),a},g=function(t,n,r,o,a,i){n=e.extend(!0,[],n);var l=r;o=o||"";var f=s(t,o).map(function(e){return e.gene=e.gene.toUpperCase(),e});return a?f.map(function(e){return{gene:e.gene,parsed_oql_line:e,oql_line:c(e),data:n.filter(function(t){return p(e,t,l.gene(t).toUpperCase(),l,i)})}}):n.filter(function(e){return u(f,e,l)})}}).call(t,n(462))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(343),p=o(u),f=n(408),d=o(f),h=n(406),m=n(346),y=n(772),g=n(800),v=n(779),b=r(v),w=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},C=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.activeTab="all",e.resultsViewPageWidth=1150,e.handleTabClick=e.handleTabClick.bind(e),e}return s(t,e),l(t,[{key:"handleTabClick",value:function(e){this.activeTab=e}},{key:"render",value:function(){var e=this,t=this.props.store.samplesExtendedWithClinicalData.isComplete&&this.props.store.alterationsBySampleIdByGene.isComplete,n=this.props.store.samplesExtendedWithClinicalData.isPending&&this.props.store.alterationsBySampleIdByGene.isPending;return t?p.createElement("div",{ref:function(t){return e.resultsViewPageContent=t}},p.createElement(y.MSKTabs,{onTabClick:this.handleTabClick,enablePagination:!0,arrowStyle:{"line-height":.8},tabButtonStyle:"pills",activeTabId:this.activeTab,className:"secondaryTabs"},this.tabs)):n?p.createElement(b.default,{isLoading:!0}):null}},{key:"defaultTabId",get:function(){return"all"}},{key:"tabs",get:function(){var e=this,t=this.props.store.getAlterationCountsForCancerTypesByGene(this.props.store.alterationsBySampleIdByGene.result,this.props.store.samplesExtendedWithClinicalData.result,!1),n=this.props.store.getAlterationCountsForCancerTypesByGene(this.props.store.alterationsBySampleIdByGene.result,this.props.store.samplesExtendedWithClinicalData.result,!0),r=d.map(t,function(r,o){var a=d.reduce(r,function(e,t){return e+t.alterationTotal},0),i=0===a?{color:"#bbb"}:{};return p.createElement(y.MSKTab,{key:o,id:"summaryTab"+o,linkText:o,anchorStyle:i},p.createElement(g.CancerSummaryContent,{dataByCancerSubType:n[o],dataByCancerType:t[o],gene:o,width:e.resultsViewPageWidth}))});return r.length>1&&r.unshift(p.createElement(y.MSKTab,{key:"all",id:"allGenes",linkText:"All Queried Genes"},p.createElement(g.CancerSummaryContent,{gene:"all",width:this.resultsViewPageWidth,dataByCancerSubType:this.props.store.getAlterationCountsForCancerTypesForAllGenes(this.props.store.alterationsBySampleIdByGene.result,this.props.store.samplesExtendedWithClinicalData.result,!0),dataByCancerType:this.props.store.getAlterationCountsForCancerTypesForAllGenes(this.props.store.alterationsBySampleIdByGene.result,this.props.store.samplesExtendedWithClinicalData.result,!1)}))),r}}]),t}(p.Component);w([h.observable],C.prototype,"activeTab",void 0),w([h.observable],C.prototype,"resultsViewPageWidth",void 0),w([h.computed],C.prototype,"tabs",null),C=w([m.observer],C),t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CancerSummaryContent=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=n(343),d=o(f),h=n(408),m=o(h),y=n(455),g=n(406),v=n(346),b=n(801),w=r(b),C=n(802),T=r(C),S=n(803),x=r(S),A=n(464);n(804),n(805);var k=n(806),E=r(k),M=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},_={multiple:"Multiple Alterations",protExpressionDown:"Protein Downregulation",protExpressionUp:"Protein Upregulation",mrnaExpressionDown:"mRNA Downregulation",mrnaExpressionUp:"mRNA Upregulation",hetloss:"Shallow Deletion",homdel:"Deep Deletion",gain:"Gain",amp:"Amplification",fusion:"Fusion",mutated:"Mutation"},P=function(e){function t(e){s(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tempAltCasesInputValue=0,n.tempTotalCasesInputValue=0,n.pngAnchor="",n.pdf={anchor:"",width:0,height:0},n.showControls=!1,n.showGenomicAlt=!0,n.yAxis="alt-freq",n.xAxis="y-axis",n.multiSelectValue=n.cancerTypes[0].value,n.multiSelectOptions=n.cancerTypes,n.altCasesValue=0,n.totalCasesValue=0,n.tempTotalCasesValue=0,n.tempAltCasesValue=0,n.viewCountsByCancerSubType=!1,n.handleYAxisChange=n.handleYAxisChange.bind(n),n.handleXAxisChange=n.handleXAxisChange.bind(n),n.handleGenomicCheckboxChange=n.handleGenomicCheckboxChange.bind(n),n.handleCancerTypeCheckboxChange=n.handleCancerTypeCheckboxChange.bind(n),n.handleSelectChange=n.handleSelectChange.bind(n),n.handleAltSliderChange=n.handleAltSliderChange.bind(n),n.handleTotalSliderChange=n.handleTotalSliderChange.bind(n),n.handleAltSliderChangeComplete=n.handleAltSliderChangeComplete.bind(n),n.handleTotalSliderChangeComplete=n.handleTotalSliderChangeComplete.bind(n),n.handleAltInputChange=n.handleAltInputChange.bind(n),n.handleAltInputKeyPress=n.handleAltInputKeyPress.bind(n),n.handleTotalInputChange=n.handleTotalInputChange.bind(n),n.handleTotalInputKeyPress=n.handleTotalInputKeyPress.bind(n),n.toggleShowControls=n.toggleShowControls.bind(n),n.setPngAnchor=n.setPngAnchor.bind(n),n.setPdfProperties=n.setPdfProperties.bind(n),n.downloadPdf=n.downloadPdf.bind(n),n.resetSliders=n.resetSliders.bind(n),n}return c(t,e),u(t,[{key:"componentWillMount",value:function(){this.viewCountsByCancerSubType=1===m.size(this.props.dataByCancerType)}},{key:"handleYAxisChange",value:function(e){this.yAxis=e.target.value,this.resetSliders()}},{key:"handleXAxisChange",value:function(e){this.xAxis=e.target.value,this.resetSliders()}},{key:"resetSliders",value:function(){this.altCasesValue=0,this.totalCasesValue=0,this.handleAltSliderChange(0),this.handleTotalSliderChange(0)}},{key:"handleCancerTypeCheckboxChange",value:function(){this.viewCountsByCancerSubType=this.viewCountsByCancerSubType===!1}},{key:"handleGenomicCheckboxChange",value:function(){this.showGenomicAlt=!this.showGenomicAlt}},{key:"handleAltSliderChange",value:function(e){this.tempAltCasesValue=e,this.tempAltCasesInputValue=e}},{key:"handleTotalSliderChange",value:function(e){this.tempTotalCasesValue=e,this.tempTotalCasesInputValue=e}},{key:"handleAltInputKeyPress",value:function(e){if(13===e.charCode){if(isNaN(this.tempAltCasesInputValue))return void(this.tempAltCasesInputValue=0);this.tempAltCasesInputValue=Number(this.tempAltCasesInputValue),this.tempAltCasesValue=this.tempAltCasesInputValue,this.handleAltSliderChangeComplete()}}},{key:"handleTotalInputKeyPress",value:function(e){if(13===e.charCode){if(isNaN(this.tempTotalCasesInputValue))return void(this.tempTotalCasesInputValue=0);this.tempTotalCasesInputValue=Number(this.tempTotalCasesInputValue),this.tempTotalCasesValue=this.tempTotalCasesInputValue,this.handleTotalSliderChangeComplete()}}},{key:"handleAltInputChange",value:function(e){this.tempAltCasesInputValue=e.target.value.replace(/[^0-9\.]/g,"")}},{key:"handleTotalInputChange",value:function(e){this.tempTotalCasesInputValue=e.target.value.replace(/[^0-9\.]/g,"")}},{key:"handleAltSliderChangeComplete",value:function(){this.altCasesValue=this.tempAltCasesValue}},{key:"handleTotalSliderChangeComplete",value:function(){this.totalCasesValue=this.tempTotalCasesValue}},{key:"toggleShowControls",value:function(){this.showControls=!this.showControls}},{key:"getColors",value:function(e){var t={mutated:"#008000",amp:"#ff0000",homdel:"rgb(0,0,255)",hetloss:"#000",gain:"rgb(255,182,193)",fusion:"#8B00C9",mrnaExpressionUp:"#FF989A",mrnaExpressionDown:"#529AC8",protExpressionUp:"#FF989A",protExpressionDown:"#E0FFFF",multiple:"#666"};return this.showGenomicAlt?t[e]||"#000000":"#aaaaaa"}},{key:"handleSelectChange",value:function(e){var t=e.split(",");return"all"===m.last(t)?void(this.multiSelectValue="all"):"all"===t[0]&&t.length>1?void(this.multiSelectValue=t.slice(1).join(",")):(this.multiSelectValue=e,void this.resetSliders())}},{key:"setPngAnchor",value:function(e){this.pngAnchor=e}},{key:"setPdfProperties",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:600;this.pdf={anchor:e,width:t,height:n}}},{key:"downloadPdf",value:function(){var e=this.pdf,t=e.anchor,n=e.width,r=e.height,o="p";n>r&&(o="l");var a=new x.default({orientation:o,unit:"mm",format:[.264583*n,.264583*r]});a.addImage(t,"JPEG",0,0,a.internal.pageSize.width,a.internal.pageSize.height).save("cBioPortalCancerSummary.pdf")}},{key:"render",value:function(){var e=this,t=this.totalCasesMax,n=this.altCasesMax,r=this.yAxis,o=n,a="alt-freq"===r?"%":"",s=this.showControls?d.createElement("div",{style:{marginTop:10},className:"cancer-study-form-controls"},d.createElement("div",{className:"form-section"},d.createElement(y.FormGroup,null,d.createElement(y.ControlLabel,null,"Cancer Type(s):"),d.createElement(T.default,{simpleValue:!0,value:this.multiSelectValue,placeholder:"Select cancer types",options:this.multiSelectOptions,onChange:this.handleSelectChange})),d.createElement(y.FormGroup,null,d.createElement(y.ControlLabel,null,"Y Axis Value:"),d.createElement(y.FormControl,{componentClass:"select",onChange:this.handleYAxisChange,ref:function(t){return e.inputYAxisEl=t}},d.createElement("option",{value:"alt-freq"},"Alteration Frequency"),d.createElement("option",{value:"abs-count"},"Absolute Counts"))),d.createElement("div",{className:"slider-holder"},d.createElement(y.FormGroup,null,d.createElement(y.ControlLabel,null,"Min. "+("alt-freq"===r?"%":"#")+" Altered Cases:"),d.createElement("div",{className:"slider custom-labels"},d.createElement(w.default,{min:0,max:o,value:this.tempAltCasesValue,labels:i({0:0+a},o,Math.ceil(o)+a),format:function(e){return e+a},onChange:this.handleAltSliderChange,onChangeComplete:this.handleAltSliderChangeComplete}))),d.createElement(y.FormGroup,null,d.createElement(y.ControlLabel,{className:"invisible"},"Hidden"),d.createElement(y.FormControl,{type:"text",value:this.tempAltCasesInputValue+a,onChange:this.handleAltInputChange,onKeyPress:this.handleAltInputKeyPress})))),d.createElement("div",{className:"form-section"},d.createElement(y.FormGroup,null,d.createElement(y.Checkbox,{checked:this.showGenomicAlt,onChange:this.handleGenomicCheckboxChange},"Show Genomic Alteration Types")),d.createElement(y.FormGroup,null,d.createElement(y.ControlLabel,null,"Sort X Axis By:"),d.createElement(y.FormControl,{componentClass:"select",onChange:this.handleXAxisChange,ref:function(t){return e.inputXAxisEl=t}},d.createElement("option",{value:"y-axis"},"Y-Axis Values"),d.createElement("option",{value:"can-types"},"Cancer Types"))),d.createElement("div",{className:"slider-holder"},d.createElement(y.FormGroup,null,d.createElement(y.ControlLabel,null,"Min. # Total Cases:"),d.createElement("div",{className:"slider custom-labels"},d.createElement(w.default,{min:0,max:t,value:this.tempTotalCasesValue,labels:i({0:0},t,t),onChange:this.handleTotalSliderChange,onChangeComplete:this.handleTotalSliderChangeComplete}))),d.createElement(y.FormGroup,null,d.createElement(y.ControlLabel,{className:"invisible"},"Hidden"),d.createElement(y.FormControl,{type:"text",value:this.tempTotalCasesInputValue,onChange:this.handleTotalInputChange,onKeyPress:this.handleTotalInputKeyPress}))))):null;return d.createElement(A.If,{condition:this.hasAlterations},d.createElement(A.Then,null,d.createElement("div",null,d.createElement("div",{role:"group",className:"btn-group"},d.createElement("button",{onClick:this.toggleShowControls,className:"btn btn-default btn-xs"},"Customize ",d.createElement("i",{className:"fa fa-cog","aria-hidden":"true"})),d.createElement("a",{className:"btn btn-default btn-xs "+(this.pngAnchor?"":" disabled"),href:this.pngAnchor,download:"cBioPortalCancerSummary.png"},"PNG ",d.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"}))),s,d.createElement(E.default,{data:this.chartData,yAxis:this.yAxis,xAxis:this.xAxis,gene:this.props.gene,width:this.props.width,setPdfProperties:this.setPdfProperties,setPngAnchor:this.setPngAnchor,legend:this.showGenomicAlt,orderedLabels:_}))),d.createElement(A.Else,null,d.createElement("div",{className:"alert alert-info"},"There are no alterations in this gene.")))}},{key:"onlyOneSelected",get:function(){return"all"!==this.multiSelectValue}},{key:"countsData",get:function(){return this.viewCountsByCancerSubType||this.onlyOneSelected?this.props.dataByCancerSubType:this.props.dataByCancerType}},{key:"barChartDatasets",get:function(){var e=this;return m.reduce(this.countsData,function(t,n,r){var o=n.alterationTypeCounts,a=n.alteredSampleCount/n.sampleTotal*100;if((e.selectedCancerTypes[r]||e.selectedCancerTypes[n.parentCancerType])&&n.sampleTotal>=e.totalCasesValue){var i=m.reduce(o,function(t,r,o){var i=r/n.sampleTotal*100,s="abs-count"===e.yAxis?r:i;return t.push({label:o,totalCases:n.sampleTotal,altTotalPercent:a,total:s,count:r,percent:i,backgroundColor:e.getColors(o)}),t},[]),s=m.keys(_),l=i.sort(function(e,t){return s.indexOf(e.label)-s.indexOf(t.label)});t.push({label:r,sortBy:e.yAxis,symbol:"abs-count"===e.yAxis?"":"%",sortCount:"abs-count"===e.yAxis?n.alteredSampleCount:a,data:l})}return t},[])}},{key:"cancerTypes",get:function(){var e=Object.keys(this.countsData).map(function(e){return{label:e,value:e}}).sort();return[{label:"All",value:"all"}].concat(a(e))}},{key:"altCasesMax",get:function(){return Math.max.apply(Math,a(this.barChartDatasets.map(function(e){return e.sortCount})))}},{key:"selectedCancerTypes",get:function(){var e=this.multiSelectValue.toLowerCase().split(",");return m.reduce(this.props.dataByCancerType,function(t,n,r){return t[r]=!!m.intersection(["all","",r.toLowerCase()],e).length,t},{})}},{key:"totalCasesMax",get:function(){var e=this;return Math.max.apply(Math,a(m.map(m.filter(this.countsData,function(t,n){return e.selectedCancerTypes[t.parentCancerType]}),function(e){return e.sampleTotal})))}},{key:"chartData",get:function(){var e=this,t=this.barChartDatasets,n=this.xAxis,r=this.altCasesValue,o=m.orderBy(t,["y-axis"===n?"sortCount":"label"],["y-axis"===n?"desc":"asc"]),i=m.flatten(o.filter(function(e){return e.sortCount&&e.sortCount>=r}).map(function(e,t){return e.data.map(function(e){return Object.assign({},e,{data:0===t?[e.total]:[].concat(a(Array(t).fill(0)),[e.total])})})}));return{labels:m.reduce(o,function(t,n){return n.sortCount&&n.sortCount>=e.altCasesValue&&t.push(n.label),t},[]),datasets:i}}},{key:"hasAlterations",get:function(){return m.reduce(this.countsData,function(e,t){return e+t.alterationTotal},0)>0}}]),t}(d.Component);M([g.observable],P.prototype,"tempAltCasesInputValue",void 0),M([g.observable],P.prototype,"tempTotalCasesInputValue",void 0),M([g.observable],P.prototype,"pngAnchor",void 0),M([g.observable],P.prototype,"pdf",void 0),M([g.observable],P.prototype,"showControls",void 0),M([g.observable],P.prototype,"showGenomicAlt",void 0),M([g.observable],P.prototype,"yAxis",void 0),M([g.observable],P.prototype,"xAxis",void 0),M([g.observable],P.prototype,"multiSelectValue",void 0),M([g.observable],P.prototype,"multiSelectOptions",void 0),M([g.observable],P.prototype,"altCasesValue",void 0),M([g.observable],P.prototype,"totalCasesValue",void 0),M([g.observable],P.prototype,"tempTotalCasesValue",void 0),M([g.observable],P.prototype,"tempAltCasesValue",void 0),M([g.observable],P.prototype,"viewCountsByCancerSubType",void 0),M([g.computed],P.prototype,"onlyOneSelected",null),M([g.computed],P.prototype,"countsData",null),M([g.computed],P.prototype,"barChartDatasets",null),M([g.computed],P.prototype,"cancerTypes",null),M([g.computed],P.prototype,"altCasesMax",null),M([g.computed],P.prototype,"selectedCancerTypes",null),M([g.computed],P.prototype,"totalCasesMax",null),M([g.computed],P.prototype,"chartData",null),M([g.computed],P.prototype,"hasAlterations",null),t.CancerSummaryContent=P=M([v.observer],P),t.CancerSummaryContent=P},function(e,t,n){e.exports=n(344)(354)},,function(e,t){!function(n,r){"object"==typeof t&&"undefined"!=typeof e?e.exports=r():"function"==typeof define&&define.amd?define(r):n.jspdf=r()}(this,function(){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=(function(){function e(e){this.value=e}function t(t){function n(o,a){try{var i=t[o](a),s=i.value;s instanceof e?Promise.resolve(s.value).then(function(e){n("next",e)},function(e){n("throw",e)}):r(i.done?"return":"normal",i.value)}catch(e){r("throw",e)}}function r(e,t){switch(e){case"return":o.resolve({value:t,done:!0});break;case"throw":o.reject(t);break;default:o.resolve({value:t,done:!1})}(o=o.next)?n(o.key,o.arg):a=null}var o,a;this._invoke=function(e,t){return new Promise(function(r,i){var s={key:e,arg:t,resolve:r,reject:i,next:null};a?a=a.next=s:(o=a=s,
n(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(t){function r(e){var n={};this.subscribe=function(e,t,r){if("function"!=typeof t)return!1;n.hasOwnProperty(e)||(n[e]={});var o=Math.random().toString(35);return n[e][o]=[t,!!r],o},this.unsubscribe=function(e){for(var t in n)if(n[t][e])return delete n[t][e],!0;return!1},this.publish=function(r){if(n.hasOwnProperty(r)){var o=Array.prototype.slice.call(arguments,1),a=[];for(var i in n[r]){var s=n[r][i];try{s[0].apply(e,o)}catch(e){t.console&&console.error("jsPDF PubSub Error",e.message,e)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}}}function o(e,c,u,p){var f={};"object"===(void 0===e?"undefined":n(e))&&(e=(f=e).orientation,c=f.unit||c,u=f.format||u,p=f.compress||f.compressPdf||p),c=c||"mm",u=u||"a4",e=(""+(e||"P")).toLowerCase(),(""+u).toLowerCase();var d,h,m,y,g,v,b,w,C,T=!!p&&"function"==typeof Uint8Array,S=f.textColor||"0 g",x=f.drawColor||"0 G",A=f.fontSize||16,k=f.lineHeight||1.15,E=f.lineWidth||.200025,M=2,_=!1,P=[],O={},I={},R=0,L=[],j=[],D=[],N=[],G=[],F=0,q=0,B=0,z={title:"",subject:"",author:"",keywords:"",creator:""},H={},U=new r(H),V=f.hotfixes||[],K=function(e){return e.toFixed(2)},W=function(e){return e.toFixed(3)},$=function(e){return("0"+parseInt(e)).slice(-2)},Y=function(e){_?L[y].push(e):(B+=e.length+1,N.push(e))},Q=function(){return M++,P[M]=B,Y(M+" 0 obj"),M},X=function(e){Y("stream"),Y(e),Y("endstream")},Z=function(){var e,n,r,a,i,l,c,u,p,f=[];for(c=t.adler32cs||o.adler32cs,T&&void 0===c&&(T=!1),e=1;e<=R;e++){if(f.push(Q()),u=(g=D[e].width)*h,p=(v=D[e].height)*h,Y("<</Type /Page"),Y("/Parent 1 0 R"),Y("/Resources 2 0 R"),Y("/MediaBox [0 0 "+K(u)+" "+K(p)+"]"),U.publish("putPage",{pageNumber:e,page:L[e]}),Y("/Contents "+(M+1)+" 0 R"),Y(">>"),Y("endobj"),n=L[e].join("\n"),Q(),T){for(r=[],a=n.length;a--;)r[a]=n.charCodeAt(a);l=c.from(n),(i=new s(6)).append(new Uint8Array(r)),n=i.flush(),(r=new Uint8Array(n.length+6)).set(new Uint8Array([120,156])),r.set(n,2),r.set(new Uint8Array([255&l,l>>8&255,l>>16&255,l>>24&255]),n.length+2),n=String.fromCharCode.apply(null,r),Y("<</Length "+n.length+" /Filter [/FlateDecode]>>")}else Y("<</Length "+n.length+">>");X(n),Y("endobj")}P[1]=B,Y("1 0 obj"),Y("<</Type /Pages");var d="/Kids [";for(a=0;a<R;a++)d+=f[a]+" 0 R ";Y(d+"]"),Y("/Count "+R),Y(">>"),Y("endobj"),U.publish("postPutPages")},J=function(e){e.objectNumber=Q(),Y("<</BaseFont/"+e.PostScriptName+"/Type/Font"),"string"==typeof e.encoding&&Y("/Encoding/"+e.encoding),Y("/Subtype/Type1>>"),Y("endobj")},ee=function(){for(var e in O)O.hasOwnProperty(e)&&J(O[e])},te=function(){U.publish("putXobjectDict")},ne=function(){Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Y("/Font <<");for(var e in O)O.hasOwnProperty(e)&&Y("/"+e+" "+O[e].objectNumber+" 0 R");Y(">>"),Y("/XObject <<"),te(),Y(">>")},re=function(){ee(),U.publish("putResources"),P[2]=B,Y("2 0 obj"),Y("<<"),ne(),Y(">>"),Y("endobj"),U.publish("postPutResources")},oe=function(){U.publish("putAdditionalObjects");for(var e=0;e<G.length;e++){var t=G[e];P[t.objId]=B,Y(t.objId+" 0 obj"),Y(t.content),Y("endobj")}M+=G.length,U.publish("postPutAdditionalObjects")},ae=function(e,t,n){I.hasOwnProperty(t)||(I[t]={}),I[t][n]=e},ie=function(e,t,n,r){var o="F"+(Object.keys(O).length+1).toString(10),a=O[o]={id:o,PostScriptName:e,fontName:t,fontStyle:n,encoding:r,metadata:{}};return ae(o,t,n),U.publish("addFont",a),o},se=function(e,t){var n,r,o,a,i,s,l,c,u;if(t=t||{},o=t.sourceEncoding||"Unicode",i=t.outputEncoding,(t.autoencode||i)&&O[d].metadata&&O[d].metadata[o]&&O[d].metadata[o].encoding&&(a=O[d].metadata[o].encoding,!i&&O[d].encoding&&(i=O[d].encoding),!i&&a.codePages&&(i=a.codePages[0]),"string"==typeof i&&(i=a[i]),i)){for(l=!1,s=[],n=0,r=e.length;n<r;n++)(c=i[e.charCodeAt(n)])?s.push(String.fromCharCode(c)):s.push(e[n]),s[n].charCodeAt(0)>>8&&(l=!0);e=s.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(s=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if(c=e.charCodeAt(n),(u=c>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(u),s.push(c-(u<<8))}return String.fromCharCode.apply(void 0,s)},le=function(e,t){return se(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ce=function(){Y("/Producer (jsPDF "+o.version+")");for(var e in z)z.hasOwnProperty(e)&&z[e]&&Y("/"+e.substr(0,1).toUpperCase()+e.substr(1)+" ("+le(z[e])+")");var t=new Date,n=t.getTimezoneOffset(),r=n<0?"+":"-",a=Math.floor(Math.abs(n/60)),i=Math.abs(n%60),s=[r,$(a),"'",$(i),"'"].join("");Y(["/CreationDate (D:",t.getFullYear(),$(t.getMonth()+1),$(t.getDate()),$(t.getHours()),$(t.getMinutes()),$(t.getSeconds()),s,")"].join(""))},ue=function(){switch(Y("/Type /Catalog"),Y("/Pages 1 0 R"),w||(w="fullwidth"),w){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var e=""+w;"%"===e.substr(e.length-1)&&(w=parseInt(w)/100),"number"==typeof w&&Y("/OpenAction [3 0 R /XYZ null null "+K(w)+"]")}switch(C||(C="continuous"),C){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}b&&Y("/PageMode /"+b),U.publish("putCatalog")},pe=function(){Y("/Size "+(M+1)),Y("/Root "+M+" 0 R"),Y("/Info "+(M-1)+" 0 R")},fe=function(e,t){var n="string"==typeof t&&t.toLowerCase();if("string"==typeof e){var r=e.toLowerCase();l.hasOwnProperty(r)&&(e=l[r][0]/h,t=l[r][1]/h)}if(Array.isArray(e)&&(t=e[1],e=e[0]),n){switch(n.substr(0,1)){case"l":t>e&&(n="s");break;case"p":e>t&&(n="s")}"s"===n&&(m=e,e=t,t=m)}_=!0,L[++R]=[],D[R]={width:Number(e)||g,height:Number(t)||v},j[R]={},me(R)},de=function(){fe.apply(this,arguments),Y(K(E*h)+" w"),Y(x),0!==F&&Y(F+" J"),0!==q&&Y(q+" j"),U.publish("addPage",{pageNumber:R})},he=function(e){e>0&&e<=R&&(L.splice(e,1),D.splice(e,1),y>--R&&(y=R),this.setPage(y))},me=function(e){e>0&&e<=R&&(y=e,g=D[e].width,v=D[e].height)},ye=function(e,t){var n;switch(e=void 0!==e?e:O[d].fontName,t=void 0!==t?t:O[d].fontStyle,void 0!==e&&(e=e.toLowerCase()),e){case"sans-serif":case"verdana":case"arial":case"helvetica":e="helvetica";break;case"fixed":case"monospace":case"terminal":case"courier":e="courier";break;case"serif":case"cursive":case"fantasy":default:e="times"}try{n=I[e][t]}catch(e){}return n||null==(n=I.times[t])&&(n=I.times.normal),n},ge=function(){_=!1,M=2,B=0,N=[],P=[],G=[],U.publish("buildDocument"),Y("%PDF-"+i),Z(),oe(),re(),Q(),Y("<<"),ce(),Y(">>"),Y("endobj"),Q(),Y("<<"),ue(),Y(">>"),Y("endobj");var e,t=B,n="0000000000";for(Y("xref"),Y("0 "+(M+1)),Y(n+" 65535 f "),e=1;e<=M;e++){var r=P[e];Y("function"==typeof r?(n+P[e]()).slice(-10)+" 00000 n ":(n+P[e]).slice(-10)+" 00000 n ")}return Y("trailer"),Y("<<"),pe(),Y(">>"),Y("startxref"),Y(""+t),Y("%%EOF"),_=!0,N.join("\n")},ve=function(e){var t="S";return"F"===e?t="f":"FD"===e||"DF"===e?t="B":"f"!==e&&"f*"!==e&&"B"!==e&&"B*"!==e||(t=e),t},be=function(){for(var e=ge(),t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},we=function(){return new Blob([be()],{type:"application/pdf"})},Ce=function(e){return e.foo=function(){try{return e.apply(this,arguments)}catch(e){var n=e.stack||"";~n.indexOf(" at ")&&(n=n.split(" at ")[1]);var r="Error in function "+n.split("\n")[0].split("<")[0]+": "+e.message;if(!t.console)throw new Error(r);t.console.error(r,e),t.alert&&alert(r)}},e.foo.bar=e,e.foo}(function(e,n){var r="dataur"===(""+e).substr(0,6)?"data:application/pdf;base64,"+btoa(ge()):0;switch(e){case void 0:return ge();case"save":if(navigator.getUserMedia&&(void 0===t.URL||void 0===t.URL.createObjectURL))return H.output("dataurlnewwindow");a(we(),n),"function"==typeof a.unload&&t.setTimeout&&setTimeout(a.unload,911);break;case"arraybuffer":return be();case"blob":return we();case"bloburi":case"bloburl":return t.URL&&t.URL.createObjectURL(we())||void 0;case"datauristring":case"dataurlstring":return r;case"dataurlnewwindow":var o=t.open(r);if(o||"undefined"==typeof safari)return o;case"datauri":case"dataurl":return t.document.location.href=r;default:throw new Error('Output type "'+e+'" is not supported.')}}),Te=function(e){return!0===Array.isArray(V)&&V.indexOf(e)>-1};switch(c){case"pt":h=1;break;case"mm":h=72/25.4000508;break;case"cm":h=72/2.54000508;break;case"in":h=72;break;case"px":h=1==Te("px_scaling")?.75:96/72;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}H.internal={pdfEscape:le,getStyle:ve,getFont:function(){return O[ye.apply(H,arguments)]},getFontSize:function(){return A},getLineHeight:function(){return A*k},write:function(e){Y(1===arguments.length?e:Array.prototype.join.call(arguments," "))},getCoordinateString:function(e){return K(e*h)},getVerticalCoordinateString:function(e){return K((v-e)*h)},collections:{},newObject:Q,newAdditionalObject:function(){var e=2*L.length+1,t={objId:e+=G.length,content:""};return G.push(t),t},newObjectDeferred:function(){return M++,P[M]=function(){return B},M},newObjectDeferredBegin:function(e){P[e]=B},putStream:X,events:U,scaleFactor:h,pageSize:{get width(){return g},get height(){return v}},output:function(e,t){return Ce(e,t)},getNumberOfPages:function(){return L.length-1},pages:L,out:Y,f2:K,getPageInfo:function(e){return{objId:2*(e-1)+3,pageNumber:e,pageContext:j[e]}},getCurrentPageInfo:function(){return{objId:2*(y-1)+3,pageNumber:y,pageContext:j[y]}},getPDFVersion:function(){return i},hasHotfix:Te},H.addPage=function(){return de.apply(this,arguments),this},H.setPage=function(){return me.apply(this,arguments),this},H.insertPage=function(e){return this.addPage(),this.movePage(y,e),this},H.movePage=function(e,t){if(e>t){for(var n=L[e],r=D[e],o=j[e],a=e;a>t;a--)L[a]=L[a-1],D[a]=D[a-1],j[a]=j[a-1];L[t]=n,D[t]=r,j[t]=o,this.setPage(t)}else if(e<t){for(var n=L[e],r=D[e],o=j[e],a=e;a<t;a++)L[a]=L[a+1],D[a]=D[a+1],j[a]=j[a+1];L[t]=n,D[t]=r,j[t]=o,this.setPage(t)}return this},H.deletePage=function(){return he.apply(this,arguments),this},H.setDisplayMode=function(e,t,n){if(w=e,C=t,b=n,-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(n))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+n+'" is not recognized.');return this},H.text=function(e,t,n,r,o,a){function i(e){return e=e.split("\t").join(Array(f.TabLen||9).join(" ")),le(e,r)}"number"==typeof e&&(m=n,n=t,t=e,e=m),"string"==typeof e&&(e=e.match(/[\n\r]/)?e.split(/\r\n|\r|\n/g):[e]),"string"==typeof o&&(a=o,o=null),"string"==typeof r&&(a=r,r=null),"number"==typeof r&&(o=r,r=null);var s="",l="Td";if(o){o*=Math.PI/180;var c=Math.cos(o),u=Math.sin(o);s=[K(c),K(u),K(-1*u),K(c),""].join(" "),l="Tm"}"noBOM"in(r=r||{})||(r.noBOM=!0),"autoencode"in r||(r.autoencode=!0);var p="",y=this.internal.getCurrentPageInfo().pageContext;if(!0===r.stroke?!0!==y.lastTextWasStroke&&(p="1 Tr\n",y.lastTextWasStroke=!0):(y.lastTextWasStroke&&(p="0 Tr\n"),y.lastTextWasStroke=!1),void 0===this._runningPageHeight&&(this._runningPageHeight=0),"string"==typeof e)e=i(e);else{if("[object Array]"!==Object.prototype.toString.call(e))throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');for(var g=e.concat(),b=[],w=g.length;w--;)b.push(i(g.shift()));if(a){var C,T,x,E=A*k,M=e.map(function(e){return this.getStringUnitWidth(e)*A/h},this);if(x=Math.max.apply(Math,M),"center"===a)C=t-x/2,t-=M[0]/2;else{if("right"!==a)throw new Error('Unrecognized alignment option, use "center" or "right".');C=t-x,t-=M[0]}T=t,e=b[0];for(var _=1,w=b.length;_<w;_++){var P=x-M[_];"center"===a&&(P/=2),e+=") Tj\n"+(C-T+P)+" -"+E+" Td ("+b[_],T=C+P}}else e=b.join(") Tj\nT* (")}var O;return O=K((v-n)*h),Y("BT\n/"+d+" "+A+" Tf\n"+A*k+" TL\n"+p+S+"\n"+s+K(t*h)+" "+O+" "+l+"\n("+e+") Tj\nET"),this},H.lstext=function(e,t,n,r){console.warn("jsPDF.lstext is deprecated");for(var o=0,a=e.length;o<a;o++,t+=r)this.text(e[o],t,n);return this},H.line=function(e,t,n,r){return this.lines([[n-e,r-t]],e,t)},H.clip=function(){Y("W"),Y("S")},H.clip_fixed=function(e){Y("evenodd"===e?"W*":"W"),Y("n")},H.lines=function(e,t,n,r,o,a){var i,s,l,c,u,p,f,d,y,g,b;for("number"==typeof e&&(m=n,n=t,t=e,e=m),r=r||[1,1],Y(W(t*h)+" "+W((v-n)*h)+" m "),i=r[0],s=r[1],c=e.length,g=t,b=n,l=0;l<c;l++)2===(u=e[l]).length?(g=u[0]*i+g,b=u[1]*s+b,Y(W(g*h)+" "+W((v-b)*h)+" l")):(p=u[0]*i+g,f=u[1]*s+b,d=u[2]*i+g,y=u[3]*s+b,g=u[4]*i+g,b=u[5]*s+b,Y(W(p*h)+" "+W((v-f)*h)+" "+W(d*h)+" "+W((v-y)*h)+" "+W(g*h)+" "+W((v-b)*h)+" c"));return a&&Y(" h"),null!==o&&Y(ve(o)),this},H.rect=function(e,t,n,r,o){return ve(o),Y([K(e*h),K((v-t)*h),K(n*h),K(-r*h),"re"].join(" ")),null!==o&&Y(ve(o)),this},H.triangle=function(e,t,n,r,o,a,i){return this.lines([[n-e,r-t],[o-n,a-r],[e-o,t-a]],e,t,[1,1],i,!0),this},H.roundedRect=function(e,t,n,r,o,a,i){var s=4/3*(Math.SQRT2-1);return this.lines([[n-2*o,0],[o*s,0,o,a-a*s,o,a],[0,r-2*a],[0,a*s,-o*s,a,-o,a],[2*o-n,0],[-o*s,0,-o,-a*s,-o,-a],[0,2*a-r],[0,-a*s,o*s,-a,o,-a]],e+o,t,[1,1],i),this},H.ellipse=function(e,t,n,r,o){var a=4/3*(Math.SQRT2-1)*n,i=4/3*(Math.SQRT2-1)*r;return Y([K((e+n)*h),K((v-t)*h),"m",K((e+n)*h),K((v-(t-i))*h),K((e+a)*h),K((v-(t-r))*h),K(e*h),K((v-(t-r))*h),"c"].join(" ")),Y([K((e-a)*h),K((v-(t-r))*h),K((e-n)*h),K((v-(t-i))*h),K((e-n)*h),K((v-t)*h),"c"].join(" ")),Y([K((e-n)*h),K((v-(t+i))*h),K((e-a)*h),K((v-(t+r))*h),K(e*h),K((v-(t+r))*h),"c"].join(" ")),Y([K((e+a)*h),K((v-(t+r))*h),K((e+n)*h),K((v-(t+i))*h),K((e+n)*h),K((v-t)*h),"c"].join(" ")),null!==o&&Y(ve(o)),this},H.circle=function(e,t,n,r){return this.ellipse(e,t,n,n,r)},H.setProperties=function(e){for(var t in z)z.hasOwnProperty(t)&&e[t]&&(z[t]=e[t]);return this},H.setFontSize=function(e){return A=e,this},H.setFont=function(e,t){return d=ye(e,t),this},H.setFontStyle=H.setFontType=function(e){return d=ye(void 0,e),this},H.getFontList=function(){var e,t,n,r={};for(e in I)if(I.hasOwnProperty(e)){r[e]=n=[];for(t in I[e])I[e].hasOwnProperty(t)&&n.push(t)}return r},H.addFont=function(e,t,n){ie(e,t,n,"StandardEncoding")},H.setLineWidth=function(e){return Y((e*h).toFixed(2)+" w"),this},H.setDrawColor=function(e,t,n,r){var o;return o=void 0===t||void 0===r&&e===t===n?"string"==typeof e?e+" G":K(e/255)+" G":void 0===r?"string"==typeof e?[e,t,n,"RG"].join(" "):[K(e/255),K(t/255),K(n/255),"RG"].join(" "):"string"==typeof e?[e,t,n,r,"K"].join(" "):[K(e),K(t),K(n),K(r),"K"].join(" "),Y(o),this},H.setFillColor=function(e,t,r,o){var a;return void 0===t||void 0===o&&e===t===r?a="string"==typeof e?e+" g":K(e/255)+" g":void 0===o||"object"===(void 0===o?"undefined":n(o))?(a="string"==typeof e?[e,t,r,"rg"].join(" "):[K(e/255),K(t/255),K(r/255),"rg"].join(" "),o&&0===o.a&&(a=["255","255","255","rg"].join(" "))):a="string"==typeof e?[e,t,r,o,"k"].join(" "):[K(e),K(t),K(r),K(o),"k"].join(" "),Y(a),this},H.setTextColor=function(e,t,n){if("string"==typeof e&&/^#[0-9A-Fa-f]{6}$/.test(e)){var r=parseInt(e.substr(1),16);e=r>>16&255,t=r>>8&255,n=255&r}return S=0===e&&0===t&&0===n||void 0===t?W(e/255)+" g":[W(e/255),W(t/255),W(n/255),"rg"].join(" "),this},H.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},H.setLineCap=function(e){var t=this.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return F=t,Y(t+" J"),this},H.setLineJoin=function(e){var t=this.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return q=t,Y(t+" j"),this},H.output=Ce,H.save=function(e){H.output("save",e)};for(var Se in o.API)o.API.hasOwnProperty(Se)&&("events"===Se&&o.API.events.length?function(e,t){var n,r,o;for(o=t.length-1;-1!==o;o--)n=t[o][0],r=t[o][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(U,o.API.events):H[Se]=o.API[Se]);return function(){for(var e=[["Helvetica","helvetica","normal"],["Helvetica-Bold","helvetica","bold"],["Helvetica-Oblique","helvetica","italic"],["Helvetica-BoldOblique","helvetica","bolditalic"],["Courier","courier","normal"],["Courier-Bold","courier","bold"],["Courier-Oblique","courier","italic"],["Courier-BoldOblique","courier","bolditalic"],["Times-Roman","times","normal"],["Times-Bold","times","bold"],["Times-Italic","times","italic"],["Times-BoldItalic","times","bolditalic"],["ZapfDingbats","zapfdingbats"]],t=0,n=e.length;t<n;t++){var r=ie(e[t][0],e[t][1],e[t][2],"StandardEncoding"),o=e[t][0].split("-");ae(r,o[0],o[1]||"")}U.publish("addFonts",{fonts:O,dictionary:I})}(),d="F1",de(u,e),U.publish("initialized"),H}var i="1.3",l={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};return o.API={events:[]},o.version="1.x-master","function"==typeof define&&define.amd?define("jsPDF",function(){return o}):"undefined"!=typeof e&&e.exports?e.exports=o:t.jsPDF=o,o}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0));(window.AcroForm=function(e){var t=window.AcroForm;t.scale=function(e){return e*(n.internal.scaleFactor/1)},t.antiScale=function(e){return 1/n.internal.scaleFactor*e};var n={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null};r.API.acroformPlugin=n;var o=function(){for(var e in this.acroformPlugin.acroFormDictionaryRoot.Fields){var t=this.acroformPlugin.acroFormDictionaryRoot.Fields[e];t.hasAnnotation&&i.call(this,t)}},a=function(){if(this.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");this.acroformPlugin.acroFormDictionaryRoot=new t.AcroFormDictionary,this.acroformPlugin.internal=this.internal,this.acroformPlugin.acroFormDictionaryRoot._eventID=this.internal.events.subscribe("postPutResources",c),this.internal.events.subscribe("buildDocument",o),this.internal.events.subscribe("putCatalog",l),this.internal.events.subscribe("postPutPages",u)},i=function(e){var t={type:"reference",object:e};r.API.annotationPlugin.annotations[this.internal.getPageInfo(e.page).pageNumber].push(t)},s=function(e){this.acroformPlugin.printedOut&&(this.acroformPlugin.printedOut=!1,this.acroformPlugin.acroFormDictionaryRoot=null),this.acroformPlugin.acroFormDictionaryRoot||a.call(this),this.acroformPlugin.acroFormDictionaryRoot.Fields.push(e)},l=function(){void 0!==this.acroformPlugin.acroFormDictionaryRoot?this.internal.write("/AcroForm "+this.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R"):console.log("Root missing...")},c=function(){this.internal.events.unsubscribe(this.acroformPlugin.acroFormDictionaryRoot._eventID),delete this.acroformPlugin.acroFormDictionaryRoot._eventID,this.acroformPlugin.printedOut=!0},u=function(e){var n=!e;e||(this.internal.newObjectDeferredBegin(this.acroformPlugin.acroFormDictionaryRoot.objId),this.internal.out(this.acroformPlugin.acroFormDictionaryRoot.getString()));var e=e||this.acroformPlugin.acroFormDictionaryRoot.Kids;for(var r in e){var o=e[r],a=o.Rect;o.Rect&&(o.Rect=t.internal.calculateCoordinates.call(this,o.Rect)),this.internal.newObjectDeferredBegin(o.objId);var i="";if(i+=o.objId+" 0 obj\n",i+="<<\n"+o.getContent(),o.Rect=a,o.hasAppearanceStream&&!o.appearanceStreamContent){var s=t.internal.calculateAppearanceStream.call(this,o);i+="/AP << /N "+s+" >>\n",this.acroformPlugin.xForms.push(s)}if(o.appearanceStreamContent){i+="/AP << ";for(var l in o.appearanceStreamContent){var c=o.appearanceStreamContent[l];if(i+="/"+l+" ",i+="<< ",Object.keys(c).length>=1||Array.isArray(c))for(var r in c)"function"==typeof(u=c[r])&&(u=u.call(this,o)),i+="/"+r+" "+u+" ",this.acroformPlugin.xForms.indexOf(u)>=0||this.acroformPlugin.xForms.push(u);else{var u=c;"function"==typeof u&&(u=u.call(this,o)),i+="/"+r+" "+u+" \n",this.acroformPlugin.xForms.indexOf(u)>=0||this.acroformPlugin.xForms.push(u)}i+=" >>\n"}i+=">>\n"}i+=">>\nendobj\n",this.internal.out(i)}n&&p.call(this,this.acroformPlugin.xForms)},p=function(e){for(var t in e){var n=t,r=e[t];this.internal.newObjectDeferredBegin(r&&r.objId);var o="";o+=r?r.getString():"",this.internal.out(o),delete e[n]}};e.addField=function(e){return e instanceof t.TextField?d.call(this,e):e instanceof t.ChoiceField?h.call(this,e):e instanceof t.Button?f.call(this,e):e instanceof t.ChildClass?s.call(this,e):e&&s.call(this,e),e.page=this.acroformPlugin.internal.getCurrentPageInfo().pageNumber,this};var f=function(e){(e=e||new t.Field).FT="/Btn";var n=e.Ff||0;e.pushbutton&&(n=t.internal.setBitPosition(n,17),delete e.pushbutton),e.radio&&(n=t.internal.setBitPosition(n,16),delete e.radio),e.noToggleToOff&&(n=t.internal.setBitPosition(n,15)),e.Ff=n,s.call(this,e)},d=function(e){(e=e||new t.Field).FT="/Tx";var n=e.Ff||0;e.multiline&&(n|=4096),e.password&&(n|=8192),e.fileSelect&&(n|=1<<20),e.doNotSpellCheck&&(n|=1<<22),e.doNotScroll&&(n|=1<<23),e.Ff=e.Ff||n,s.call(this,e)},h=function(e){var n=e||new t.Field;n.FT="/Ch";var r=n.Ff||0;n.combo&&(r=t.internal.setBitPosition(r,18),delete n.combo),n.edit&&(r=t.internal.setBitPosition(r,19),delete n.edit),n.sort&&(r=t.internal.setBitPosition(r,20),delete n.sort),n.multiSelect&&this.internal.getPDFVersion()>=1.4&&(r=t.internal.setBitPosition(r,22),delete n.multiSelect),n.doNotSpellCheck&&this.internal.getPDFVersion()>=1.4&&(r=t.internal.setBitPosition(r,23),delete n.doNotSpellCheck),n.Ff=r,s.call(this,n)}})(r.API);var o=window.AcroForm;o.internal={},o.createFormXObject=function(e){var t=new o.FormXObject,n=o.Appearance.internal.getHeight(e)||0,r=o.Appearance.internal.getWidth(e)||0;return t.BBox=[0,0,r,n],t},o.Appearance={CheckBox:{createAppearanceStream:function(){return{N:{On:o.Appearance.CheckBox.YesNormal},D:{On:o.Appearance.CheckBox.YesPushDown,Off:o.Appearance.CheckBox.OffPushDown}}},createMK:function(){return"<< /CA (3)>>"},YesPushDown:function(e){var t=o.createFormXObject(e),n="";e.Q=1;var r=o.internal.calculateX(e,"3","ZapfDingbats",50);return n+="0.749023 g\n             0 0 "+o.Appearance.internal.getWidth(e)+" "+o.Appearance.internal.getHeight(e)+" re\n             f\n             BMC\n             q\n             0 0 1 rg\n             /F13 "+r.fontSize+" Tf 0 g\n             BT\n",n+=r.text,n+="ET\n             Q\n             EMC\n",t.stream=n,t},YesNormal:function(e){var t=o.createFormXObject(e),n="";e.Q=1;var r=o.internal.calculateX(e,"3","ZapfDingbats",.9*o.Appearance.internal.getHeight(e));return n+="1 g\n0 0 "+o.Appearance.internal.getWidth(e)+" "+o.Appearance.internal.getHeight(e)+" re\nf\nq\n0 0 1 rg\n0 0 "+(o.Appearance.internal.getWidth(e)-1)+" "+(o.Appearance.internal.getHeight(e)-1)+" re\nW\nn\n0 g\nBT\n/F13 "+r.fontSize+" Tf 0 g\n",n+=r.text,n+="ET\n             Q\n",t.stream=n,t},OffPushDown:function(e){var t=o.createFormXObject(e),n="";return n+="0.749023 g\n            0 0 "+o.Appearance.internal.getWidth(e)+" "+o.Appearance.internal.getHeight(e)+" re\n            f\n",t.stream=n,t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:o.Appearance.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=o.Appearance.RadioButton.Circle.YesNormal,t.D[e]=o.Appearance.RadioButton.Circle.YesPushDown,t},createMK:function(){return"<< /CA (l)>>"},YesNormal:function(e){var t=o.createFormXObject(e),n="",r=o.Appearance.internal.getWidth(e)<=o.Appearance.internal.getHeight(e)?o.Appearance.internal.getWidth(e)/4:o.Appearance.internal.getHeight(e)/4;r*=.9;var a=o.Appearance.internal.Bezier_C;return n+="q\n1 0 0 1 "+o.Appearance.internal.getWidth(e)/2+" "+o.Appearance.internal.getHeight(e)/2+" cm\n"+r+" 0 m\n"+r+" "+r*a+" "+r*a+" "+r+" 0 "+r+" c\n-"+r*a+" "+r+" -"+r+" "+r*a+" -"+r+" 0 c\n-"+r+" -"+r*a+" -"+r*a+" -"+r+" 0 -"+r+" c\n"+r*a+" -"+r+" "+r+" -"+r*a+" "+r+" 0 c\nf\nQ\n",t.stream=n,t},YesPushDown:function(e){var t=o.createFormXObject(e),n="",r=o.Appearance.internal.getWidth(e)<=o.Appearance.internal.getHeight(e)?o.Appearance.internal.getWidth(e)/4:o.Appearance.internal.getHeight(e)/4,a=2*(r*=.9),i=a*o.Appearance.internal.Bezier_C,s=r*o.Appearance.internal.Bezier_C;return n+="0.749023 g\n            q\n           1 0 0 1 "+o.Appearance.internal.getWidth(e)/2+" "+o.Appearance.internal.getHeight(e)/2+" cm\n"+a+" 0 m\n"+a+" "+i+" "+i+" "+a+" 0 "+a+" c\n-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c\n-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c\n"+i+" -"+a+" "+a+" -"+i+" "+a+" 0 c\n            f\n            Q\n            0 g\n            q\n            1 0 0 1 "+o.Appearance.internal.getWidth(e)/2+" "+o.Appearance.internal.getHeight(e)/2+" cm\n"+r+" 0 m\n"+r+" "+s+" "+s+" "+r+" 0 "+r+" c\n-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c\n-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c\n"+s+" -"+r+" "+r+" -"+s+" "+r+" 0 c\n            f\n            Q\n",t.stream=n,t},OffPushDown:function(e){var t=o.createFormXObject(e),n="",r=o.Appearance.internal.getWidth(e)<=o.Appearance.internal.getHeight(e)?o.Appearance.internal.getWidth(e)/4:o.Appearance.internal.getHeight(e)/4,a=2*(r*=.9),i=a*o.Appearance.internal.Bezier_C;return n+="0.749023 g\n            q\n 1 0 0 1 "+o.Appearance.internal.getWidth(e)/2+" "+o.Appearance.internal.getHeight(e)/2+" cm\n"+a+" 0 m\n"+a+" "+i+" "+i+" "+a+" 0 "+a+" c\n-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c\n-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c\n"+i+" -"+a+" "+a+" -"+i+" "+a+" 0 c\n            f\n            Q\n",t.stream=n,t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:o.Appearance.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=o.Appearance.RadioButton.Cross.YesNormal,t.D[e]=o.Appearance.RadioButton.Cross.YesPushDown,t},createMK:function(){return"<< /CA (8)>>"},YesNormal:function(e){var t=o.createFormXObject(e),n="",r=o.Appearance.internal.calculateCross(e);return n+="q\n            1 1 "+(o.Appearance.internal.getWidth(e)-2)+" "+(o.Appearance.internal.getHeight(e)-2)+" re\n            W\n            n\n            "+r.x1.x+" "+r.x1.y+" m\n            "+r.x2.x+" "+r.x2.y+" l\n            "+r.x4.x+" "+r.x4.y+" m\n            "+r.x3.x+" "+r.x3.y+" l\n            s\n            Q\n",t.stream=n,t},YesPushDown:function(e){var t=o.createFormXObject(e),n=o.Appearance.internal.calculateCross(e),r="";return r+="0.749023 g\n            0 0 "+o.Appearance.internal.getWidth(e)+" "+o.Appearance.internal.getHeight(e)+" re\n            f\n            q\n            1 1 "+(o.Appearance.internal.getWidth(e)-2)+" "+(o.Appearance.internal.getHeight(e)-2)+" re\n            W\n            n\n            "+n.x1.x+" "+n.x1.y+" m\n            "+n.x2.x+" "+n.x2.y+" l\n            "+n.x4.x+" "+n.x4.y+" m\n            "+n.x3.x+" "+n.x3.y+" l\n            s\n            Q\n",t.stream=r,t},OffPushDown:function(e){var t=o.createFormXObject(e),n="";return n+="0.749023 g\n            0 0 "+o.Appearance.internal.getWidth(e)+" "+o.Appearance.internal.getHeight(e)+" re\n            f\n",t.stream=n,t}}},createDefaultAppearanceStream:function(e){var t="";return t+="/Helv 0 Tf 0 g"}},o.Appearance.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=o.Appearance.internal.getWidth(e),n=o.Appearance.internal.getHeight(e),r=function(e,t){return e>t?t:e}(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},o.Appearance.internal.getWidth=function(e){return e.Rect[2]},o.Appearance.internal.getHeight=function(e){return e.Rect[3]},o.internal.inherit=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},o.internal.arrayToPdfArray=function(e){if(Array.isArray(e)){var t=" [";for(var n in e)t+=e[n].toString(),t+=n<e.length-1?" ":"";return t+="]"}},o.internal.toPdfString=function(e){return 0!==(e=e||"").indexOf("(")&&(e="("+e),")"!=e.substring(e.length-1)&&(e+="("),e},o.PDFObject=function(){var e;Object.defineProperty(this,"objId",{get:function(){return e||(this.internal?e=this.internal.newObjectDeferred():r.API.acroformPlugin.internal&&(e=r.API.acroformPlugin.internal.newObjectDeferred())),e||console.log("Couldn't create Object ID"),e},configurable:!1})},o.PDFObject.prototype.toString=function(){return this.objId+" 0 R"},o.PDFObject.prototype.getString=function(){var e=this.objId+" 0 obj\n<<";return e+=this.getContent()+">>\n",this.stream&&(e+="stream\n",e+=this.stream,e+="endstream\n"),e+="endobj\n"},o.PDFObject.prototype.getContent=function(){var e="";return e+=function(e){var t="",n=Object.keys(e).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"_"!=e.substring(0,1)});for(var r in n){var a=n[r],i=e[a];i&&(t+=Array.isArray(i)?"/"+a+" "+o.internal.arrayToPdfArray(i)+"\n":i instanceof o.PDFObject?"/"+a+" "+i.objId+" 0 R\n":"/"+a+" "+i+"\n")}return t}(this)},o.FormXObject=function(){o.PDFObject.call(this),this.Type="/XObject",this.Subtype="/Form",this.FormType=1,this.BBox,this.Matrix,this.Resources="2 0 R",this.PieceInfo;var e;Object.defineProperty(this,"Length",{enumerable:!0,get:function(){return void 0!==e?e.length:0}}),Object.defineProperty(this,"stream",{enumerable:!1,set:function(t){e=t},get:function(){return e||null}})},o.internal.inherit(o.FormXObject,o.PDFObject),o.AcroFormDictionary=function(){o.PDFObject.call(this);var e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!0,configurable:!0,get:function(){return e}}),this.DA},o.internal.inherit(o.AcroFormDictionary,o.PDFObject),o.Field=function(){o.PDFObject.call(this);var e;Object.defineProperty(this,"Rect",{enumerable:!0,configurable:!1,get:function(){if(e)return e},set:function(t){e=t}});var t="";Object.defineProperty(this,"FT",{enumerable:!0,set:function(e){t=e},get:function(){return t}});var n;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,set:function(e){n=e},get:function(){if(!n||n.length<1){if(this instanceof o.ChildClass)return;return"(FieldObject"+o.Field.FieldNum++ +")"}return"("==n.substring(0,1)&&n.substring(n.length-1)?n:"("+n+")"}});var r;Object.defineProperty(this,"DA",{enumerable:!0,get:function(){if(r)return"("+r+")"},set:function(e){r=e}});var a;Object.defineProperty(this,"DV",{enumerable:!0,configurable:!0,get:function(){if(a)return a},set:function(e){a=e}}),Object.defineProperty(this,"Type",{enumerable:!0,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,get:function(){return this.hasAnnotation?"/Widget":null}}),this.BG,Object.defineProperty(this,"hasAnnotation",{enumerable:!1,get:function(){return!!(this.Rect||this.BC||this.BG)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(this,"page",{enumerable:!1,configurable:!0,writable:!0})},o.Field.FieldNum=0,o.internal.inherit(o.Field,o.PDFObject),o.ChoiceField=function(){o.Field.call(this),this.FT="/Ch",this.Opt=[],this.V="()",this.TI=0,this.combo=!1,Object.defineProperty(this,"edit",{enumerable:!0,
set:function(e){1==e?(this._edit=!0,this.combo=!0):this._edit=!1},get:function(){return!!this._edit&&this._edit},configurable:!1}),this.hasAppearanceStream=!0,Object.defineProperty(this,"V",{get:function(){o.internal.toPdfString()}})},o.internal.inherit(o.ChoiceField,o.Field),window.ChoiceField=o.ChoiceField,o.ListBox=function(){o.ChoiceField.call(this)},o.internal.inherit(o.ListBox,o.ChoiceField),window.ListBox=o.ListBox,o.ComboBox=function(){o.ListBox.call(this),this.combo=!0},o.internal.inherit(o.ComboBox,o.ListBox),window.ComboBox=o.ComboBox,o.EditBox=function(){o.ComboBox.call(this),this.edit=!0},o.internal.inherit(o.EditBox,o.ComboBox),window.EditBox=o.EditBox,o.Button=function(){o.Field.call(this),this.FT="/Btn"},o.internal.inherit(o.Button,o.Field),window.Button=o.Button,o.PushButton=function(){o.Button.call(this),this.pushbutton=!0},o.internal.inherit(o.PushButton,o.Button),window.PushButton=o.PushButton,o.RadioButton=function(){o.Button.call(this),this.radio=!0;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,get:function(){if(e.length>0)return e}}),Object.defineProperty(this,"__Kids",{get:function(){return e}});var t;Object.defineProperty(this,"noToggleToOff",{enumerable:!1,get:function(){return t},set:function(e){t=e}})},o.internal.inherit(o.RadioButton,o.Button),window.RadioButton=o.RadioButton,o.ChildClass=function(e,t){o.Field.call(this),this.Parent=e,this._AppearanceType=o.Appearance.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(t),this.F=o.internal.setBitPosition(this.F,3,1),this.MK=this._AppearanceType.createMK(),this.AS="/Off",this._Name=t},o.internal.inherit(o.ChildClass,o.Field),o.RadioButton.prototype.setAppearance=function(e){if("createAppearanceStream"in e&&"createMK"in e)for(var t in this.__Kids){var n=this.__Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n._Name),n.MK=e.createMK()}else console.log("Couldn't assign Appearance to RadioButton. Appearance was Invalid!")},o.RadioButton.prototype.createOption=function(e){var t=this,n=new o.ChildClass(t,e);return this.__Kids.push(n),r.API.addField(n),n},o.CheckBox=function(){Button.call(this),this.appearanceStreamContent=o.Appearance.CheckBox.createAppearanceStream(),this.MK=o.Appearance.CheckBox.createMK(),this.AS="/On",this.V="/On"},o.internal.inherit(o.CheckBox,o.Button),window.CheckBox=o.CheckBox,o.TextField=function(){o.Field.call(this),this.DA=o.Appearance.createDefaultAppearanceStream(),this.F=4;var e;Object.defineProperty(this,"V",{get:function(){return e?"("+e+")":e},enumerable:!0,set:function(t){e=t}});var t;Object.defineProperty(this,"DV",{get:function(){return t?"("+t+")":t},enumerable:!0,set:function(e){t=e}});var n=!1;Object.defineProperty(this,"multiline",{enumerable:!1,get:function(){return n},set:function(e){n=e}});var r=!1;Object.defineProperty(this,"MaxLen",{enumerable:!0,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,get:function(){return this.V||this.DV}})},o.internal.inherit(o.TextField,o.Field),window.TextField=o.TextField,o.PasswordField=function(){TextField.call(this),Object.defineProperty(this,"password",{value:!0,enumerable:!1,configurable:!1,writable:!1})},o.internal.inherit(o.PasswordField,o.TextField),window.PasswordField=o.PasswordField,o.internal.calculateFontSpace=function(e,t,n){var n=n||"helvetica",r=o.internal.calculateFontSpace.canvas||(o.internal.calculateFontSpace.canvas=document.createElement("canvas"));(s=r.getContext("2d")).save();var a=t+" "+n;s.font=a;var i=s.measureText(e);s.fontcolor="black";var s=r.getContext("2d");return i.height=1.5*s.measureText("3").width,s.restore(),i},o.internal.calculateX=function(e,t,n,r){var r=r||12,n=n||"helvetica",a={text:"",fontSize:""},i=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" "),s=r,l=o.Appearance.internal.getHeight(e)||0;l=l<0?-l:l;var c=o.Appearance.internal.getWidth(e)||0;c=c<0?-c:c,s++;e:for(;;){var t="";s--;var u=o.internal.calculateFontSpace("3",s+"px",n).height,p=e.multiline?l-s:(l-u)/2,f=-2,d=p+=2,h=0,m=0,y=0;if(0==s){s=12,t="(...) Tj\n",t+="% Width of Text: "+o.internal.calculateFontSpace(t,"1px").width+", FieldWidth:"+c+"\n";break}y=o.internal.calculateFontSpace(i[0]+" ",s+"px",n).width;var g="",v=0;for(var b in i){g=" "==(g+=i[b]+" ").substr(g.length-1)?g.substr(0,g.length-1):g;var w=parseInt(b);y=o.internal.calculateFontSpace(g+" ",s+"px",n).width;var C=function(e,t,r){if(e+1<i.length){var a=t+" "+i[e+1];return o.internal.calculateFontSpace(a,r+"px",n).width<=c-4}return!1}(w,g,s),T=b>=i.length-1;if(!C||T){if(C||T){if(T)m=w;else if(e.multiline&&(u+2)*(v+2)+2>l)continue e}else{if(!e.multiline)continue e;if((u+2)*(v+2)+2>l)continue e;m=w}for(var S="",x=h;x<=m;x++)S+=i[x]+" ";switch(S=" "==S.substr(S.length-1)?S.substr(0,S.length-1):S,y=o.internal.calculateFontSpace(S,s+"px",n).width,e.Q){case 2:f=c-y-2;break;case 1:f=(c-y)/2;break;case 0:default:f=2}t+=f+" "+d+" Td\n",t+="("+S+") Tj\n",t+=-f+" 0 Td\n",d=-(s+2),y=0,h=m+1,v++,g=""}else g+=" "}break}return a.text=t,a.fontSize=s,a},o.internal.calculateAppearanceStream=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t="",n=e.V||e.DV,r=o.internal.calculateX(e,n);t+="/Tx BMC\nq\n/F1 "+r.fontSize+" Tf\n1 0 0 1 0 0 Tm\n",t+="BT\n",t+=r.text,t+="ET\n",t+="Q\nEMC\n";var a=new o.createFormXObject(e);return a.stream=t,a}},o.internal.calculateCoordinates=function(e,t,n,r){var a={};if(this.internal){var i=function(e){return e*this.internal.scaleFactor};Array.isArray(e)?(e[0]=o.scale(e[0]),e[1]=o.scale(e[1]),e[2]=o.scale(e[2]),e[3]=o.scale(e[3]),a.lowerLeft_X=e[0]||0,a.lowerLeft_Y=i.call(this,this.internal.pageSize.height)-e[3]-e[1]||0,a.upperRight_X=e[0]+e[2]||0,a.upperRight_Y=i.call(this,this.internal.pageSize.height)-e[1]||0):(e=o.scale(e),t=o.scale(t),n=o.scale(n),r=o.scale(r),a.lowerLeft_X=e||0,a.lowerLeft_Y=this.internal.pageSize.height-t||0,a.upperRight_X=e+n||0,a.upperRight_Y=this.internal.pageSize.height-t+r||0)}else Array.isArray(e)?(a.lowerLeft_X=e[0]||0,a.lowerLeft_Y=e[1]||0,a.upperRight_X=e[0]+e[2]||0,a.upperRight_Y=e[1]+e[3]||0):(a.lowerLeft_X=e||0,a.lowerLeft_Y=t||0,a.upperRight_X=e+n||0,a.upperRight_Y=t+r||0);return[a.lowerLeft_X,a.lowerLeft_Y,a.upperRight_X,a.upperRight_Y]},o.internal.calculateColor=function(e,t,n){var r=new Array(3);return r.r=0|e,r.g=0|t,r.b=0|n,r},o.internal.getBitPosition=function(e,t){var n=1;return n<<=t-1,(e=e||0)|n},o.internal.setBitPosition=function(e,t,n){e=e||0;var r=1;if(r<<=t-1,1==(n=n||1))e|=r;else var e=e&~r;return e},r.API.addHTML=function(e,t,n,r,o){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!=typeof t&&(r=t,o=n),"function"==typeof r&&(o=r,r=null);var a=this.internal,i=a.scaleFactor,s=a.pageSize.width,l=a.pageSize.height;if(r=r||{},r.onrendered=function(e){t=parseInt(t)||0,n=parseInt(n)||0;var a=r.dim||{},c=a.h||0,u=a.w||Math.min(s,e.width/i)-t,p="JPEG";if(r.format&&(p=r.format),e.height>l&&r.pagesplit){var f=function(){for(var r=0;;){var a=document.createElement("canvas");a.width=Math.min(s*i,e.width),a.height=Math.min(l*i,e.height-r),a.getContext("2d").drawImage(e,0,r,e.width,a.height,0,0,a.width,a.height);var c=[a,t,r?0:n,a.width/i,a.height/i,p,null,"SLOW"];if(this.addImage.apply(this,c),(r+=a.height)>=e.height)break;this.addPage()}o(u,r,null,c)}.bind(this);if("CANVAS"===e.nodeName){var d=new Image;d.onload=f,d.src=e.toDataURL("image/png"),e=d}else f()}else{var h=Math.random().toString(35),m=[e,t,n,u,c,p,h,"SLOW"];this.addImage.apply(this,m),o(u,c,h,m)}}.bind(this),"undefined"!=typeof html2canvas&&!r.rstz)return html2canvas(e,r);if("undefined"!=typeof rasterizeHTML){var c="drawDocument";return"string"==typeof e&&(c=/^http/.test(e)?"drawURL":"drawHTML"),r.width=r.width||s*i,rasterizeHTML[c](e,void 0,r).then(function(e){r.onrendered(e.image)},function(e){o(null,e)})}return null},function(e){var t=["jpeg","jpg","png"],r=function e(t){var n=this.internal.newObject(),r=this.internal.write,o=this.internal.putStream;if(t.n=n,r("<</Type /XObject"),r("/Subtype /Image"),r("/Width "+t.w),r("/Height "+t.h),t.cs===this.color_spaces.INDEXED?r("/ColorSpace [/Indexed /DeviceRGB "+(t.pal.length/3-1)+" "+("smask"in t?n+2:n+1)+" 0 R]"):(r("/ColorSpace /"+t.cs),t.cs===this.color_spaces.DEVICE_CMYK&&r("/Decode [1 0 1 0 1 0 1 0]")),r("/BitsPerComponent "+t.bpc),"f"in t&&r("/Filter /"+t.f),"dp"in t&&r("/DecodeParms <<"+t.dp+">>"),"trns"in t&&t.trns.constructor==Array){for(var a="",i=0,s=t.trns.length;i<s;i++)a+=t.trns[i]+" "+t.trns[i]+" ";r("/Mask ["+a+"]")}if("smask"in t&&r("/SMask "+(n+1)+" 0 R"),r("/Length "+t.data.length+">>"),o(t.data),r("endobj"),"smask"in t){var l="/Predictor "+t.p+" /Colors 1 /BitsPerComponent "+t.bpc+" /Columns "+t.w,c={w:t.w,h:t.h,cs:"DeviceGray",bpc:t.bpc,dp:l,data:t.smask};"f"in t&&(c.f=t.f),e.call(this,c)}t.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),r("<< /Length "+t.pal.length+">>"),o(this.arrayBufferToBinaryString(new Uint8Array(t.pal))),r("endobj"))},o=function(){var e=this.internal.collections.addImage_images;for(var t in e)r.call(this,e[t])},a=function(){var e,t=this.internal.collections.addImage_images,n=this.internal.write;for(var r in t)n("/I"+(e=t[r]).i,e.n,"0","R")},i=function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:e.image_compression.NONE},s=function(){var e=this.internal.collections.addImage_images;return e||(this.internal.collections.addImage_images=e={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a)),e},l=function(e){var t=0;return e&&(t=Object.keys?Object.keys(e).length:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t}(e)),t},c=function(e){return void 0===e||null===e},u=function(t){return"string"==typeof t&&e.sHashCode(t)},p=function(e){return-1===t.indexOf(e)},f=function(t){return"function"!=typeof e["process"+t.toUpperCase()]},d=function(e){return"object"===(void 0===e?"undefined":n(e))&&1===e.nodeType},h=function(e,t,r){if("IMG"===e.nodeName&&e.hasAttribute("src")){var o=""+e.getAttribute("src");if(!r&&0===o.indexOf("data:image/"))return o;!t&&/\.png(?:[?#].*)?$/i.test(o)&&(t="png")}if("CANVAS"===e.nodeName)var a=e;else{(a=document.createElement("canvas")).width=e.clientWidth||e.width,a.height=e.clientHeight||e.height;var i=a.getContext("2d");if(!i)throw"addImage requires canvas to be supported by browser.";if(r){var s,l,c,u,p,f,d,h,m=Math.PI/180;"object"===(void 0===r?"undefined":n(r))&&(s=r.x,l=r.y,c=r.bg,r=r.angle),h=r*m,u=Math.abs(Math.cos(h)),p=Math.abs(Math.sin(h)),f=a.width,d=a.height,a.width=d*p+f*u,a.height=d*u+f*p,isNaN(s)&&(s=a.width/2),isNaN(l)&&(l=a.height/2),i.clearRect(0,0,a.width,a.height),i.fillStyle=c||"white",i.fillRect(0,0,a.width,a.height),i.save(),i.translate(s,l),i.rotate(h),i.drawImage(e,-f/2,-d/2),i.rotate(-h),i.translate(-s,-l),i.restore()}else i.drawImage(e,0,0,a.width,a.height)}return a.toDataURL("png"==(""+t).toLowerCase()?"image/png":"image/jpeg")},m=function(e,t){var n;if(t)for(var r in t)if(e===t[r].alias){n=t[r];break}return n},y=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.w*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.h*72/t/this.internal.scaleFactor),0===e&&(e=t*n.w/n.h),0===t&&(t=e*n.h/n.w),[e,t]},g=function(e,t,n,r,o,a,i){var s=y.call(this,n,r,o),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;n=s[0],r=s[1],i[a]=o,this.internal.write("q",l(n),"0 0",l(r),l(e),c(t+r),"cm /I"+o.i,"Do Q")};e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},e.sHashCode=function(e){return Array.prototype.reduce&&e.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0)},e.isString=function(e){return"string"==typeof e},e.extractInfoFromBase64DataURI=function(e){return/^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(e)},e.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},e.isArrayBuffer=function(e){return!!this.supportsArrayBuffer()&&e instanceof ArrayBuffer},e.isArrayBufferView=function(e){return!!this.supportsArrayBuffer()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},e.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},e.arrayBufferToBinaryString=function(e){if("function"==typeof window.atob)return atob(this.arrayBufferToBase64(e));for(var t=this.isArrayBuffer(e)?e:new Uint8Array(e),n="",r=Math.round(t.byteLength/20480),o=0;o<r;o++)n+=String.fromCharCode.apply(null,t.slice(20480*o,20480*o+20480));return n},e.arrayBufferToBase64=function(e){for(var t,n,r,o,a="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=new Uint8Array(e),l=s.byteLength,c=l%3,u=l-c,p=0;p<u;p+=3)t=(258048&(o=s[p]<<16|s[p+1]<<8|s[p+2]))>>12,n=(4032&o)>>6,r=63&o,a+=i[(16515072&o)>>18]+i[t]+i[n]+i[r];return 1==c?(t=(3&(o=s[u]))<<4,a+=i[(252&o)>>2]+i[t]+"=="):2==c&&(t=(1008&(o=s[u]<<8|s[u+1]))>>4,n=(15&o)<<2,a+=i[(64512&o)>>10]+i[t]+i[n]+"="),a},e.createImageInfo=function(e,t,n,r,o,a,i,s,l,c,u,p,f){var d={alias:s,w:t,h:n,cs:r,bpc:o,i:i,data:e};return a&&(d.f=a),l&&(d.dp=l),c&&(d.trns=c),u&&(d.pal=u),p&&(d.smask=p),f&&(d.p=f),d},e.addImage=function(e,r,o,a,y,v,b,w,C){if("string"!=typeof r){var T=v;v=y,y=a,a=o,o=r,r=T}if("object"===(void 0===e?"undefined":n(e))&&!d(e)&&"imageData"in e){var S=e;e=S.imageData,r=S.format||r,o=S.x||o||0,a=S.y||a||0,y=S.w||y,v=S.h||v,b=S.alias||b,w=S.compression||w,C=S.rotation||S.angle||C}if(isNaN(o)||isNaN(a))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var x,A=s.call(this);if(!(x=m(e,A))){var k;if(d(e)&&(e=h(e,r,C)),c(b)&&(b=u(e)),!(x=m(b,A))){if(this.isString(e)){var E=this.extractInfoFromBase64DataURI(e);E?(r=E[2],e=atob(E[3])):137===e.charCodeAt(0)&&80===e.charCodeAt(1)&&78===e.charCodeAt(2)&&71===e.charCodeAt(3)&&(r="png")}if(r=(r||"JPEG").toLowerCase(),p(r))throw new Error("addImage currently only supports formats "+t+", not '"+r+"'");if(f(r))throw new Error("please ensure that the plugin for '"+r+"' support is added");if(this.supportsArrayBuffer()&&(e instanceof Uint8Array||(k=e,e=this.binaryStringToUint8Array(e))),!(x=this["process"+r.toUpperCase()](e,l(A),b,i(w),k)))throw new Error("An unkwown error occurred whilst processing the image")}}return g.call(this,o,a,y,v,x,x.i,A),this};var v=function(e){var t,n,r;if(255===!e.charCodeAt(0)||216===!e.charCodeAt(1)||255===!e.charCodeAt(2)||224===!e.charCodeAt(3)||!e.charCodeAt(6)==="J".charCodeAt(0)||!e.charCodeAt(7)==="F".charCodeAt(0)||!e.charCodeAt(8)==="I".charCodeAt(0)||!e.charCodeAt(9)==="F".charCodeAt(0)||0===!e.charCodeAt(10))throw new Error("getJpegSize requires a binary string jpeg file");for(var o=256*e.charCodeAt(4)+e.charCodeAt(5),a=4,i=e.length;a<i;){if(a+=o,255!==e.charCodeAt(a))throw new Error("getJpegSize could not find the size of the image");if(192===e.charCodeAt(a+1)||193===e.charCodeAt(a+1)||194===e.charCodeAt(a+1)||195===e.charCodeAt(a+1)||196===e.charCodeAt(a+1)||197===e.charCodeAt(a+1)||198===e.charCodeAt(a+1)||199===e.charCodeAt(a+1))return n=256*e.charCodeAt(a+5)+e.charCodeAt(a+6),t=256*e.charCodeAt(a+7)+e.charCodeAt(a+8),r=e.charCodeAt(a+9),[t,n,r];a+=2,o=256*e.charCodeAt(a)+e.charCodeAt(a+1)}},b=function(e){if(65496!==(e[0]<<8|e[1]))throw new Error("Supplied data is not a JPEG");for(var t,n,r,o,a=e.length,i=(e[4]<<8)+e[5],s=4;s<a;){if(s+=i,t=w(e,s),i=(t[2]<<8)+t[3],(192===t[1]||194===t[1])&&255===t[0]&&i>7)return t=w(e,s+5),n=(t[2]<<8)+t[3],r=(t[0]<<8)+t[1],o=t[4],{width:n,height:r,numcomponents:o};s+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")},w=function(e,t){return e.subarray(t,t+5)};e.processJPEG=function(e,t,n,r,o){var a,i=this.color_spaces.DEVICE_RGB,s=this.decode.DCT_DECODE;return this.isString(e)?(a=v(e),this.createImageInfo(e,a[0],a[1],1==a[3]?this.color_spaces.DEVICE_GRAY:i,8,s,t,n)):(this.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.isArrayBufferView(e)?(a=b(e),e=o||this.arrayBufferToBinaryString(e),this.createImageInfo(e,a.width,a.height,1==a.numcomponents?this.color_spaces.DEVICE_GRAY:i,8,s,t,n)):null)},e.processJPG=function(){return this.processJPEG.apply(this,arguments)}}(r.API),function(e){var t={annotations:[],f2:function(e){return e.toFixed(2)},notEmpty:function(e){if(void 0!==e&&""!=e)return!0}};r.API.annotationPlugin=t,r.API.events.push(["addPage",function(e){this.annotationPlugin.annotations[e.pageNumber]=[]}]),e.events.push(["putPage",function(e){for(var n=this.annotationPlugin.annotations[e.pageNumber],r=!1,o=0;o<n.length&&!r;o++)switch((c=n[o]).type){case"link":if(t.notEmpty(c.options.url)||t.notEmpty(c.options.pageNumber)){r=!0;break}case"reference":case"text":case"freetext":r=!0}if(0!=r){this.internal.write("/Annots [");for(var a=this.annotationPlugin.f2,i=this.internal.scaleFactor,s=this.internal.pageSize.height,l=this.internal.getPageInfo(e.pageNumber),o=0;o<n.length;o++){var c=n[o];switch(c.type){case"reference":this.internal.write(" "+c.object.objId+" 0 R ");break;case"text":var u=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),f=c.title||"Note";g="<</Type /Annot /Subtype /Text "+(h="/Rect ["+a(c.bounds.x*i)+" "+a(s-(c.bounds.y+c.bounds.h)*i)+" "+a((c.bounds.x+c.bounds.w)*i)+" "+a((s-c.bounds.y)*i)+"] ")+"/Contents ("+c.contents+")",g+=" /Popup "+p.objId+" 0 R",g+=" /P "+l.objId+" 0 R",g+=" /T ("+f+") >>",u.content=g;var d=u.objId+" 0 R";g="<</Type /Annot /Subtype /Popup "+(h="/Rect ["+a((c.bounds.x+30)*i)+" "+a(s-(c.bounds.y+c.bounds.h)*i)+" "+a((c.bounds.x+c.bounds.w+30)*i)+" "+a((s-c.bounds.y)*i)+"] ")+" /Parent "+d,c.open&&(g+=" /Open true"),g+=" >>",p.content=g,this.internal.write(u.objId,"0 R",p.objId,"0 R");break;case"freetext":var h="/Rect ["+a(c.bounds.x*i)+" "+a((s-c.bounds.y)*i)+" "+a(c.bounds.x+c.bounds.w*i)+" "+a(s-(c.bounds.y+c.bounds.h)*i)+"] ",m=c.color||"#000000";g="<</Type /Annot /Subtype /FreeText "+h+"/Contents ("+c.contents+")",g+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+m+")",g+=" /Border [0 0 0]",g+=" >>",this.internal.write(g);break;case"link":if(c.options.name){var y=this.annotations._nameMap[c.options.name];c.options.pageNumber=y.page,c.options.top=y.y}else c.options.top||(c.options.top=0);var h="/Rect ["+a(c.x*i)+" "+a((s-c.y)*i)+" "+a((c.x+c.w)*i)+" "+a((s-(c.y+c.h))*i)+"] ",g="";if(c.options.url)g="<</Type /Annot /Subtype /Link "+h+"/Border [0 0 0] /A <</S /URI /URI ("+c.options.url+") >>";else if(c.options.pageNumber)switch(g="<</Type /Annot /Subtype /Link "+h+"/Border [0 0 0] /Dest ["+(e=this.internal.getPageInfo(c.options.pageNumber)).objId+" 0 R",c.options.magFactor=c.options.magFactor||"XYZ",c.options.magFactor){case"Fit":g+=" /Fit]";break;case"FitH":g+=" /FitH "+c.options.top+"]";break;case"FitV":c.options.left=c.options.left||0,g+=" /FitV "+c.options.left+"]";break;case"XYZ":default:var v=a((s-c.options.top)*i);c.options.left=c.options.left||0,void 0===c.options.zoom&&(c.options.zoom=0),g+=" /XYZ "+c.options.left+" "+v+" "+c.options.zoom+"]"}""!=g&&(g+=" >>",this.internal.write(g))}}this.internal.write("]")}}]),e.createAnnotation=function(e){switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push(e)}},e.link=function(e,t,n,r,o){this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push({x:e,y:t,w:n,h:r,options:o,type:"link"})},e.textWithLink=function(e,t,n,r){var o=this.getTextWidth(e),a=this.internal.getLineHeight()/this.internal.scaleFactor;return this.text(e,t,n),n+=.2*a,this.link(t,n-a,o,a,r),o},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor},e.getLineHeight=function(){return this.internal.getLineHeight()}}(r.API),r.API.autoPrint=function(){var e;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.write("<< /S/Named /Type/Action /N/Print >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+e+" 0 R")}),this},function(e){e.events.push(["initialized",function(){this.canvas.pdf=this}]),e.canvas={getContext:function(e){return this.pdf.context2d._canvas=this,this.pdf.context2d},style:{}},Object.defineProperty(e.canvas,"width",{get:function(){return this._width},set:function(e){this._width=e,this.getContext("2d").pageWrapX=e+1}}),Object.defineProperty(e.canvas,"height",{get:function(){return this._height},set:function(e){this._height=e,this.getContext("2d").pageWrapY=e+1}})}(r.API),function(e){var t,n,r,o,a={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},i=1,s=function(e,t,n,r,o){a={x:e,y:t,w:n,h:r,ln:o}},l=function(){return a},c={left:0,top:0,bottom:0};e.setHeaderFunction=function(e){o=e},e.getTextDimensions=function(e){t=this.internal.getFont().fontName,n=this.table_font_size||this.internal.getFontSize(),r=this.internal.getFont().fontStyle;var o,a;(a=document.createElement("font")).id="jsPDFCell";try{a.style.fontStyle=r}catch(e){a.style.fontWeight=r}a.style.fontName=t,a.style.fontSize=n+"pt";try{a.textContent=e}catch(t){a.innerText=e}return document.body.appendChild(a),o={w:(a.offsetWidth+1)*(19.049976/25.4),h:(a.offsetHeight+1)*(19.049976/25.4)},document.body.removeChild(a),o},e.cellAddPage=function(){var e=this.margins||c;this.addPage(),s(e.left,e.top,void 0,void 0),i+=1},e.cellInitialize=function(){a={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},i=1},e.cell=function(e,t,n,r,o,a,i){var u=l(),p=!1;if(void 0!==u.ln)if(u.ln===a)e=u.x+u.w,t=u.y;else{var f=this.margins||c;u.y+u.h+r+13>=this.internal.pageSize.height-f.bottom&&(this.cellAddPage(),p=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(a,!0)),t=l().y+l().h,p&&(t=23)}if(void 0!==o[0])if(this.printingHeaderRow?this.rect(e,t,n,r,"FD"):this.rect(e,t,n,r),"right"===i){o instanceof Array||(o=[o]);for(var d=0;d<o.length;d++){var h=o[d],m=this.getStringUnitWidth(h)*this.internal.getFontSize();this.text(h,e+n-m-3,t+this.internal.getLineHeight()*(d+1))}}else this.text(o,e+3,t+this.internal.getLineHeight());return s(e,t,n,r,a),this},e.arrayMax=function(e,t){var n,r,o,a=e[0];for(n=0,r=e.length;n<r;n+=1)o=e[n],t?-1===t(a,o)&&(a=o):o>a&&(a=o);return a},e.table=function(t,n,r,o,s){if(!r)throw"No data for PDF table";var l,u,p,f,d,h,m,y,g,v,b=[],w=[],C={},T={},S=[],x=[],A=!1,k=!0,E=12,M=c;if(M.width=this.internal.pageSize.width,s&&(!0===s.autoSize&&(A=!0),!1===s.printHeaders&&(k=!1),s.fontSize&&(E=s.fontSize),s.css&&void 0!==s.css["font-size"]&&(E=16*s.css["font-size"]),s.margins&&(M=s.margins)),this.lnMod=0,a={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},i=1,this.printHeaders=k,this.margins=M,this.setFontSize(E),this.table_font_size=E,void 0===o||null===o)b=Object.keys(r[0]);else if(o[0]&&"string"!=typeof o[0])for(u=0,p=o.length;u<p;u+=1)l=o[u],b.push(l.name),w.push(l.prompt),T[l.name]=l.width*(19.049976/25.4);else b=o;if(A)for(v=function(e){return e[l]},u=0,p=b.length;u<p;u+=1){for(C[l=b[u]]=r.map(v),S.push(this.getTextDimensions(w[u]||l).w),m=0,f=(h=C[l]).length;m<f;m+=1)d=h[m],S.push(this.getTextDimensions(d).w);T[l]=e.arrayMax(S),S=[]}if(k){for(_=this.calculateLineHeight(b,T,w.length?w:b),u=0,p=b.length;u<p;u+=1)l=b[u],x.push([t,n,T[l],_,String(w.length?w[u]:l)]);this.setTableHeaderRow(x),this.printHeaderRow(1,!1)}for(u=0,p=r.length;u<p;u+=1){var _;for(y=r[u],_=this.calculateLineHeight(b,T,y),m=0,g=b.length;m<g;m+=1)l=b[m],this.cell(t,n,T[l],_,y[l],u+2,l.align)}return this.lastCellPos=a,this.table_x=t,this.table_y=n,this},e.calculateLineHeight=function(e,t,n){for(var r,o=0,a=0;a<e.length;a++){n[r=e[a]]=this.splitTextToSize(String(n[r]),t[r]-3);var i=this.internal.getLineHeight()*n[r].length+3;i>o&&(o=i)}return o},e.setTableHeaderRow=function(e){this.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var n,r,a,l;if(this.printingHeaderRow=!0,void 0!==o){var c=o(this,i);s(c[0],c[1],c[2],c[3],-1)}this.setFontStyle("bold");var u=[];for(a=0,l=this.tableHeaderRow.length;a<l;a+=1)this.setFillColor(200,200,200),n=this.tableHeaderRow[a],t&&(this.margins.top=13,n[1]=this.margins&&this.margins.top||0,u.push(n)),r=[].concat(n),this.cell.apply(this,r.concat(e));u.length>0&&this.setTableHeaderRow(u),this.setFontStyle("normal"),this.printingHeaderRow=!1}}(r.API),function(e){function t(){this._isStrokeTransparent=!1,this._strokeOpacity=1,this.strokeStyle="#000000",this.fillStyle="#000000",this._isFillTransparent=!1,this._fillOpacity=1,this.font="12pt times",this.textBaseline="alphabetic",this.textAlign="start",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this._transform=[1,0,0,1,0,0],this.globalCompositeOperation="normal",this.globalAlpha=1,this._clip_path=[],this.ignoreClearRect=!1,this.copy=function(e){this._isStrokeTransparent=e._isStrokeTransparent,this._strokeOpacity=e._strokeOpacity,this.strokeStyle=e.strokeStyle,this._isFillTransparent=e._isFillTransparent,this._fillOpacity=e._fillOpacity,this.fillStyle=e.fillStyle,this.font=e.font,this.lineWidth=e.lineWidth,this.lineJoin=e.lineJoin,this.lineCap=e.lineCap,this.textBaseline=e.textBaseline,this.textAlign=e.textAlign,this._fontSize=e._fontSize,this._transform=e._transform.slice(0),this.globalCompositeOperation=e.globalCompositeOperation,this.globalAlpha=e.globalAlpha,this._clip_path=e._clip_path.slice(0),this.ignoreClearRect=e.ignoreClearRect}}e.events.push(["initialized",function(){this.context2d.pdf=this,this.context2d.internal.pdf=this,this.context2d.ctx=new t,this.context2d.ctxStack=[],this.context2d.path=[]}]),e.context2d={pageWrapXEnabled:!1,pageWrapYEnabled:!1,pageWrapX:9999999,pageWrapY:9999999,ctx:new t,f2:function(e){return e.toFixed(2)},fillRect:function(e,t,n,r){if(!this._isFillTransparent()){e=this._wrapX(e),t=this._wrapY(t);var o=this._matrix_map_rect(this.ctx._transform,{x:e,y:t,w:n,h:r});this.pdf.rect(o.x,o.y,o.w,o.h,"f")}},strokeRect:function(e,t,n,r){if(!this._isStrokeTransparent()){e=this._wrapX(e),t=this._wrapY(t);var o=this._matrix_map_rect(this.ctx._transform,{x:e,y:t,w:n,h:r});this.pdf.rect(o.x,o.y,o.w,o.h,"s")}},clearRect:function(e,t,n,r){if(!this.ctx.ignoreClearRect){e=this._wrapX(e),t=this._wrapY(t);var o=this._matrix_map_rect(this.ctx._transform,{x:e,y:t,w:n,h:r});this.save(),this.setFillStyle("#ffffff"),this.pdf.rect(o.x,o.y,o.w,o.h,"f"),this.restore()}},save:function(){this.ctx._fontSize=this.pdf.internal.getFontSize();var e=new t;e.copy(this.ctx),this.ctxStack.push(this.ctx),this.ctx=e},restore:function(){this.ctx=this.ctxStack.pop(),this.setFillStyle(this.ctx.fillStyle),this.setStrokeStyle(this.ctx.strokeStyle),this.setFont(this.ctx.font),this.pdf.setFontSize(this.ctx._fontSize),this.setLineCap(this.ctx.lineCap),this.setLineWidth(this.ctx.lineWidth),this.setLineJoin(this.ctx.lineJoin)},rect:function(e,t,n,r){this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.closePath()},beginPath:function(){this.path=[]},closePath:function(){this.path.push({type:"close"})},_getRGBA:function(e){var t,n,r,o;if(!e)return{r:0,g:0,b:0,a:0,style:e};if(this.internal.rxTransparent.test(e))t=0,n=0,r=0,o=0;else{var a=this.internal.rxRgb.exec(e);null!=a?(t=parseInt(a[1]),n=parseInt(a[2]),r=parseInt(a[3]),o=1):null!=(a=this.internal.rxRgba.exec(e))?(t=parseInt(a[1]),n=parseInt(a[2]),r=parseInt(a[3]),o=parseFloat(a[4])):(o=1,"#"!=e.charAt(0)&&((e=i.colorNameToHex(e))||(e="#000000")),4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16))}return{r:t,g:n,b:r,a:o,style:e}},setFillStyle:function(e){var t=this._getRGBA(e);this.ctx.fillStyle=e,this.ctx._isFillTransparent=0===t.a,this.ctx._fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})},setStrokeStyle:function(e){var t=this._getRGBA(e);this.ctx.strokeStyle=t.style,this.ctx._isStrokeTransparent=0===t.a,this.ctx._strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))},fillText:function(e,t,n,r){if(!this._isFillTransparent()){t=this._wrapX(t),n=this._wrapY(n);var o=this._matrix_map_point(this.ctx._transform,[t,n]);t=o[0],n=o[1];var a=57.2958*this._matrix_rotation(this.ctx._transform);if(this.ctx._clip_path.length>0){var i;(i=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var s=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(null,!0),this.ctx._clip_path=this.path,this.path=s}var l=1;try{l=this._matrix_decompose(this._getTransform()).scale[0]}catch(e){console.warn(e)}if(l<.01)this.pdf.text(e,t,this._getBaseline(n),null,a);else{var c=this.pdf.internal.getFontSize();this.pdf.setFontSize(c*l),this.pdf.text(e,t,this._getBaseline(n),null,a),this.pdf.setFontSize(c)}this.ctx._clip_path.length>0&&i.push("Q")}},strokeText:function(e,t,n,r){if(!this._isStrokeTransparent()){t=this._wrapX(t),n=this._wrapY(n);var o=this._matrix_map_point(this.ctx._transform,[t,n]);t=o[0],n=o[1];var a=57.2958*this._matrix_rotation(this.ctx._transform);if(this.ctx._clip_path.length>0){var i;(i=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var s=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(null,!0),this.ctx._clip_path=this.path,this.path=s}var l=1;try{l=this._matrix_decompose(this._getTransform()).scale[0]}catch(e){console.warn(e)}if(1===l)this.pdf.text(e,t,this._getBaseline(n),{stroke:!0},a);else{var c=this.pdf.internal.getFontSize();this.pdf.setFontSize(c*l),this.pdf.text(e,t,this._getBaseline(n),{stroke:!0},a),this.pdf.setFontSize(c)}this.ctx._clip_path.length>0&&i.push("Q")}},setFont:function(e){this.ctx.font=e;var t=/\s*(\w+)\s+(\w+)\s+(\w+)\s+([\d\.]+)(px|pt|em)\s+(.*)?/;if(null!=(u=t.exec(e))){var n=u[1],r=u[3],o=u[4],a=u[5],i=u[6];o="px"===a?Math.floor(parseFloat(o)):"em"===a?Math.floor(parseFloat(o)*this.pdf.getFontSize()):Math.floor(parseFloat(o)),this.pdf.setFontSize(o),"bold"===r||"700"===r?this.pdf.setFontStyle("bold"):"italic"===n?this.pdf.setFontStyle("italic"):this.pdf.setFontStyle("normal");var s,l=(f=i).toLowerCase().split(/\s*,\s*/);s=-1!=l.indexOf("arial")?"Arial":-1!=l.indexOf("verdana")?"Verdana":-1!=l.indexOf("helvetica")?"Helvetica":-1!=l.indexOf("sans-serif")?"sans-serif":-1!=l.indexOf("fixed")?"Fixed":-1!=l.indexOf("monospace")?"Monospace":-1!=l.indexOf("terminal")?"Terminal":-1!=l.indexOf("courier")?"Courier":-1!=l.indexOf("times")?"Times":-1!=l.indexOf("cursive")?"Cursive":-1!=l.indexOf("fantasy")?"Fantasy":(l.indexOf("serif"),"Serif");var c;c="bold"===r?"bold":"normal",this.pdf.setFont(s,c)}else{var u=(t=/\s*(\d+)(pt|px|em)\s+([\w "]+)\s*([\w "]+)?/).exec(e);if(null!=u){var p=u[1],f=u[3];(c=u[4])||(c="normal"),
p="em"===a?Math.floor(parseFloat(o)*this.pdf.getFontSize()):Math.floor(parseFloat(p)),this.pdf.setFontSize(p),this.pdf.setFont(f,c)}}},setTextBaseline:function(e){this.ctx.textBaseline=e},getTextBaseline:function(){return this.ctx.textBaseline},setTextAlign:function(e){this.ctx.textAlign=e},getTextAlign:function(){return this.ctx.textAlign},setLineWidth:function(e){this.ctx.lineWidth=e,this.pdf.setLineWidth(e)},setLineCap:function(e){this.ctx.lineCap=e,this.pdf.setLineCap(e)},setLineJoin:function(e){this.ctx.lineJoin=e,this.pdf.setLineJoin(e)},moveTo:function(e,t){e=this._wrapX(e),t=this._wrapY(t);var n=this._matrix_map_point(this.ctx._transform,[e,t]),r={type:"mt",x:e=n[0],y:t=n[1]};this.path.push(r)},_wrapX:function(e){return this.pageWrapXEnabled?e%this.pageWrapX:e},_wrapY:function(e){return this.pageWrapYEnabled?(this._gotoPage(this._page(e)),(e-this.lastBreak)%this.pageWrapY):e},transform:function(e,t,n,r,o,a){this.ctx._transform=[e,t,n,r,o,a]},setTransform:function(e,t,n,r,o,a){this.ctx._transform=[e,t,n,r,o,a]},_getTransform:function(){return this.ctx._transform},lastBreak:0,pageBreaks:[],_page:function(e){if(this.pageWrapYEnabled){this.lastBreak=0;for(var t=0,n=0,r=0;r<this.pageBreaks.length;r++)if(e>=this.pageBreaks[r]){t++,0===this.lastBreak&&n++;var o=this.pageBreaks[r]-this.lastBreak;this.lastBreak=this.pageBreaks[r],n+=a=Math.floor(o/this.pageWrapY)}if(0===this.lastBreak){var a=Math.floor(e/this.pageWrapY)+1;n+=a}return n+t}return this.pdf.internal.getCurrentPageInfo().pageNumber},_gotoPage:function(e){},lineTo:function(e,t){e=this._wrapX(e),t=this._wrapY(t);var n=this._matrix_map_point(this.ctx._transform,[e,t]),r={type:"lt",x:e=n[0],y:t=n[1]};this.path.push(r)},bezierCurveTo:function(e,t,n,r,o,a){e=this._wrapX(e),t=this._wrapY(t),n=this._wrapX(n),r=this._wrapY(r),o=this._wrapX(o),a=this._wrapY(a);var i;o=(i=this._matrix_map_point(this.ctx._transform,[o,a]))[0],a=i[1];var s={type:"bct",x1:e=(i=this._matrix_map_point(this.ctx._transform,[e,t]))[0],y1:t=i[1],x2:n=(i=this._matrix_map_point(this.ctx._transform,[n,r]))[0],y2:r=i[1],x:o,y:a};this.path.push(s)},quadraticCurveTo:function(e,t,n,r){e=this._wrapX(e),t=this._wrapY(t),n=this._wrapX(n),r=this._wrapY(r);var o;n=(o=this._matrix_map_point(this.ctx._transform,[n,r]))[0],r=o[1];var a={type:"qct",x1:e=(o=this._matrix_map_point(this.ctx._transform,[e,t]))[0],y1:t=o[1],x:n,y:r};this.path.push(a)},arc:function(e,t,n,r,o,a){if(e=this._wrapX(e),t=this._wrapY(t),!this._matrix_is_identity(this.ctx._transform)){var i=this._matrix_map_point(this.ctx._transform,[e,t]);e=i[0],t=i[1];var s=this._matrix_map_point(this.ctx._transform,[0,0]),l=this._matrix_map_point(this.ctx._transform,[0,n]);n=Math.sqrt(Math.pow(l[0]-s[0],2)+Math.pow(l[1]-s[1],2))}var c={type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:o,anticlockwise:a};this.path.push(c)},drawImage:function(e,t,n,r,o,a,i,s,l){void 0!==a&&(t=a,n=i,r=s,o=l),t=this._wrapX(t),n=this._wrapY(n);var c,u=this._matrix_map_rect(this.ctx._transform,{x:t,y:n,w:r,h:o}),p=(this._matrix_map_rect(this.ctx._transform,{x:a,y:i,w:s,h:l}),/data:image\/(\w+).*/i.exec(e));c=null!=p?p[1]:"png",this.pdf.addImage(e,c,u.x,u.y,u.w,u.h)},_matrix_multiply:function(e,t){var n=t[0],r=t[1],o=t[2],a=t[3],i=t[4],s=t[5],l=n*e[0]+r*e[2],c=o*e[0]+a*e[2],u=i*e[0]+s*e[2]+e[4];return r=n*e[1]+r*e[3],a=o*e[1]+a*e[3],s=i*e[1]+s*e[3]+e[5],n=l,o=c,i=u,[n,r,o,a,i,s]},_matrix_rotation:function(e){return Math.atan2(e[2],e[0])},_matrix_decompose:function(e){var t=e[0],n=e[1],r=e[2],o=e[3],a=Math.sqrt(t*t+n*n),i=(t/=a)*r+(n/=a)*o;r-=t*i,o-=n*i;var s=Math.sqrt(r*r+o*o);return r/=s,o/=s,i/=s,t*o<n*r&&(t=-t,n=-n,i=-i,a=-a),{scale:[a,0,0,s,0,0],translate:[1,0,0,1,e[4],e[5]],rotate:[t,n,-n,t,0,0],skew:[1,0,i,1,0,0]}},_matrix_map_point:function(e,t){var n=e[0],r=e[1],o=e[2],a=e[3],i=e[4],s=e[5],l=t[0],c=t[1];return[l*n+c*o+i,l*r+c*a+s]},_matrix_map_point_obj:function(e,t){var n=this._matrix_map_point(e,[t.x,t.y]);return{x:n[0],y:n[1]}},_matrix_map_rect:function(e,t){var n=this._matrix_map_point(e,[t.x,t.y]),r=this._matrix_map_point(e,[t.x+t.w,t.y+t.h]);return{x:n[0],y:n[1],w:r[0]-n[0],h:r[1]-n[1]}},_matrix_is_identity:function(e){return 1==e[0]&&0==e[1]&&0==e[2]&&1==e[3]&&0==e[4]&&0==e[5]},rotate:function(e){var t=[Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0];this.ctx._transform=this._matrix_multiply(this.ctx._transform,t)},scale:function(e,t){var n=[e,0,0,t,0,0];this.ctx._transform=this._matrix_multiply(this.ctx._transform,n)},translate:function(e,t){var n=[1,0,0,1,e,t];this.ctx._transform=this._matrix_multiply(this.ctx._transform,n)},stroke:function(){if(this.ctx._clip_path.length>0){var e;(e=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var t=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._stroke(!0),this.ctx._clip_path=this.path,this.path=t,this._stroke(!1),e.push("Q")}else this._stroke(!1)},_stroke:function(e){if(e||!this._isStrokeTransparent()){for(var t=[],n=this.path,r=0;r<n.length;r++){var o=n[r];switch(o.type){case"mt":t.push({start:o,deltas:[],abs:[]});break;case"lt":p=[o.x-n[r-1].x,o.y-n[r-1].y],t[t.length-1].deltas.push(p),t[t.length-1].abs.push(o);break;case"bct":p=[o.x1-n[r-1].x,o.y1-n[r-1].y,o.x2-n[r-1].x,o.y2-n[r-1].y,o.x-n[r-1].x,o.y-n[r-1].y],t[t.length-1].deltas.push(p);break;case"qct":var a=n[r-1].x+2/3*(o.x1-n[r-1].x),i=n[r-1].y+2/3*(o.y1-n[r-1].y),s=o.x+2/3*(o.x1-o.x),l=o.y+2/3*(o.y1-o.y),c=o.x,u=o.y,p=[a-n[r-1].x,i-n[r-1].y,s-n[r-1].x,l-n[r-1].y,c-n[r-1].x,u-n[r-1].y];t[t.length-1].deltas.push(p);break;case"arc":0==t.length&&t.push({start:{x:0,y:0},deltas:[],abs:[]}),t[t.length-1].arc=!0,t[t.length-1].abs.push(o)}}for(r=0;r<t.length;r++){var f;if(f=r==t.length-1?"s":null,t[r].arc)for(var d=t[r].abs,h=0;h<d.length;h++){var m=d[h],y=360*m.startAngle/(2*Math.PI),g=360*m.endAngle/(2*Math.PI),v=m.x,b=m.y;this.internal.arc2(this,v,b,m.radius,y,g,m.anticlockwise,f,e)}else{var v=t[r].start.x,b=t[r].start.y;e?(this.pdf.lines(t[r].deltas,v,b,null,null),this.pdf.clip_fixed()):this.pdf.lines(t[r].deltas,v,b,null,f)}}}},_isFillTransparent:function(){return this.ctx._isFillTransparent||0==this.globalAlpha},_isStrokeTransparent:function(){return this.ctx._isStrokeTransparent||0==this.globalAlpha},fill:function(e){if(this.ctx._clip_path.length>0){var t;(t=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var n=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(e,!0),this.ctx._clip_path=this.path,this.path=n,this._fill(e,!1),t.push("Q")}else this._fill(e,!1)},_fill:function(e,t){if(!this._isFillTransparent()){var r,o="function"==typeof this.pdf.internal.newObject2;r=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();var a=[],i=window.outIntercept;if(o)switch(this.ctx.globalCompositeOperation){case"normal":case"source-over":break;case"destination-in":case"destination-out":var s=this.pdf.internal.newStreamObject(),l=this.pdf.internal.newObject2();l.push("<</Type /ExtGState"),l.push("/SMask <</S /Alpha /G "+s.objId+" 0 R>>"),l.push(">>"),d="MASK"+l.objId,this.pdf.internal.addGraphicsState(d,l.objId);var c="/"+d+" gs";r.splice(0,0,"q"),r.splice(1,0,c),r.push("Q"),window.outIntercept=s;break;default:var u="/"+this.pdf.internal.blendModeMap[this.ctx.globalCompositeOperation.toUpperCase()];u&&this.pdf.internal.out(u+" gs")}var p=this.ctx.globalAlpha;if(this.ctx._fillOpacity<1&&(p=this.ctx._fillOpacity),o){var f=this.pdf.internal.newObject2();f.push("<</Type /ExtGState"),f.push("/CA "+p),f.push("/ca "+p),f.push(">>");var d="GS_O_"+f.objId;this.pdf.internal.addGraphicsState(d,f.objId),this.pdf.internal.out("/"+d+" gs")}for(var h=this.path,m=0;m<h.length;m++){var y=h[m];switch(y.type){case"mt":a.push({start:y,deltas:[],abs:[]});break;case"lt":S=[y.x-h[m-1].x,y.y-h[m-1].y],a[a.length-1].deltas.push(S),a[a.length-1].abs.push(y);break;case"bct":S=[y.x1-h[m-1].x,y.y1-h[m-1].y,y.x2-h[m-1].x,y.y2-h[m-1].y,y.x-h[m-1].x,y.y-h[m-1].y],a[a.length-1].deltas.push(S);break;case"qct":var g=h[m-1].x+2/3*(y.x1-h[m-1].x),v=h[m-1].y+2/3*(y.y1-h[m-1].y),b=y.x+2/3*(y.x1-y.x),w=y.y+2/3*(y.y1-y.y),C=y.x,T=y.y,S=[g-h[m-1].x,v-h[m-1].y,b-h[m-1].x,w-h[m-1].y,C-h[m-1].x,T-h[m-1].y];a[a.length-1].deltas.push(S);break;case"arc":0===a.length&&a.push({deltas:[],abs:[]}),a[a.length-1].arc=!0,a[a.length-1].abs.push(y);break;case"close":a.push({close:!0})}}for(m=0;m<a.length;m++){var x;if(m==a.length-1?(x="f","evenodd"===e&&(x+="*")):x=null,a[m].close)this.pdf.internal.out("h"),this.pdf.internal.out("f");else if(a[m].arc){a[m].start&&this.internal.move2(this,a[m].start.x,a[m].start.y);for(var A=a[m].abs,k=0;k<A.length;k++){var E=A[k];if(void 0!==E.startAngle){var M=360*E.startAngle/(2*Math.PI),_=360*E.endAngle/(2*Math.PI),P=E.x,O=E.y;if(0===k&&this.internal.move2(this,P,O),this.internal.arc2(this,P,O,E.radius,M,_,E.anticlockwise,null,t),k===A.length-1&&a[m].start){var P=a[m].start.x,O=a[m].start.y;this.internal.line2(n,P,O)}}else this.internal.line2(n,E.x,E.y)}}else{var P=a[m].start.x,O=a[m].start.y;t?(this.pdf.lines(a[m].deltas,P,O,null,null),this.pdf.clip_fixed()):this.pdf.lines(a[m].deltas,P,O,null,x)}}window.outIntercept=i}},pushMask:function(){if("function"==typeof this.pdf.internal.newObject2){var e=this.pdf.internal.newStreamObject(),t=this.pdf.internal.newObject2();t.push("<</Type /ExtGState"),t.push("/SMask <</S /Alpha /G "+e.objId+" 0 R>>"),t.push(">>");var n="MASK"+t.objId;this.pdf.internal.addGraphicsState(n,t.objId);var r="/"+n+" gs";this.pdf.internal.out(r)}else console.log("jsPDF v2 not enabled")},clip:function(){if(this.ctx._clip_path.length>0)for(var e=0;e<this.path.length;e++)this.ctx._clip_path.push(this.path[e]);else this.ctx._clip_path=this.path;this.path=[]},measureText:function(e){var t=this.pdf;return{getWidth:function(){var n=t.internal.getFontSize(),r=t.getStringUnitWidth(e)*n/t.internal.scaleFactor;return r*=1.3333},get width(){return this.getWidth(e)}}},_getBaseline:function(e){var t=parseInt(this.pdf.internal.getFontSize()),n=.25*t;switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t;case"hanging":return e+t-n;case"middle":return e+t/2-n;case"ideographic":return e;case"alphabetic":default:return e}}};var n=e.context2d;Object.defineProperty(n,"fillStyle",{set:function(e){this.setFillStyle(e)},get:function(){return this.ctx.fillStyle}}),Object.defineProperty(n,"strokeStyle",{set:function(e){this.setStrokeStyle(e)},get:function(){return this.ctx.strokeStyle}}),Object.defineProperty(n,"lineWidth",{set:function(e){this.setLineWidth(e)},get:function(){return this.ctx.lineWidth}}),Object.defineProperty(n,"lineCap",{set:function(e){this.setLineCap(e)},get:function(){return this.ctx.lineCap}}),Object.defineProperty(n,"lineJoin",{set:function(e){this.setLineJoin(e)},get:function(){return this.ctx.lineJoin}}),Object.defineProperty(n,"miterLimit",{set:function(e){this.ctx.miterLimit=e},get:function(){return this.ctx.miterLimit}}),Object.defineProperty(n,"textBaseline",{set:function(e){this.setTextBaseline(e)},get:function(){return this.getTextBaseline()}}),Object.defineProperty(n,"textAlign",{set:function(e){this.setTextAlign(e)},get:function(){return this.getTextAlign()}}),Object.defineProperty(n,"font",{set:function(e){this.setFont(e)},get:function(){return this.ctx.font}}),Object.defineProperty(n,"globalCompositeOperation",{set:function(e){this.ctx.globalCompositeOperation=e},get:function(){return this.ctx.globalCompositeOperation}}),Object.defineProperty(n,"globalAlpha",{set:function(e){this.ctx.globalAlpha=e},get:function(){return this.ctx.globalAlpha}}),Object.defineProperty(n,"ignoreClearRect",{set:function(e){this.ctx.ignoreClearRect=e},get:function(){return this.ctx.ignoreClearRect}}),n.internal={},n.internal.rxRgb=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,n.internal.rxRgba=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/,n.internal.rxTransparent=/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/,n.internal.arc=function(e,t,n,r,o,a,i,s){for(var l=this.pdf.internal.scaleFactor,c=this.pdf.internal.pageSize.height,u=this.pdf.internal.f2,p=o*(Math.PI/180),f=a*(Math.PI/180),d=this.createArc(r,p,f,i),h=0;h<d.length;h++){var m=d[h];0===h?this.pdf.internal.out([u((m.x1+t)*l),u((c-(m.y1+n))*l),"m",u((m.x2+t)*l),u((c-(m.y2+n))*l),u((m.x3+t)*l),u((c-(m.y3+n))*l),u((m.x4+t)*l),u((c-(m.y4+n))*l),"c"].join(" ")):this.pdf.internal.out([u((m.x2+t)*l),u((c-(m.y2+n))*l),u((m.x3+t)*l),u((c-(m.y3+n))*l),u((m.x4+t)*l),u((c-(m.y4+n))*l),"c"].join(" ")),e._lastPoint={x:t,y:n}}null!==s&&this.pdf.internal.out(this.pdf.internal.getStyle(s))},n.internal.arc2=function(e,t,n,r,o,a,i,s,l){var c=t,u=n;l?(this.arc(e,c,u,r,o,a,i,null),this.pdf.clip_fixed()):this.arc(e,c,u,r,o,a,i,s)},n.internal.move2=function(e,t,n){var r=this.pdf.internal.scaleFactor,o=this.pdf.internal.pageSize.height,a=this.pdf.internal.f2;this.pdf.internal.out([a(t*r),a((o-n)*r),"m"].join(" ")),e._lastPoint={x:t,y:n}},n.internal.line2=function(e,t,n){var r=this.pdf.internal.scaleFactor,o=this.pdf.internal.pageSize.height,a=this.pdf.internal.f2,i={x:t,y:n};this.pdf.internal.out([a(i.x*r),a((o-i.y)*r),"l"].join(" ")),e._lastPoint=i},n.internal.createArc=function(e,t,n,r){var o=2*Math.PI,a=Math.PI/2,i=t;for((i<o||i>o)&&(i%=o),i<0&&(i=o+i);t>n;)t-=o;var s=Math.abs(n-t);s<o&&r&&(s=o-s);for(var l=[],c=r?-1:1,u=i;s>1e-5;){var p=u+c*Math.min(s,a);l.push(this.createSmallArc(e,u,p)),s-=Math.abs(p-u),u=p}return l},n.internal.getCurrentPage=function(){return this.pdf.internal.pages[this.pdf.internal.getCurrentPageInfo().pageNumber]},n.internal.createSmallArc=function(e,t,n){var r=(n-t)/2,o=e*Math.cos(r),a=e*Math.sin(r),i=o,s=-a,l=i*i+s*s,c=l+i*o+s*a,u=4/3*(Math.sqrt(2*l*c)-c)/(i*a-s*o),p=i-u*s,f=s+u*i,d=p,h=-f,m=r+t,y=Math.cos(m),g=Math.sin(m);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:p*y-f*g,y2:p*g+f*y,x3:d*y-h*g,y3:d*g+h*y,x4:e*Math.cos(n),y4:e*Math.sin(n)}}}(r.API),function(e){var t,r,o,a,s,l,c,u,p,f,d,h,m,y,g,v,b,w,C,T;t=function(){function e(){}return function(t){return e.prototype=t,new e}}(),f=function(e){var t,n,r,o,a,i,s;for(n=0,r=e.length,t=void 0,o=!1,i=!1;!o&&n!==r;)(t=e[n]=e[n].trimLeft())&&(o=!0),n++;for(n=r-1;r&&!i&&-1!==n;)(t=e[n]=e[n].trimRight())&&(i=!0),n--;for(a=/\s+$/g,s=!0,n=0;n!==r;)"\u2028"!=e[n]&&(t=e[n].replace(/\s+/g," "),s&&(t=t.trimLeft()),t&&(s=a.test(t)),e[n]=t),n++;return e},h=function(e){var t,n,r;for(t=void 0,n=(r=e.split(",")).shift();!t&&n;)t=o[n.trim().toLowerCase()],n=r.shift();return t},m=function(e){(e="auto"===e?"0px":e).indexOf("em")>-1&&!isNaN(Number(e.replace("em","")))&&(e=18.719*Number(e.replace("em",""))+"px"),e.indexOf("pt")>-1&&!isNaN(Number(e.replace("pt","")))&&(e=1.333*Number(e.replace("pt",""))+"px");var t;return(t=y[e])?t:void 0!==(t={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[{css_line_height_string:e}])?y[e]=t/16:(t=parseFloat(e))?y[e]=t/16:3===(t=e.match(/([\d\.]+)(px)/)).length?y[e]=parseFloat(t[1])/16:y[e]=1},p=function(e){var t,n,r;return r=function(t){var n;return n=function(e){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle?e.currentStyle:e.style}(e),function(e){return e=e.replace(/-\D/g,function(e){return e.charAt(1).toUpperCase()}),n[e]}}(),t={},n=void 0,t["font-family"]=h(r("font-family"))||"times",t["font-style"]=a[r("font-style")]||"normal",t["text-align"]=s[r("text-align")]||"left","bold"===(n=l[r("font-weight")]||"normal")&&("normal"===t["font-style"]?t["font-style"]=n:t["font-style"]=n+t["font-style"]),t["font-size"]=m(r("font-size"))||1,t["line-height"]=m(r("line-height"))||1,t.display="inline"===r("display")?"inline":"block",n="block"===t.display,t["margin-top"]=n&&m(r("margin-top"))||0,t["margin-bottom"]=n&&m(r("margin-bottom"))||0,t["padding-top"]=n&&m(r("padding-top"))||0,t["padding-bottom"]=n&&m(r("padding-bottom"))||0,t["margin-left"]=n&&m(r("margin-left"))||0,t["margin-right"]=n&&m(r("margin-right"))||0,t["padding-left"]=n&&m(r("padding-left"))||0,t["padding-right"]=n&&m(r("padding-right"))||0,t["page-break-before"]=r("page-break-before")||"auto",t.float=c[r("cssFloat")]||"none",t.clear=u[r("clear")]||"none",t.color=r("color"),t},g=function(e,t,n){var r,o,a,i,s;if(a=!1,o=void 0,i=void 0,r=n["#"+e.id])if("function"==typeof r)a=r(e,t);else for(o=0,i=r.length;!a&&o!==i;)a=r[o](e,t),o++;if(r=n[e.nodeName],!a&&r)if("function"==typeof r)a=r(e,t);else for(o=0,i=r.length;!a&&o!==i;)a=r[o](e,t),o++;for(s=e.className?e.className.split(" "):[],o=0;o<s.length;o++)if(r=n["."+s[o]],!a&&r)if("function"==typeof r)a=r(e,t);else for(o=0,i=r.length;!a&&o!==i;)a=r[o](e,t),o++;return a},T=function(e,t){var n,r,o,a,i,s,l,c,u;for(n=[],r=[],o=0,u=e.rows[0].cells.length,l=e.clientWidth;o<u;)c=e.rows[0].cells[o],r[o]={name:c.textContent.toLowerCase().replace(/\s+/g,""),prompt:c.textContent.replace(/\r?\n/g,""),width:c.clientWidth/l*t.pdf.internal.pageSize.width},o++;for(o=1;o<e.rows.length;){for(s=e.rows[o],i={},a=0;a<s.cells.length;)i[r[a].name]=s.cells[a].textContent.replace(/\r?\n/g,""),a++;n.push(i),o++}return{rows:n,headers:r}};var S={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},x=1;r=function(e,o,a){var i,s,l,c,u,f,d,h;for(s=e.childNodes,i=void 0,(u="block"===(l=p(e)).display)&&(o.setBlockBoundary(),o.setBlockStyle(l)),c=0,f=s.length;c<f;){if("object"===(void 0===(i=s[c])?"undefined":n(i))){if(o.executeWatchFunctions(i),1===i.nodeType&&"HEADER"===i.nodeName){var m=i,y=o.pdf.margins_doc.top;o.pdf.internal.events.subscribe("addPage",function(e){o.y=y,r(m,o,a),o.pdf.margins_doc.top=o.y+10,o.y+=10},!1)}if(8===i.nodeType&&"#comment"===i.nodeName)~i.textContent.indexOf("ADD_PAGE")&&(o.pdf.addPage(),o.y=o.pdf.margins_doc.top);else if(1!==i.nodeType||S[i.nodeName])if(3===i.nodeType){var b=i.nodeValue;if(i.nodeValue&&"LI"===i.parentNode.nodeName)if("OL"===i.parentNode.parentNode.nodeName)b=x++ +". "+b;else{var w=l["font-size"],C=(3-.75*w)*o.pdf.internal.scaleFactor,A=.75*w*o.pdf.internal.scaleFactor,k=1.74*w/o.pdf.internal.scaleFactor;h=function(e,t){this.pdf.circle(e+C,t+A,k,"FD")}}16&i.ownerDocument.body.compareDocumentPosition(i)&&o.addText(b,l)}else"string"==typeof i&&o.addText(i,l);else{var E;if("IMG"===i.nodeName){var M=i.getAttribute("src");E=v[o.pdf.sHashCode(M)||M]}if(E){o.pdf.internal.pageSize.height-o.pdf.margins_doc.bottom<o.y+i.height&&o.y>o.pdf.margins_doc.top&&(o.pdf.addPage(),o.y=o.pdf.margins_doc.top,o.executeWatchFunctions(i));var _=p(i),P=o.x,O=12/o.pdf.internal.scaleFactor,I=(_["margin-left"]+_["padding-left"])*O,R=(_["margin-right"]+_["padding-right"])*O,L=(_["margin-top"]+_["padding-top"])*O,j=(_["margin-bottom"]+_["padding-bottom"])*O;P+=void 0!==_.float&&"right"===_.float?o.settings.width-i.width-R:I,o.pdf.addImage(E,P,o.y+L,i.width,i.height),E=void 0,"right"===_.float||"left"===_.float?(o.watchFunctions.push(function(e,t,n,r){return o.y>=t?(o.x+=e,o.settings.width+=n,!0):!!(r&&1===r.nodeType&&!S[r.nodeName]&&o.x+r.width>o.pdf.margins_doc.left+o.pdf.margins_doc.width)&&(o.x+=e,o.y=t,o.settings.width+=n,!0)}.bind(this,"left"===_.float?-i.width-I-R:0,o.y+i.height+L+j,i.width)),o.watchFunctions.push(function(e,t,n){return!(o.y<e&&t===o.pdf.internal.getNumberOfPages())||1===n.nodeType&&"both"===p(n).clear&&(o.y=e,!0)}.bind(this,o.y+i.height,o.pdf.internal.getNumberOfPages())),o.settings.width-=i.width+I+R,"left"===_.float&&(o.x+=i.width+I+R)):o.y+=i.height+L+j}else if("TABLE"===i.nodeName)d=T(i,o),o.y+=10,o.pdf.table(o.x,o.y,d.rows,d.headers,{autoSize:!1,printHeaders:a.printHeaders,margins:o.pdf.margins_doc,css:p(i)}),o.y=o.pdf.lastCellPos.y+o.pdf.lastCellPos.h+20;else if("OL"===i.nodeName||"UL"===i.nodeName)x=1,g(i,o,a)||r(i,o,a),o.y+=10;else if("LI"===i.nodeName){var D=o.x;o.x+=20/o.pdf.internal.scaleFactor,o.y+=3,g(i,o,a)||r(i,o,a),o.x=D}else"BR"===i.nodeName?(o.y+=l["font-size"]*o.pdf.internal.scaleFactor,o.addText("\u2028",t(l))):g(i,o,a)||r(i,o,a)}}c++}if(a.outY=o.y,u)return o.setBlockBoundary(h)},v={},b=function(e,t,n,r){function o(){t.pdf.internal.events.publish("imagesLoaded"),r(a)}for(var a,i=e.getElementsByTagName("img"),s=i.length,l=0;s--;)!function(e,n,r){if(e){var i=new Image;a=++l,i.crossOrigin="",i.onerror=i.onload=function(){if(i.complete&&(0===i.src.indexOf("data:image/")&&(i.width=n||i.width||0,i.height=r||i.height||0),i.width+i.height)){var a=t.pdf.sHashCode(e)||e;v[a]=v[a]||i}--l||o()},i.src=e}}(i[s].getAttribute("src"),i[s].width,i[s].height);return l||o()},w=function(e,t,n){var o=e.getElementsByTagName("footer");if(o.length>0){o=o[0];var a=t.pdf.internal.write,i=t.y;t.pdf.internal.write=function(){},r(o,t,n);var s=Math.ceil(t.y-i)+5;t.y=i,t.pdf.internal.write=a,t.pdf.margins_doc.bottom+=s;for(var l=function(e){var a=void 0!==e?e.pageNumber:1,i=t.y;t.y=t.pdf.internal.pageSize.height-t.pdf.margins_doc.bottom,t.pdf.margins_doc.bottom-=s;for(var l=o.getElementsByTagName("span"),c=0;c<l.length;++c)(" "+l[c].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")>-1&&(l[c].innerHTML=a),(" "+l[c].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&(l[c].innerHTML="###jsPDFVarTotalPages###");r(o,t,n),t.pdf.margins_doc.bottom+=s,t.y=i},c=o.getElementsByTagName("span"),u=0;u<c.length;++u)(" "+c[u].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&t.pdf.internal.events.subscribe("htmlRenderingFinished",t.pdf.putTotalPages.bind(t.pdf,"###jsPDFVarTotalPages###"),!0);t.pdf.internal.events.subscribe("addPage",l,!1),l(),S.FOOTER=1}},C=function(e,t,n,o,a,i){if(!t)return!1;"string"==typeof t||t.parentNode||(t=""+t.innerHTML),"string"==typeof t&&(t=function(e){var t,n,r,o;return r="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),o="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",n=document.createElement("div"),n.style.cssText=o,n.innerHTML='<iframe style="height:1px;width:1px" name="'+r+'" />',document.body.appendChild(n),(t=window.frames[r]).document.open(),t.document.writeln(e),t.document.close(),t.document.body}(t.replace(/<\/?script[^>]*?>/gi,"")));var s,l=new d(e,n,o,a);return b.call(this,t,l,a.elementHandlers,function(e){w(t,l,a.elementHandlers),r(t,l,a.elementHandlers),l.pdf.internal.events.publish("htmlRenderingFinished"),s=l.dispose(),"function"==typeof i?i(s):e&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")}),s||{x:l.x,y:l.y}},(d=function(e,t,n,r){return this.pdf=e,this.x=t,this.y=n,this.settings=r,this.watchFunctions=[],this.init(),this}).prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},d.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},d.prototype.executeWatchFunctions=function(e){var t=!1,n=[];if(this.watchFunctions.length>0){for(var r=0;r<this.watchFunctions.length;++r)!0===this.watchFunctions[r](e)?t=!0:n.push(this.watchFunctions[r]);this.watchFunctions=n}return t},d.prototype.splitFragmentsIntoLines=function(e,n){var r,o,a,i,s,l,c,u,p,f,d,h,m,y;for(f=this.pdf.internal.scaleFactor,i={},o=void 0,p=void 0,a=void 0,s=void 0,y=void 0,u=void 0,c=void 0,l=void 0,h=[d=[]],r=0,m=this.settings.width;e.length;)if(s=e.shift(),y=n.shift(),s)if(o=y["font-family"],p=y["font-style"],(a=i[o+p])||(a=this.pdf.internal.getFont(o,p).metadata.Unicode,i[o+p]=a),u={widths:a.widths,kerning:a.kerning,fontSize:12*y["font-size"],textIndent:r},c=this.pdf.getStringUnitWidth(s,u)*u.fontSize/f,"\u2028"==s)d=[],h.push(d);else if(r+c>m){for(l=this.pdf.splitTextToSize(s,m,u),d.push([l.shift(),y]);l.length;)d=[[l.shift(),y]],h.push(d);r=this.pdf.getStringUnitWidth(d[0][0],u)*u.fontSize/f}else d.push([s,y]),r+=c;if(void 0!==y["text-align"]&&("center"===y["text-align"]||"right"===y["text-align"]||"justify"===y["text-align"]))for(var g=0;g<h.length;++g){var v=this.pdf.getStringUnitWidth(h[g][0][0],u)*u.fontSize/f;g>0&&(h[g][0][1]=t(h[g][0][1]));var b=m-v;if("right"===y["text-align"])h[g][0][1]["margin-left"]=b;else if("center"===y["text-align"])h[g][0][1]["margin-left"]=b/2;else if("justify"===y["text-align"]){var w=h[g][0][0].split(" ").length-1;h[g][0][1]["word-spacing"]=b/w,g===h.length-1&&(h[g][0][1]["word-spacing"]=0)}}return h},d.prototype.RenderTextFragment=function(e,t){var n,r;r=0,this.pdf.internal.pageSize.height-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),t.color,"Td"),r=Math.max(r,t["line-height"],t["font-size"]),this.pdf.internal.write(0,(-12*r).toFixed(2),"Td")),n=this.pdf.internal.getFont(t["font-family"],t["font-style"]);var o=this.getPdfColor(t.color);o!==this.lastTextColor&&(this.pdf.internal.write(o),this.lastTextColor=o),void 0!==t["word-spacing"]&&t["word-spacing"]>0&&this.pdf.internal.write(t["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+n.id,(12*t["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(e)+") Tj"),void 0!==t["word-spacing"]&&this.pdf.internal.write(0,"Tw")},d.prototype.getPdfColor=function(e){var t,n,r,o=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(e);if(null!=o?(t=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3])):("#"!=e.charAt(0)&&((e=i.colorNameToHex(e))||(e="#000000")),t=e.substring(1,3),t=parseInt(t,16),n=e.substring(3,5),n=parseInt(n,16),r=e.substring(5,7),r=parseInt(r,16)),"string"==typeof t&&/^#[0-9A-Fa-f]{6}$/.test(t)){var a=parseInt(t.substr(1),16);t=a>>16&255,n=a>>8&255,r=255&a}var s=this.f3;return 0===t&&0===n&&0===r||void 0===n?s(t/255)+" g":[s(t/255),s(n/255),s(r/255),"rg"].join(" ")},d.prototype.f3=function(e){return e.toFixed(3)},d.prototype.renderParagraph=function(e){var t,n,r,o,a,i,s,l,c,u,p,d,h;if(r=f(this.paragraph.text),d=this.paragraph.style,t=this.paragraph.blockstyle,this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:t},r.join("").trim()){s=this.splitFragmentsIntoLines(r,d),i=void 0,l=void 0,n=12/this.pdf.internal.scaleFactor,this.priorMarginBottom=this.priorMarginBottom||0,p=(Math.max((t["margin-top"]||0)-this.priorMarginBottom,0)+(t["padding-top"]||0))*n,u=((t["margin-bottom"]||0)+(t["padding-bottom"]||0))*n,this.priorMarginBottom=t["margin-bottom"]||0,"always"===t["page-break-before"]&&(this.pdf.addPage(),this.y=0,p=((t["margin-top"]||0)+(t["padding-top"]||0))*n),c=this.pdf.internal.write,o=void 0,a=void 0,this.y+=p,c("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var m=0;s.length;){for(l=0,o=0,a=(i=s.shift()).length;o!==a;)i[o][0].trim()&&(l=Math.max(l,i[o][1]["line-height"],i[o][1]["font-size"]),h=7*i[o][1]["font-size"]),o++;var y=0,g=0;for(void 0!==i[0][1]["margin-left"]&&i[0][1]["margin-left"]>0&&(y=(g=this.pdf.internal.getCoordinateString(i[0][1]["margin-left"]))-m,m=g),c(y+Math.max(t["margin-left"]||0,0)*n,(-12*l).toFixed(2),"Td"),o=0,a=i.length;o!==a;)i[o][0]&&this.RenderTextFragment(i[o][0],i[o][1]),o++;if(this.y+=l*n,this.executeWatchFunctions(i[0][1])&&s.length>0){var v=[],b=[];s.forEach(function(e){for(var t=0,n=e.length;t!==n;)e[t][0]&&(v.push(e[t][0]+" "),b.push(e[t][1])),++t}),s=this.splitFragmentsIntoLines(f(v),b),c("ET","Q"),c("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return e&&"function"==typeof e&&e.call(this,this.x-9,this.y-h/2),c("ET","Q"),this.y+=u}},d.prototype.setBlockBoundary=function(e){return this.renderParagraph(e)},d.prototype.setBlockStyle=function(e){return this.paragraph.blockstyle=e},d.prototype.addText=function(e,t){return this.paragraph.text.push(e),this.paragraph.style.push(t)},o={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},l={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},a={normal:"normal",italic:"italic",oblique:"italic"},s={left:"left",right:"right",center:"center",justify:"justify"},c={none:"none",right:"right",left:"left"},u={none:"none",both:"both"},y={normal:1},e.fromHTML=function(e,t,n,r,o,a){return this.margins_doc=a||{top:0,bottom:0},r||(r={}),r.elementHandlers||(r.elementHandlers={}),C(this,e,isNaN(t)?4:t,isNaN(n)?4:n,r,o)}}(r.API),function(e){var t,n,o;r.API.addJS=function(e){return o=e,this.internal.events.subscribe("postPutResources",function(e){t=this.internal.newObject(),this.internal.write("<< /Names [(EmbeddedJS) "+(t+1)+" 0 R] >>","endobj"),n=this.internal.newObject(),this.internal.write("<< /S /JavaScript /JS (",o,") >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==t&&void 0!==n&&this.internal.write("/Names <</JavaScript "+t+" 0 R>>")}),this}}(),function(e){e.events.push(["postPutResources",function(){var e=this,t=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=e.outline.render().split(/\r\n/),r=0;r<n.length;r++){var o=n[r],a=t.exec(o);if(null!=a){var i=a[1];e.internal.newObjectDeferredBegin(i)}e.internal.write(o)}if(this.outline.createNamedDestinations){for(var s=this.internal.pages.length,l=[],r=0;r<s;r++){var c=e.internal.newObject();l.push(c);var u=e.internal.getPageInfo(r+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var p=e.internal.newObject();for(e.internal.write("<< /Names [ "),r=0;r<l.length;r++)e.internal.write("(page_"+(r+1)+")"+l[r]+" 0 R");e.internal.write(" ] >>","endobj"),e.internal.newObject(),e.internal.write("<< /Dests "+p+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+namesOid+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(o=0;o<t.children.length;o++){a=t.children[o],this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(t)),o>0&&this.line("/Prev "+this.makeRef(t.children[o-1])),o<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[o+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var n=this.count=this.count_r({count:0},a);if(n>0&&this.line("/Count "+n),a.options&&a.options.pageNumber){var r=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+r.objId+" 0 R /XYZ 0 "+this.ctx.pdf.internal.pageSize.height+" 0]")}this.objEnd()}for(var o=0;o<t.children.length;o++){var a=t.children[o];this.renderItems(a)}},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")";
},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(e){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(r.API),function(e){var t=function(){return"function"!=typeof PNG||"function"!=typeof c},n=function(t){return t!==e.image_compression.NONE&&r()},r=function(){var e="function"==typeof s;if(!e)throw new Error("requires deflate.js for compression");return e},o=function(t,n,r,o){var c=5,u=f;switch(o){case e.image_compression.FAST:c=3,u=p;break;case e.image_compression.MEDIUM:c=6,u=d;break;case e.image_compression.SLOW:c=9,u=h}t=l(t,n,r,u);var m=new Uint8Array(a(c)),y=i(t),g=new s(c),v=g.append(t),b=g.flush(),w=m.length+v.length+b.length,C=new Uint8Array(w+4);return C.set(m),C.set(v,m.length),C.set(b,m.length+v.length),C[w++]=y>>>24&255,C[w++]=y>>>16&255,C[w++]=y>>>8&255,C[w++]=255&y,e.arrayBufferToBinaryString(C)},a=function(e,t){var n=Math.LOG2E*Math.log(32768)-8<<4|8,r=n<<8;return r|=Math.min(3,(t-1&255)>>1)<<6,r|=0,r+=31-r%31,[n,255&r]},i=function(e,t){for(var n,r=1,o=0,a=e.length,i=0;a>0;){a-=n=a>t?t:a;do o+=r+=e[i++];while(--n);r%=65521,o%=65521}return(o<<16|r)>>>0},l=function(e,t,n,r){for(var o,a,i,s=e.length/t,l=new Uint8Array(e.length+s),c=y(),u=0;u<s;u++){if(i=u*t,o=e.subarray(i,i+t),r)l.set(r(o,n,a),i+u);else{for(var p=0,f=c.length,d=[];p<f;p++)d[p]=c[p](o,n,a);var h=g(d.concat());l.set(d[h],i+u)}a=o}return l},u=function(e,t,n){var r=Array.apply([],e);return r.unshift(0),r},p=function(e,t,n){var r,o=[],a=0,i=e.length;for(o[0]=1;a<i;a++)r=e[a-t]||0,o[a+1]=e[a]-r+256&255;return o},f=function(e,t,n){var r,o=[],a=0,i=e.length;for(o[0]=2;a<i;a++)r=n&&n[a]||0,o[a+1]=e[a]-r+256&255;return o},d=function(e,t,n){var r,o,a=[],i=0,s=e.length;for(a[0]=3;i<s;i++)r=e[i-t]||0,o=n&&n[i]||0,a[i+1]=e[i]+256-(r+o>>>1)&255;return a},h=function(e,t,n){var r,o,a,i,s=[],l=0,c=e.length;for(s[0]=4;l<c;l++)r=e[l-t]||0,o=n&&n[l]||0,a=n&&n[l-t]||0,i=m(r,o,a),s[l+1]=e[l]-i+256&255;return s},m=function(e,t,n){var r=e+t-n,o=Math.abs(r-e),a=Math.abs(r-t),i=Math.abs(r-n);return o<=a&&o<=i?e:a<=i?t:n},y=function(){return[u,p,f,d,h]},g=function(e){for(var t,n,r,o=0,a=e.length;o<a;)((t=v(e[o].slice(1)))<n||!n)&&(n=t,r=o),o++;return r},v=function(e){for(var t=0,n=e.length,r=0;t<n;)r+=Math.abs(e[t++]);return r},b=function(t){var n;switch(t){case e.image_compression.FAST:n=11;break;case e.image_compression.MEDIUM:n=13;break;case e.image_compression.SLOW:n=14;break;default:n=12}return n};e.processPNG=function(e,r,a,i,s){var l,c,u,p,f,d,h=this.color_spaces.DEVICE_RGB,m=this.decode.FLATE_DECODE,y=8;if(this.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.isArrayBufferView(e)){if(t())throw new Error("PNG support requires png.js and zlib.js");if(l=new PNG(e),e=l.imgData,y=l.bits,h=l.colorSpace,p=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits)for(var g,v=(P=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,w=new Uint8Array(v*l.colors),C=new Uint8Array(v),T=l.pixelBitlength-l.bits,S=0,x=0;S<v;S++){for(A=P[S],g=0;g<T;)w[x++]=A>>>g&255,g+=l.bits;C[S]=A>>>g&255}if(16===l.bits){for(var A,v=(P=new Uint32Array(l.decodePixels().buffer)).length,w=new Uint8Array(v*(32/l.pixelBitlength)*l.colors),C=new Uint8Array(v*(32/l.pixelBitlength)),k=l.colors>1,S=0,x=0,E=0;S<v;)A=P[S++],w[x++]=A>>>0&255,k&&(w[x++]=A>>>16&255,A=P[S++],w[x++]=A>>>0&255),C[E++]=A>>>16&255;y=8}n(i)?(e=o(w,l.width*l.colors,l.colors,i),d=o(C,l.width,1,i)):(e=w,d=C,m=null)}if(3===l.colorType&&(h=this.color_spaces.INDEXED,f=l.palette,l.transparency.indexed)){for(var M=l.transparency.indexed,_=0,S=0,v=M.length;S<v;++S)_+=M[S];if((_/=255)===v-1&&-1!==M.indexOf(0))u=[M.indexOf(0)];else if(_!==v){for(var P=l.decodePixels(),C=new Uint8Array(P.length),S=0,v=P.length;S<v;S++)C[S]=M[P[S]];d=o(C,l.width,1)}}var O=b(i);return c=m===this.decode.FLATE_DECODE?"/Predictor "+O+" /Colors "+p+" /BitsPerComponent "+y+" /Columns "+l.width:"/Colors "+p+" /BitsPerComponent "+y+" /Columns "+l.width,(this.isArrayBuffer(e)||this.isArrayBufferView(e))&&(e=this.arrayBufferToBinaryString(e)),(d&&this.isArrayBuffer(d)||this.isArrayBufferView(d))&&(d=this.arrayBufferToBinaryString(d)),this.createImageInfo(e,l.width,l.height,h,y,m,r,a,c,u,f,d,O)}throw new Error("Unsupported PNG image data, try using JPEG instead.")}}(r.API),r.API.autoPrint=function(){var e;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.write("<< /S/Named /Type/Action /N/Print >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+e+" 0 R")}),this},function(e){var t=e.getCharWidthsArray=function(e,t){t||(t={});var n,r,o,a=t.widths?t.widths:this.internal.getFont().metadata.Unicode.widths,i=a.fof?a.fof:1,s=t.kerning?t.kerning:this.internal.getFont().metadata.Unicode.kerning,l=s.fof?s.fof:1,c=0,u=a[0]||i,p=[];for(n=0,r=e.length;n<r;n++)o=e.charCodeAt(n),p.push((a[o]||u)/i+(s[o]&&s[o][c]||0)/l),c=o;return p},n=function(e){for(var t=e.length,n=0;t;)n+=e[--t];return n},r=e.getStringUnitWidth=function(e,r){return n(t.call(this,e,r))},o=function(e,t,n,r){for(var o=[],a=0,i=e.length,s=0;a!==i&&s+t[a]<n;)s+=t[a],a++;o.push(e.slice(0,a));var l=a;for(s=0;a!==i;)s+t[a]>r&&(o.push(e.slice(l,a)),s=0,l=a),s+=t[a],a++;return l!==a&&o.push(e.slice(l,a)),o},a=function(e,a,i){i||(i={});var s,l,c,u,p,f,d=[],h=[d],m=i.textIndent||0,y=0,g=0,v=e.split(" "),b=t(" ",i)[0];if(f=-1===i.lineIndent?v[0].length+2:i.lineIndent||0){var w=Array(f).join(" "),C=[];v.map(function(e){(e=e.split(/\s*\n/)).length>1?C=C.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):C.push(e[0])}),v=C,f=r(w,i)}for(c=0,u=v.length;c<u;c++){var T=0;if(s=v[c],f&&"\n"==s[0]&&(s=s.substr(1),T=1),l=t(s,i),g=n(l),m+y+g>a||T){if(g>a){for(p=o(s,l,a-(m+y),a),d.push(p.shift()),d=[p.pop()];p.length;)h.push([p.shift()]);g=n(l.slice(s.length-d[0].length))}else d=[s];h.push(d),m=g+f,y=b}else d.push(s),m+=y+g,y=b}if(f)S=function(e,t){return(t?w:"")+e.join(" ")};else var S=function(e){return e.join(" ")};return h.map(S)};e.splitTextToSize=function(e,t,n){n||(n={});var r,o=n.fontSize||this.internal.getFontSize(),i=function(e){var t={0:1},n={};if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var r=this.internal.getFont(e.fontName,e.fontStyle);return r.metadata.Unicode?{widths:r.metadata.Unicode.widths||t,kerning:r.metadata.Unicode.kerning||n}:{widths:t,kerning:n}}.call(this,n);r=Array.isArray(e)?e:e.split(/\r?\n/);var s=1*this.internal.scaleFactor*t/o;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/o:0,i.lineIndent=n.lineIndent;var l,c,u=[];for(l=0,c=r.length;l<c;l++)u=u.concat(a(r[l],s,i));return u}}(r.API),function(e){var t=function(e){for(var t={},n=0;n<"klmnopqrstuvwxyz".length;n++)t["klmnopqrstuvwxyz"[n]]="0123456789abcdef"[n];var r,o,a,i,s={},l=1,c=s,u=[],p="",f="",d=e.length-1;for(n=1;n!=d;)i=e[n],n+=1,"'"==i?r?(a=r.join(""),r=void 0):r=[]:r?r.push(i):"{"==i?(u.push([c,a]),c={},a=void 0):"}"==i?((o=u.pop())[0][o[1]]=c,a=void 0,c=o[0]):"-"==i?l=-1:void 0===a?t.hasOwnProperty(i)?(p+=t[i],a=parseInt(p,16)*l,l=1,p=""):p+=i:t.hasOwnProperty(i)?(f+=t[i],c[a]=parseInt(f,16)*l,l=1,a=void 0,f=""):f+=i;return s},n={codePages:["WinAnsiEncoding"],WinAnsiEncoding:t("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},r={Unicode:{Courier:n,"Courier-Bold":n,"Courier-BoldOblique":n,"Courier-Oblique":n,Helvetica:n,"Helvetica-Bold":n,"Helvetica-BoldOblique":n,"Helvetica-Oblique":n,"Times-Roman":n,"Times-Bold":n,"Times-BoldItalic":n,"Times-Italic":n}},o={Unicode:{"Courier-Oblique":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":t("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":t("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":t("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Helvetica:t("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":t("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),"Courier-Bold":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":t("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":t("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":t("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t,n,a;(t=o.Unicode[e.PostScriptName])&&((n=e.metadata.Unicode?e.metadata.Unicode:e.metadata.Unicode={}).widths=t.widths,n.kerning=t.kerning),(a=r.Unicode[e.PostScriptName])&&((n=e.metadata.Unicode?e.metadata.Unicode:e.metadata.Unicode={}).encoding=a,a.codePages&&a.codePages.length&&(e.encoding=a.codePages[0]))}])}(r.API),r.API.addSVG=function(e,t,n,r,o){function a(e,t){var n=t.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(t.createTextNode(e)),t.getElementsByTagName("head")[0].appendChild(n)}if(void 0===t||void 0===n)throw new Error("addSVG needs values for 'x' and 'y'");var i=function(e,t){var n=(t.contentWindow||t.contentDocument).document;return n.write(e),n.close(),n.getElementsByTagName("svg")[0]}(e,function(e){var t=e.createElement("iframe");return a(".jsPDF_sillysvg_iframe {display:none;position:absolute;}",e),t.name="childframe",t.setAttribute("width",0),t.setAttribute("height",0),t.setAttribute("frameborder","0"),t.setAttribute("scrolling","no"),t.setAttribute("seamless","seamless"),t.setAttribute("class","jsPDF_sillysvg_iframe"),e.body.appendChild(t),t}(document)),s=[1,1],l=parseFloat(i.getAttribute("width")),c=parseFloat(i.getAttribute("height"));l&&c&&(r&&o?s=[r/l,o/c]:r?s=[r/l,r/l]:o&&(s=[o/c,o/c]));var u,p,f,d,h=i.childNodes;for(u=0,p=h.length;u<p;u++)(f=h[u]).tagName&&"PATH"===f.tagName.toUpperCase()&&((d=function(e){for(var t=parseFloat(e[1]),n=parseFloat(e[2]),r=[],o=3,a=e.length;o<a;)"c"===e[o]?(r.push([parseFloat(e[o+1]),parseFloat(e[o+2]),parseFloat(e[o+3]),parseFloat(e[o+4]),parseFloat(e[o+5]),parseFloat(e[o+6])]),o+=7):"l"===e[o]?(r.push([parseFloat(e[o+1]),parseFloat(e[o+2])]),o+=3):o+=1;return[t,n,r]}(f.getAttribute("d").split(" ")))[0]=d[0]*s[0]+t,d[1]=d[1]*s[1]+n,this.lines.call(this,d[2],d[0],d[1],s));return this},r.API.putTotalPages=function(e){for(var t=new RegExp(e,"g"),n=1;n<=this.internal.getNumberOfPages();n++)for(var r=0;r<this.internal.pages[n].length;r++)this.internal.pages[n][r]=this.internal.pages[n][r].replace(t,this.internal.getNumberOfPages());return this},function(e){var t="",n="",o="";r.API.addMetadata=function(e,r){return n=r||"http://jspdf.default.namespaceuri/",t=e,this.internal.events.subscribe("postPutResources",function(){if(t){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+n+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(e)),i=unescape(encodeURIComponent(t)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+i.length+s.length+r.length+l.length;o=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(r+a+i+s+l),this.internal.write("endstream"),this.internal.write("endobj")}else o=""}),this.internal.events.subscribe("putCatalog",function(){o&&this.internal.write("/Metadata "+o+" 0 R")}),this}}(),function(e){if(e.URL=e.URL||e.webkitURL,e.Blob&&e.URL)try{return void new Blob}catch(e){}var t=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},r=function(e,t,n){this.data=e,this.size=e.length,this.type=t,this.encoding=n},o=n.prototype,a=r.prototype,i=e.FileReaderSync,s=function(e){this.code=this[this.name=e]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),c=l.length,u=e.URL||e.webkitURL||e,p=u.createObjectURL,f=u.revokeObjectURL,d=u,h=e.btoa,m=e.atob,y=e.ArrayBuffer,g=e.Uint8Array,v=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(r.fake=a.fake=!0;c--;)s.prototype[l[c]]=c+1;return u.createObjectURL||(d=e.URL=function(e){var t,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=e,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(t=e.match(v),n.origin=t&&t[1])),n}),d.createObjectURL=function(e){var t,n=e.type;return null===n&&(n="application/octet-stream"),e instanceof r?(t="data:"+n,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):h?t+";base64,"+h(e.data):t+","+encodeURIComponent(e.data)):p?p.call(u,e):void 0},d.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&f&&f.call(u,e)},o.append=function(e){var n=this.data;if(g&&(e instanceof y||e instanceof g)){for(var o="",a=new g(e),l=0,c=a.length;l<c;l++)o+=String.fromCharCode(a[l]);n.push(o)}else if("Blob"===t(e)||"File"===t(e)){if(!i)throw new s("NOT_READABLE_ERR");var u=new i;n.push(u.readAsBinaryString(e))}else e instanceof r?"base64"===e.encoding&&m?n.push(m(e.data)):"URI"===e.encoding?n.push(decodeURIComponent(e.data)):"raw"===e.encoding&&n.push(e.data):("string"!=typeof e&&(e+=""),n.push(unescape(encodeURIComponent(e))))},o.getBlob=function(e){return arguments.length||(e=null),new r(this.data.join(""),e,"raw")},o.toString=function(){return"[object BlobBuilder]"},a.slice=function(e,t,n){var o=arguments.length;return o<3&&(n=null),new r(this.data.slice(e,o>1?t:this.data.length),n,this.encoding)},a.toString=function(){return"[object Blob]"},a.close=function(){this.size=0,delete this.data},n}(e);e.Blob=function(e,n){var r=n?n.type||"":"",o=new t;if(e)for(var a=0,i=e.length;a<i;a++)Uint8Array&&e[a]instanceof Uint8Array?o.append(e[a].buffer):o.append(e[a]);var s=o.getBlob(r);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var n=Object.getPrototypeOf||function(e){return e.__proto__};e.Blob.prototype=n(new e.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content||void 0);var a=a||function(e){if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=function(){return e.URL||e.webkitURL||e},n=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in n,o=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},a=/constructor/i.test(e.HTMLElement)||e.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l=function(e){setTimeout(function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()},4e4)},c=function(e,t,n){for(var r=(t=[].concat(t)).length;r--;){var o=e["on"+t[r]];if("function"==typeof o)try{o.call(e,n||e)}catch(e){s(e)}}},u=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},p=function(s,p,f){f||(s=u(s));var d,h=this,m="application/octet-stream"===s.type,y=function(){c(h,"writestart progress write writeend".split(" "))};return h.readyState=h.INIT,r?(d=t().createObjectURL(s),void setTimeout(function(){n.href=d,n.download=p,o(n),y(),l(d),h.readyState=h.DONE})):void!function(){if((i||m&&a)&&e.FileReader){var n=new FileReader;return n.onloadend=function(){var t=i?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,h.readyState=h.DONE,y()},n.readAsDataURL(s),void(h.readyState=h.INIT)}d||(d=t().createObjectURL(s)),m?e.location.href=d:e.open(d,"_blank")||(e.location.href=d),h.readyState=h.DONE,y(),l(d)}()},f=p.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=u(e)),navigator.msSaveOrOpenBlob(e,t)}:(f.abort=function(){},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,function(e,t,n){return new p(e,t||e.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content);"undefined"!=typeof e&&e.exports?e.exports.saveAs=a:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return a}),function(t,n){"object"==typeof e?e.exports=n():"function"==typeof define?define(n):t.adler32cs=n()}(r,function(){var e="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,t=null,n=function(){if(!e)return function(){return!1};try{var n={};"function"==typeof n.Buffer&&(t=n.Buffer)}catch(e){}return function(e){return e instanceof ArrayBuffer||null!==t&&e instanceof t}}(),r=null!==t?function(e){return new t(e,"utf8").toString("binary")}:function(e){return unescape(encodeURIComponent(e))},o=function(e,t){for(var n=65535&e,r=e>>>16,o=0,a=t.length;o<a;o++)r=(r+(n=(n+(255&t.charCodeAt(o)))%65521))%65521;return(r<<16|n)>>>0},a=function(e,t){for(var n=65535&e,r=e>>>16,o=0,a=t.length;o<a;o++)r=(r+(n=(n+t[o])%65521))%65521;return(r<<16|n)>>>0},i={},s=i.Adler32=function(){var t=function(e){if(!(this instanceof t))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(e=null==e?1:+e))throw new Error("First arguments needs to be a finite number.");this.checksum=e>>>0},i=t.prototype={};return i.constructor=t,t.from=function(e){return e.prototype=i,e}(function(e){if(!(this instanceof t))throw new TypeError("Constructor cannot called be as a function.");if(null==e)throw new Error("First argument needs to be a string.");this.checksum=o(1,e.toString())}),t.fromUtf8=function(e){return e.prototype=i,e}(function(e){if(!(this instanceof t))throw new TypeError("Constructor cannot called be as a function.");if(null==e)throw new Error("First argument needs to be a string.");var n=r(e.toString());this.checksum=o(1,n)}),e&&(t.fromBuffer=function(e){return e.prototype=i,e}(function(e){if(!(this instanceof t))throw new TypeError("Constructor cannot called be as a function.");if(!n(e))throw new Error("First argument needs to be ArrayBuffer.");
var r=new Uint8Array(e);return this.checksum=a(1,r)})),i.update=function(e){if(null==e)throw new Error("First argument needs to be a string.");return e=e.toString(),this.checksum=o(this.checksum,e)},i.updateUtf8=function(e){if(null==e)throw new Error("First argument needs to be a string.");var t=r(e.toString());return this.checksum=o(this.checksum,t)},e&&(i.updateBuffer=function(e){if(!n(e))throw new Error("First argument needs to be ArrayBuffer.");var t=new Uint8Array(e);return this.checksum=a(this.checksum,t)}),i.clone=function(){return new s(this.checksum)},t}();return i.from=function(e){if(null==e)throw new Error("First argument needs to be a string.");return o(1,e.toString())},i.fromUtf8=function(e){if(null==e)throw new Error("First argument needs to be a string.");var t=r(e.toString());return o(1,t)},e&&(i.fromBuffer=function(e){if(!n(e))throw new Error("First argument need to be ArrayBuffer.");var t=new Uint8Array(e);return a(1,t)}),i});var i={};i._colorsTable={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},i.colorNameToHex=function(e){return e=e.toLowerCase(),void 0!==this._colorsTable[e]&&this._colorsTable[e]};var s=function(e){function t(){function e(e){var t,n,o,a,i,l,c=r.dyn_tree,u=r.stat_desc.static_tree,p=r.stat_desc.extra_bits,d=r.stat_desc.extra_base,h=r.stat_desc.max_length,m=0;for(a=0;a<=s;a++)e.bl_count[a]=0;for(c[2*e.heap[e.heap_max]+1]=0,t=e.heap_max+1;t<f;t++)(a=c[2*c[2*(n=e.heap[t])+1]+1]+1)>h&&(a=h,m++),c[2*n+1]=a,n>r.max_code||(e.bl_count[a]++,i=0,n>=d&&(i=p[n-d]),l=c[2*n],e.opt_len+=l*(a+i),u&&(e.static_len+=l*(u[2*n+1]+i)));if(0!==m){do{for(a=h-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[h]--,m-=2}while(m>0);for(a=h;0!==a;a--)for(n=e.bl_count[a];0!==n;)(o=e.heap[--t])>r.max_code||(c[2*o+1]!=a&&(e.opt_len+=(a-c[2*o+1])*c[2*o],c[2*o+1]=a),n--)}}function t(e,t){var n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0);return n>>>1}function n(e,n,r){var o,a,i,l=[],c=0;for(o=1;o<=s;o++)l[o]=c=c+r[o-1]<<1;for(a=0;a<=n;a++)0!==(i=e[2*a+1])&&(e[2*a]=t(l[i]++,i))}var r=this;r.build_tree=function(t){var o,a,i,s=r.dyn_tree,l=r.stat_desc.static_tree,c=r.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=f,o=0;o<c;o++)0!==s[2*o]?(t.heap[++t.heap_len]=u=o,t.depth[o]=0):s[2*o+1]=0;for(;t.heap_len<2;)s[2*(i=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[i]=0,t.opt_len--,l&&(t.static_len-=l[2*i+1]);for(r.max_code=u,o=Math.floor(t.heap_len/2);o>=1;o--)t.pqdownheap(s,o);i=c;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],t.pqdownheap(s,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,s[2*i]=s[2*o]+s[2*a],t.depth[i]=Math.max(t.depth[o],t.depth[a])+1,s[2*o+1]=s[2*a+1]=i,t.heap[1]=i++,t.pqdownheap(s,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],e(t),n(s,r.max_code,t.bl_count)}}function n(e,t,n,r,o){var a=this;a.static_tree=e,a.extra_bits=t,a.extra_base=n,a.elems=r,a.max_length=o}function r(e,t,n,r,o){var a=this;a.good_length=e,a.max_lazy=t,a.nice_length=n,a.max_chain=r,a.func=o}function o(e,t,n,r){var o=e[2*t],a=e[2*n];return o<a||o==a&&r[t]<=r[n]}function a(){function e(){var e;for(_e=2*Ae,Oe[Re-1]=0,e=0;e<Re-1;e++)Oe[e]=0;Ke=G[We].max_lazy,Ye=G[We].good_length,Qe=G[We].nice_length,Ve=G[We].max_chain,Be=0,Ne=0,He=0,Ge=Ue=Z-1,qe=0,Ie=0}function r(){var e;for(e=0;e<p;e++)Xe[2*e]=0;for(e=0;e<l;e++)Ze[2*e]=0;for(e=0;e<c;e++)Je[2*e]=0;Xe[2*d]=1,et.opt_len=et.static_len=0,it=lt=0}function a(){tt.dyn_tree=Xe,tt.stat_desc=n.static_l_desc,nt.dyn_tree=Ze,nt.stat_desc=n.static_d_desc,rt.dyn_tree=Je,rt.stat_desc=n.static_bl_desc,ut=0,pt=0,ct=8,r()}function i(e,t){var n,r,o=-1,a=e[1],i=0,s=7,l=4;for(0===a&&(s=138,l=3),e[2*(t+1)+1]=65535,n=0;n<=t;n++)r=a,a=e[2*(n+1)+1],++i<s&&r==a||(i<l?Je[2*r]+=i:0!==r?(r!=o&&Je[2*r]++,Je[2*h]++):i<=10?Je[2*m]++:Je[2*y]++,i=0,o=r,0===a?(s=138,l=3):r==a?(s=6,l=3):(s=7,l=4))}function s(){var e;for(i(Xe,tt.max_code),i(Ze,nt.max_code),rt.build_tree(et),e=c-1;e>=3&&0===Je[2*t.bl_order[e]+1];e--);return et.opt_len+=3*(e+1)+5+5+4,e}function f(e){et.pending_buf[et.pending++]=e}function I(e){f(255&e),f(e>>>8&255)}function te(e){f(e>>8&255),f(255&e)}function ne(e,t){var n,r=t;pt>g-r?(I(ut|=(n=e)<<pt&65535),ut=n>>>g-pt,pt+=r-g):(ut|=e<<pt&65535,pt+=r)}function re(e,t){var n=2*e;ne(65535&t[n],65535&t[n+1])}function oe(e,t){var n,r,o=-1,a=e[1],i=0,s=7,l=4;for(0===a&&(s=138,l=3),n=0;n<=t;n++)if(r=a,a=e[2*(n+1)+1],!(++i<s&&r==a)){if(i<l){do re(r,Je);while(0!=--i)}else 0!==r?(r!=o&&(re(r,Je),i--),re(h,Je),ne(i-3,2)):i<=10?(re(m,Je),ne(i-3,3)):(re(y,Je),ne(i-11,7));i=0,o=r,0===a?(s=138,l=3):r==a?(s=6,l=3):(s=7,l=4)}}function ae(e,n,r){var o;for(ne(e-257,5),ne(n-1,5),ne(r-4,4),o=0;o<r;o++)ne(Je[2*t.bl_order[o]+1],3);oe(Xe,e-1),oe(Ze,n-1)}function ie(){16==pt?(I(ut),ut=0,pt=0):pt>=8&&(f(255&ut),ut>>>=8,pt-=8)}function se(){ne(Q<<1,3),re(d,n.static_ltree),ie(),1+ct+10-pt<9&&(ne(Q<<1,3),re(d,n.static_ltree),ie()),ct=7}function le(e,n){var r,o,a;if(et.pending_buf[st+2*it]=e>>>8&255,et.pending_buf[st+2*it+1]=255&e,et.pending_buf[ot+it]=255&n,it++,0===e?Xe[2*n]++:(lt++,e--,Xe[2*(t._length_code[n]+u+1)]++,Ze[2*t.d_code(e)]++),0==(8191&it)&&We>2){for(r=8*it,o=Be-Ne,a=0;a<l;a++)r+=Ze[2*a]*(5+t.extra_dbits[a]);if(r>>>=3,lt<Math.floor(it/2)&&r<Math.floor(o/2))return!0}return it==at-1}function ce(e,n){var r,o,a,i,s=0;if(0!==it)do r=et.pending_buf[st+2*s]<<8&65280|255&et.pending_buf[st+2*s+1],o=255&et.pending_buf[ot+s],s++,0===r?re(o,e):(re((a=t._length_code[o])+u+1,e),0!==(i=t.extra_lbits[a])&&ne(o-=t.base_length[a],i),r--,re(a=t.d_code(r),n),0!==(i=t.extra_dbits[a])&&ne(r-=t.base_dist[a],i));while(s<it);re(d,e),ct=e[2*d+1]}function ue(){pt>8?I(ut):pt>0&&f(255&ut),ut=0,pt=0}function pe(e,t,n){ue(),ct=8,n&&(I(t),I(~t)),et.pending_buf.set(Me.subarray(e,e+t),et.pending),et.pending+=t}function fe(e,t,n){ne((Y<<1)+(n?1:0),3),pe(e,t,!0)}function de(e,t,o){var a,i,l=0;We>0?(tt.build_tree(et),nt.build_tree(et),l=s(),a=et.opt_len+3+7>>>3,(i=et.static_len+3+7>>>3)<=a&&(a=i)):a=i=t+5,t+4<=a&&-1!=e?fe(e,t,o):i==a?(ne((Q<<1)+(o?1:0),3),ce(n.static_ltree,n.static_dtree)):(ne((X<<1)+(o?1:0),3),ae(tt.max_code+1,nt.max_code+1,l+1),ce(Xe,Ze)),r(),o&&ue()}function he(e){de(Ne>=0?Ne:-1,Be-Ne,e),Ne=Be,Ce.flush_pending()}function me(){var e,t,n,r;do{if(0===(r=_e-He-Be)&&0===Be&&0===He)r=Ae;else if(-1==r)r--;else if(Be>=Ae+Ae-ee){Me.set(Me.subarray(Ae,Ae+Ae),0),ze-=Ae,Be-=Ae,Ne-=Ae,n=e=Re;do t=65535&Oe[--n],Oe[n]=t>=Ae?t-Ae:0;while(0!=--e);n=e=Ae;do t=65535&Pe[--n],Pe[n]=t>=Ae?t-Ae:0;while(0!=--e);r+=Ae}if(0===Ce.avail_in)return;e=Ce.read_buf(Me,Be+He,r),(He+=e)>=Z&&(Ie=255&Me[Be],Ie=(Ie<<De^255&Me[Be+1])&je)}while(He<ee&&0!==Ce.avail_in)}function ye(e){var t,n=65535;for(n>Se-5&&(n=Se-5);;){if(He<=1){if(me(),0===He&&e==T)return q;if(0===He)break}if(Be+=He,He=0,t=Ne+n,(0===Be||Be>=t)&&(He=Be-t,Be=t,he(!1),0===Ce.avail_out))return q;if(Be-Ne>=Ae-ee&&(he(!1),0===Ce.avail_out))return q}return he(e==A),0===Ce.avail_out?e==A?z:q:e==A?H:B}function ge(e){var t,n,r=Ve,o=Be,a=Ue,i=Be>Ae-ee?Be-(Ae-ee):0,s=Qe,l=Ee,c=Be+J,u=Me[o+a-1],p=Me[o+a];Ue>=Ye&&(r>>=2),s>He&&(s=He);do if(t=e,Me[t+a]==p&&Me[t+a-1]==u&&Me[t]==Me[o]&&Me[++t]==Me[o+1]){o+=2,t++;do;while(Me[++o]==Me[++t]&&Me[++o]==Me[++t]&&Me[++o]==Me[++t]&&Me[++o]==Me[++t]&&Me[++o]==Me[++t]&&Me[++o]==Me[++t]&&Me[++o]==Me[++t]&&Me[++o]==Me[++t]&&o<c);if(n=J-(c-o),o=c-J,n>a){if(ze=e,a=n,n>=s)break;u=Me[o+a-1],p=Me[o+a]}}while((e=65535&Pe[e&l])>i&&0!=--r);return a<=He?a:He}function ve(e){for(var t,n=0;;){if(He<ee){if(me(),He<ee&&e==T)return q;if(0===He)break}if(He>=Z&&(Ie=(Ie<<De^255&Me[Be+(Z-1)])&je,n=65535&Oe[Ie],Pe[Be&Ee]=Oe[Ie],Oe[Ie]=Be),0!==n&&(Be-n&65535)<=Ae-ee&&$e!=w&&(Ge=ge(n)),Ge>=Z)if(t=le(Be-ze,Ge-Z),He-=Ge,Ge<=Ke&&He>=Z){Ge--;do Ie=(Ie<<De^255&Me[++Be+(Z-1)])&je,n=65535&Oe[Ie],Pe[Be&Ee]=Oe[Ie],Oe[Ie]=Be;while(0!=--Ge);Be++}else Be+=Ge,Ge=0,Ie=255&Me[Be],Ie=(Ie<<De^255&Me[Be+1])&je;else t=le(0,255&Me[Be]),He--,Be++;if(t&&(he(!1),0===Ce.avail_out))return q}return he(e==A),0===Ce.avail_out?e==A?z:q:e==A?H:B}function be(e){for(var t,n,r=0;;){if(He<ee){if(me(),He<ee&&e==T)return q;if(0===He)break}if(He>=Z&&(Ie=(Ie<<De^255&Me[Be+(Z-1)])&je,r=65535&Oe[Ie],Pe[Be&Ee]=Oe[Ie],Oe[Ie]=Be),Ue=Ge,Fe=ze,Ge=Z-1,0!==r&&Ue<Ke&&(Be-r&65535)<=Ae-ee&&($e!=w&&(Ge=ge(r)),Ge<=5&&($e==b||Ge==Z&&Be-ze>4096)&&(Ge=Z-1)),Ue>=Z&&Ge<=Ue){n=Be+He-Z,t=le(Be-1-Fe,Ue-Z),He-=Ue-1,Ue-=2;do++Be<=n&&(Ie=(Ie<<De^255&Me[Be+(Z-1)])&je,r=65535&Oe[Ie],Pe[Be&Ee]=Oe[Ie],Oe[Ie]=Be);while(0!=--Ue);if(qe=0,Ge=Z-1,Be++,t&&(he(!1),0===Ce.avail_out))return q}else if(0!==qe){if((t=le(0,255&Me[Be-1]))&&he(!1),Be++,He--,0===Ce.avail_out)return q}else qe=1,Be++,He--}return 0!==qe&&(t=le(0,255&Me[Be-1]),qe=0),he(e==A),0===Ce.avail_out?e==A?z:q:e==A?H:B}function we(t){return t.total_in=t.total_out=0,t.msg=null,et.pending=0,et.pending_out=0,Te=K,xe=T,a(),e(),k}var Ce,Te,Se,xe,Ae,ke,Ee,Me,_e,Pe,Oe,Ie,Re,Le,je,De,Ne,Ge,Fe,qe,Be,ze,He,Ue,Ve,Ke,We,$e,Ye,Qe,Xe,Ze,Je,et=this,tt=new t,nt=new t,rt=new t;et.depth=[];var ot,at,it,st,lt,ct,ut,pt;et.bl_count=[],et.heap=[],Xe=[],Ze=[],Je=[],et.pqdownheap=function(e,t){for(var n=et.heap,r=n[t],a=t<<1;a<=et.heap_len&&(a<et.heap_len&&o(e,n[a+1],n[a],et.depth)&&a++,!o(e,r,n[a],et.depth));)n[t]=n[a],t=a,a<<=1;n[t]=r},et.deflateInit=function(e,t,n,r,o,a){return r||(r=$),o||(o=L),a||(a=C),e.msg=null,t==v&&(t=6),o<1||o>R||r!=$||n<9||n>15||t<0||t>9||a<0||a>w?_:(e.dstate=et,ke=n,Ae=1<<ke,Ee=Ae-1,Le=o+7,Re=1<<Le,je=Re-1,De=Math.floor((Le+Z-1)/Z),Me=new Uint8Array(2*Ae),Pe=[],Oe=[],at=1<<o+6,et.pending_buf=new Uint8Array(4*at),Se=4*at,st=Math.floor(at/2),ot=3*at,We=t,$e=a,we(e))},et.deflateEnd=function(){return Te!=V&&Te!=K&&Te!=W?_:(et.pending_buf=null,Oe=null,Pe=null,Me=null,et.dstate=null,Te==K?P:k)},et.deflateParams=function(e,t,n){var r=k;return t==v&&(t=6),t<0||t>9||n<0||n>w?_:(G[We].func!=G[t].func&&0!==e.total_in&&(r=e.deflate(S)),We!=t&&(Ke=G[We=t].max_lazy,Ye=G[We].good_length,Qe=G[We].nice_length,Ve=G[We].max_chain),$e=n,r)},et.deflateSetDictionary=function(e,t,n){var r,o=n,a=0;if(!t||Te!=V)return _;if(o<Z)return k;for(o>Ae-ee&&(a=n-(o=Ae-ee)),Me.set(t.subarray(a,a+o),0),Be=o,Ne=o,Ie=255&Me[0],Ie=(Ie<<De^255&Me[1])&je,r=0;r<=o-Z;r++)Ie=(Ie<<De^255&Me[r+(Z-1)])&je,Pe[r&Ee]=Oe[Ie],Oe[Ie]=r;return k},et.deflate=function(e,t){var n,r,o,a,i;if(t>A||t<0)return _;if(!e.next_out||!e.next_in&&0!==e.avail_in||Te==W&&t!=A)return e.msg=F[M-_],_;if(0===e.avail_out)return e.msg=F[M-O],O;if(Ce=e,a=xe,xe=t,Te==V&&(r=$+(ke-8<<4)<<8,(o=(We-1&255)>>1)>3&&(o=3),r|=o<<6,0!==Be&&(r|=U),Te=K,te(r+=31-r%31)),0!==et.pending){if(Ce.flush_pending(),0===Ce.avail_out)return xe=-1,k}else if(0===Ce.avail_in&&t<=a&&t!=A)return Ce.msg=F[M-O],O;if(Te==W&&0!==Ce.avail_in)return e.msg=F[M-O],O;if(0!==Ce.avail_in||0!==He||t!=T&&Te!=W){switch(i=-1,G[We].func){case j:i=ye(t);break;case D:i=ve(t);break;case N:i=be(t)}if(i!=z&&i!=H||(Te=W),i==q||i==z)return 0===Ce.avail_out&&(xe=-1),k;if(i==B){if(t==S)se();else if(fe(0,0,!1),t==x)for(n=0;n<Re;n++)Oe[n]=0;if(Ce.flush_pending(),0===Ce.avail_out)return xe=-1,k}}return t!=A?k:E}}function i(){var e=this;e.next_in_index=0,e.next_out_index=0,e.avail_in=0,e.total_in=0,e.avail_out=0,e.total_out=0}var s=15,l=30,c=19,u=256,p=u+1+29,f=2*p+1,d=256,h=16,m=17,y=18,g=16,v=-1,b=1,w=2,C=0,T=0,S=1,x=3,A=4,k=0,E=1,M=2,_=-2,P=-3,O=-5,I=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];t._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],t.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],t.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],t.d_code=function(e){return e<256?I[e]:I[256+(e>>>7)]},t.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],t.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],t.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],t.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],n.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],n.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],n.static_l_desc=new n(n.static_ltree,t.extra_lbits,u+1,p,s),n.static_d_desc=new n(n.static_dtree,t.extra_dbits,0,l,s),n.static_bl_desc=new n(null,t.extra_blbits,0,c,7);var R=9,L=8,j=0,D=1,N=2,G=[new r(0,0,0,0,j),new r(4,4,8,4,D),new r(4,5,16,8,D),new r(4,6,32,32,D),new r(4,4,16,16,N),new r(8,16,32,32,N),new r(8,16,128,128,N),new r(8,32,128,256,N),new r(32,128,258,1024,N),new r(32,258,258,4096,N)],F=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],q=0,B=1,z=2,H=3,U=32,V=42,K=113,W=666,$=8,Y=0,Q=1,X=2,Z=3,J=258,ee=J+Z+1;return i.prototype={deflateInit:function(e,t){var n=this;return n.dstate=new a,t||(t=s),n.dstate.deflateInit(n,e,t)},deflate:function(e){var t=this;return t.dstate?t.dstate.deflate(t,e):_},deflateEnd:function(){var e=this;if(!e.dstate)return _;var t=e.dstate.deflateEnd();return e.dstate=null,t},deflateParams:function(e,t){var n=this;return n.dstate?n.dstate.deflateParams(n,e,t):_},deflateSetDictionary:function(e,t){var n=this;return n.dstate?n.dstate.deflateSetDictionary(n,e,t):_},read_buf:function(e,t,n){var r=this,o=r.avail_in;return o>n&&(o=n),0===o?0:(r.avail_in-=o,e.set(r.next_in.subarray(r.next_in_index,r.next_in_index+o),t),r.next_in_index+=o,r.total_in+=o,o)},flush_pending:function(){var e=this,t=e.dstate.pending;t>e.avail_out&&(t=e.avail_out),0!==t&&(e.next_out.set(e.dstate.pending_buf.subarray(e.dstate.pending_out,e.dstate.pending_out+t),e.next_out_index),e.next_out_index+=t,e.dstate.pending_out+=t,e.total_out+=t,e.avail_out-=t,e.dstate.pending-=t,0===e.dstate.pending&&(e.dstate.pending_out=0))}},function(e){var t=this,n=new i,r=T,o=new Uint8Array(512);void 0===e&&(e=v),n.deflateInit(e),n.next_out=o,t.append=function(e,t){var a,i=[],s=0,l=0,c=0;if(e.length){n.next_in_index=0,n.next_in=e,n.avail_in=e.length;do{if(n.next_out_index=0,n.avail_out=512,n.deflate(r)!=k)throw"deflating: "+n.msg;n.next_out_index&&(512==n.next_out_index?i.push(new Uint8Array(o)):i.push(new Uint8Array(o.subarray(0,n.next_out_index)))),c+=n.next_out_index,t&&n.next_in_index>0&&n.next_in_index!=s&&(t(n.next_in_index),s=n.next_in_index)}while(n.avail_in>0||0===n.avail_out);return a=new Uint8Array(c),i.forEach(function(e){a.set(e,l),l+=e.length}),a}},t.flush=function(){var e,t,r=[],a=0,i=0;do{if(n.next_out_index=0,n.avail_out=512,(e=n.deflate(A))!=E&&e!=k)throw"deflating: "+n.msg;512-n.avail_out>0&&r.push(new Uint8Array(o.subarray(0,n.next_out_index))),i+=n.next_out_index}while(n.avail_in>0||0===n.avail_out);return n.deflateEnd(),t=new Uint8Array(i),r.forEach(function(e){t.set(e,a),a+=e.length}),t}}}();!function(n){if("object"==typeof t&&"undefined"!=typeof e)e.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r;"undefined"!=typeof window?r=window:"undefined"!=typeof global?r=global:"undefined"!=typeof self&&(r=self),r.html2canvas=n()}}(function(){return function e(t,n,r){function o(i,s){if(!n[i]){if(!t[i]){var l="function"==typeof require&&require;if(!s&&l)return l(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[i]={exports:{}};t[i][0].call(u.exports,function(e){var n=t[i][1][e];return o(n||e)},u,u.exports,e,t,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){(function(e){!function(r){function o(e){throw RangeError(O[e])}function a(e,t){for(var n=e.length;n--;)e[n]=t(e[n]);return e}function i(e,t){return a(e.split(P),t).join(".")}function s(e){for(var t,n,r=[],o=0,a=e.length;o<a;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<a?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function l(e){return a(e,function(e){var t="";return e>65535&&(t+=L((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=L(e)}).join("")}function c(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:w}function u(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function p(e,t,n){var r=0;for(e=n?R(e/x):e>>1,e+=R(e/t);e>I*T>>1;r+=w)e=R(e/I);return R(r+(I+1)*e/(e+S))}function f(e){var t,n,r,a,i,s,u,f,d,h,m=[],y=e.length,g=0,v=k,S=A;for((n=e.lastIndexOf(E))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&o("not-basic"),m.push(e.charCodeAt(r));for(a=n>0?n+1:0;a<y;){for(i=g,s=1,u=w;a>=y&&o("invalid-input"),((f=c(e.charCodeAt(a++)))>=w||f>R((b-g)/s))&&o("overflow"),g+=f*s,d=u<=S?C:u>=S+T?T:u-S,!(f<d);u+=w)s>R(b/(h=w-d))&&o("overflow"),s*=h;S=p(g-i,t=m.length+1,0==i),R(g/t)>b-v&&o("overflow"),v+=R(g/t),g%=t,m.splice(g++,0,v)}return l(m)}function d(e){var t,n,r,a,i,l,c,f,d,h,m,y,g,v,S,x=[];for(y=(e=s(e)).length,t=k,n=0,i=A,l=0;l<y;++l)(m=e[l])<128&&x.push(L(m));for(r=a=x.length,a&&x.push(E);r<y;){for(c=b,l=0;l<y;++l)(m=e[l])>=t&&m<c&&(c=m);for(c-t>R((b-n)/(g=r+1))&&o("overflow"),n+=(c-t)*g,t=c,l=0;l<y;++l)if((m=e[l])<t&&++n>b&&o("overflow"),m==t){for(f=n,d=w;h=d<=i?C:d>=i+T?T:d-i,!(f<h);d+=w)S=f-h,v=w-h,x.push(L(u(h+S%v,0))),f=R(S/v);x.push(L(u(f,0))),i=p(n,g,r==a),n=0,++r}++n,++t}return x.join("")}var h="object"==typeof n&&n,m="object"==typeof t&&t&&t.exports==h&&t,y="object"==typeof e&&e;y.global!==y&&y.window!==y||(r=y);var g,v,b=2147483647,w=36,C=1,T=26,S=38,x=700,A=72,k=128,E="-",M=/^xn--/,_=/[^ -~]/,P=/\x2E|\u3002|\uFF0E|\uFF61/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=w-C,R=Math.floor,L=String.fromCharCode;if(g={version:"1.2.4",ucs2:{decode:s,encode:l},decode:f,encode:d,toASCII:function(e){return i(e,function(e){return _.test(e)?"xn--"+d(e):e})},toUnicode:function(e){return i(e,function(e){return M.test(e)?f(e.slice(4).toLowerCase()):e})}},h&&!h.nodeType)if(m)m.exports=g;else for(v in g)g.hasOwnProperty(v)&&(h[v]=g[v]);else r.punycode=g}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){function r(e,t,n){!e.defaultView||t===e.defaultView.pageXOffset&&n===e.defaultView.pageYOffset||e.defaultView.scrollTo(t,n)}function o(e,t){try{t&&(t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e.getContext("2d").getImageData(0,0,e.width,e.height),0,0))}catch(t){s("Unable to copy canvas content from",e,t)}}function a(e,t){for(var n=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),r=e.firstChild;r;)!0!==t&&1===r.nodeType&&"SCRIPT"===r.nodeName||n.appendChild(a(r,t)),r=r.nextSibling;return 1===e.nodeType&&(n._scrollTop=e.scrollTop,n._scrollLeft=e.scrollLeft,"CANVAS"===e.nodeName?o(e,n):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(n.value=e.value)),n}function i(e){if(1===e.nodeType){e.scrollTop=e._scrollTop,e.scrollLeft=e._scrollLeft;for(var t=e.firstChild;t;)i(t),t=t.nextSibling}}var s=e("./log");t.exports=function(e,t,n,o,s,l,c){var u=a(e.documentElement,s.javascriptEnabled),p=t.createElement("iframe");return p.className="html2canvas-container",p.style.visibility="hidden",p.style.position="fixed",p.style.left="-10000px",p.style.top="0px",p.style.border="0",p.width=n,p.height=o,p.scrolling="no",t.body.appendChild(p),new Promise(function(t){var n=p.contentWindow.document;p.contentWindow.onload=p.onload=function(){var e=setInterval(function(){n.body.childNodes.length>0&&(i(n.documentElement),clearInterval(e),"view"===s.type&&(p.contentWindow.scrollTo(l,c),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||p.contentWindow.scrollY===c&&p.contentWindow.scrollX===l||(n.documentElement.style.top=-c+"px",n.documentElement.style.left=-l+"px",n.documentElement.style.position="absolute")),t(p))},50)},n.open(),n.write("<!DOCTYPE html><html></html>"),r(e,l,c),n.replaceChild(n.adoptNode(u),n.documentElement),n.close()})}},{"./log":13}],3:[function(e,t,n){function r(e){this.r=0,this.g=0,this.b=0,this.a=null,this.fromArray(e)||this.namedColor(e)||this.rgb(e)||this.rgba(e)||this.hex6(e)||this.hex3(e)}r.prototype.darken=function(e){var t=1-e;return new r([Math.round(this.r*t),Math.round(this.g*t),Math.round(this.b*t),this.a])},r.prototype.isTransparent=function(){return 0===this.a},r.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},r.prototype.fromArray=function(e){return Array.isArray(e)&&(this.r=Math.min(e[0],255),this.g=Math.min(e[1],255),this.b=Math.min(e[2],255),e.length>3&&(this.a=e[3])),Array.isArray(e)};var o=/^#([a-f0-9]{3})$/i;r.prototype.hex3=function(e){var t=null;return null!==(t=e.match(o))&&(this.r=parseInt(t[1][0]+t[1][0],16),this.g=parseInt(t[1][1]+t[1][1],16),this.b=parseInt(t[1][2]+t[1][2],16)),null!==t};var a=/^#([a-f0-9]{6})$/i;r.prototype.hex6=function(e){var t=null;return null!==(t=e.match(a))&&(this.r=parseInt(t[1].substring(0,2),16),this.g=parseInt(t[1].substring(2,4),16),this.b=parseInt(t[1].substring(4,6),16)),null!==t};var i=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;r.prototype.rgb=function(e){var t=null;return null!==(t=e.match(i))&&(this.r=Number(t[1]),this.g=Number(t[2]),this.b=Number(t[3])),null!==t};var s=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;r.prototype.rgba=function(e){var t=null;return null!==(t=e.match(s))&&(this.r=Number(t[1]),this.g=Number(t[2]),this.b=Number(t[3]),this.a=Number(t[4])),null!==t},r.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},r.prototype.namedColor=function(e){e=e.toLowerCase();var t=l[e];if(t)this.r=t[0],this.g=t[1],this.b=t[2];else if("transparent"===e)return this.r=this.g=this.b=this.a=0,!0;return!!t},r.prototype.isColor=!0;var l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};t.exports=r},{}],4:[function(e,t,n){function r(e,t){var n=T++;if((t=t||{}).logging&&(y.options.logging=!0,y.options.start=Date.now()),t.async=void 0===t.async||t.async,t.allowTaint=void 0!==t.allowTaint&&t.allowTaint,t.removeContainer=void 0===t.removeContainer||t.removeContainer,t.javascriptEnabled=void 0!==t.javascriptEnabled&&t.javascriptEnabled,t.imageTimeout=void 0===t.imageTimeout?1e4:t.imageTimeout,t.renderer="function"==typeof t.renderer?t.renderer:f,t.strict=!!t.strict,"string"==typeof e){
if("string"!=typeof t.proxy)return Promise.reject("Proxy must be used when rendering url");var r=null!=t.width?t.width:window.innerWidth,i=null!=t.height?t.height:window.innerHeight;return b(u(e),t.proxy,document,r,i,t).then(function(e){return a(e.contentWindow.document.documentElement,e,t,r,i)})}var s=(void 0===e?[document.documentElement]:e.length?e:[e])[0];return s.setAttribute(C+n,n),o(s.ownerDocument,t,s.ownerDocument.defaultView.innerWidth,s.ownerDocument.defaultView.innerHeight,n).then(function(e){return"function"==typeof t.onrendered&&(y("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),t.onrendered(e)),e})}function o(e,t,n,r,o){return v(e,e,n,r,t,e.defaultView.pageXOffset,e.defaultView.pageYOffset).then(function(i){y("Document cloned");var s=C+o,l="["+s+"='"+o+"']";e.querySelector(l).removeAttribute(s);var c=i.contentWindow,u=c.document.querySelector(l);return("function"==typeof t.onclone?Promise.resolve(t.onclone(c.document)):Promise.resolve(!0)).then(function(){return a(u,i,t,n,r)})})}function a(e,t,n,r,o){var a=t.contentWindow,u=new p(a.document),f=new d(n,u),m=w(e),g="view"===n.type?r:l(a.document),v="view"===n.type?o:c(a.document),b=new n.renderer(g,v,f,n,document);return new h(e,b,u,f,n).ready.then(function(){y("Finished rendering");var r;return r="view"===n.type?s(b.canvas,{width:b.canvas.width,height:b.canvas.height,top:0,left:0,x:0,y:0}):e===a.document.body||e===a.document.documentElement||null!=n.canvas?b.canvas:s(b.canvas,{width:null!=n.width?n.width:m.width,height:null!=n.height?n.height:m.height,top:m.top,left:m.left,x:0,y:0}),i(t,n),r})}function i(e,t){t.removeContainer&&(e.parentNode.removeChild(e),y("Cleaned up container"))}function s(e,t){var n=document.createElement("canvas"),r=Math.min(e.width-1,Math.max(0,t.left)),o=Math.min(e.width,Math.max(1,t.left+t.width)),a=Math.min(e.height-1,Math.max(0,t.top)),i=Math.min(e.height,Math.max(1,t.top+t.height));n.width=t.width,n.height=t.height;var s=o-r,l=i-a;return y("Cropping canvas at:","left:",t.left,"top:",t.top,"width:",s,"height:",l),y("Resulting crop with width",t.width,"and height",t.height,"with x",r,"and y",a),n.getContext("2d").drawImage(e,r,a,s,l,t.x,t.y,s,l),n}function l(e){return Math.max(Math.max(e.body.scrollWidth,e.documentElement.scrollWidth),Math.max(e.body.offsetWidth,e.documentElement.offsetWidth),Math.max(e.body.clientWidth,e.documentElement.clientWidth))}function c(e){return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))}function u(e){var t=document.createElement("a");return t.href=e,t.href=t.href,t}var p=e("./support"),f=e("./renderers/canvas"),d=e("./imageloader"),h=e("./nodeparser"),m=e("./nodecontainer"),y=e("./log"),g=e("./utils"),v=e("./clone"),b=e("./proxy").loadUrlDocument,w=g.getBounds,C="data-html2canvas-node",T=0;r.CanvasRenderer=f,r.NodeContainer=m,r.log=y,r.utils=g;var S="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:r;t.exports=S},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(e,t,n){function r(e){if(this.src=e,o("DummyImageContainer for",e),!this.promise||!this.image){o("Initiating DummyImageContainer"),r.prototype.image=new Image;var t=this.image;r.prototype.promise=new Promise(function(e,n){t.onload=e,t.onerror=n,t.src=a(),!0===t.complete&&e(t)})}}var o=e("./log"),a=e("./utils").smallImage;t.exports=r},{"./log":13,"./utils":26}],6:[function(e,t,n){var r=e("./utils").smallImage;t.exports=function(e,t){var n,o,a=document.createElement("div"),i=document.createElement("img"),s=document.createElement("span");a.style.visibility="hidden",a.style.fontFamily=e,a.style.fontSize=t,a.style.margin=0,a.style.padding=0,document.body.appendChild(a),i.src=r(),i.width=1,i.height=1,i.style.margin=0,i.style.padding=0,i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin=0,s.style.padding=0,s.appendChild(document.createTextNode("Hidden Text")),a.appendChild(s),a.appendChild(i),n=i.offsetTop-s.offsetTop+1,a.removeChild(s),a.appendChild(document.createTextNode("Hidden Text")),a.style.lineHeight="normal",i.style.verticalAlign="super",o=i.offsetTop-a.offsetTop+1,document.body.removeChild(a),this.baseline=n,this.lineWidth=1,this.middle=o}},{"./utils":26}],7:[function(e,t,n){function r(){this.data={}}var o=e("./font");r.prototype.getMetrics=function(e,t){return void 0===this.data[e+"-"+t]&&(this.data[e+"-"+t]=new o(e,t)),this.data[e+"-"+t]},t.exports=r},{"./font":6}],8:[function(e,t,n){function r(t,n,r){this.image=null,this.src=t;var a=this,i=o(t);this.promise=(n?new Promise(function(e){"about:blank"===t.contentWindow.document.URL||null==t.contentWindow.document.documentElement?t.contentWindow.onload=t.onload=function(){e(t)}:e(t)}):this.proxyLoad(r.proxy,i,r)).then(function(t){return e("./core")(t.contentWindow.document.documentElement,{type:"view",width:t.width,height:t.height,proxy:r.proxy,javascriptEnabled:r.javascriptEnabled,removeContainer:r.removeContainer,allowTaint:r.allowTaint,imageTimeout:r.imageTimeout/2})}).then(function(e){return a.image=e})}var o=e("./utils").getBounds,a=e("./proxy").loadUrlDocument;r.prototype.proxyLoad=function(e,t,n){var r=this.src;return a(r.src,e,r.ownerDocument,t.width,t.height,n)},t.exports=r},{"./core":4,"./proxy":16,"./utils":26}],9:[function(e,t,n){function r(e){this.src=e.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}r.TYPES={LINEAR:1,RADIAL:2},r.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,t.exports=r},{}],10:[function(e,t,n){t.exports=function(e,t){this.src=e,this.image=new Image;var n=this;this.tainted=null,this.promise=new Promise(function(r,o){n.image.onload=r,n.image.onerror=o,t&&(n.image.crossOrigin="anonymous"),n.image.src=e,!0===n.image.complete&&r(n.image)})}},{}],11:[function(e,t,n){function r(e,t){this.link=null,this.options=e,this.support=t,this.origin=this.getOrigin(window.location.href)}var o=e("./log"),a=e("./imagecontainer"),i=e("./dummyimagecontainer"),s=e("./proxyimagecontainer"),l=e("./framecontainer"),c=e("./svgcontainer"),u=e("./svgnodecontainer"),p=e("./lineargradientcontainer"),f=e("./webkitgradientcontainer"),d=e("./utils").bind;r.prototype.findImages=function(e){var t=[];return e.reduce(function(e,t){switch(t.node.nodeName){case"IMG":return e.concat([{args:[t.node.src],method:"url"}]);case"svg":case"IFRAME":return e.concat([{args:[t.node],method:t.node.nodeName}])}return e},[]).forEach(this.addImage(t,this.loadImage),this),t},r.prototype.findBackgroundImage=function(e,t){return t.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(e,this.loadImage),this),e},r.prototype.addImage=function(e,t){return function(n){n.args.forEach(function(r){this.imageExists(e,r)||(e.splice(0,0,t.call(this,n)),o("Added image #"+e.length,"string"==typeof r?r.substring(0,100):r))},this)}},r.prototype.hasImageBackground=function(e){return"none"!==e.method},r.prototype.loadImage=function(e){if("url"===e.method){var t=e.args[0];return!this.isSVG(t)||this.support.svg||this.options.allowTaint?t.match(/data:image\/.*;base64,/i)?new a(t.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(t)||!0===this.options.allowTaint||this.isSVG(t)?new a(t,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new a(t,!0):this.options.proxy?new s(t,this.options.proxy):new i(t):new c(t)}return"linear-gradient"===e.method?new p(e):"gradient"===e.method?new f(e):"svg"===e.method?new u(e.args[0],this.support.svg):"IFRAME"===e.method?new l(e.args[0],this.isSameOrigin(e.args[0].src),this.options):new i(e)},r.prototype.isSVG=function(e){return"svg"===e.substring(e.length-3).toLowerCase()||c.prototype.isInline(e)},r.prototype.imageExists=function(e,t){return e.some(function(e){return e.src===t})},r.prototype.isSameOrigin=function(e){return this.getOrigin(e)===this.origin},r.prototype.getOrigin=function(e){var t=this.link||(this.link=document.createElement("a"));return t.href=e,t.href=t.href,t.protocol+t.hostname+t.port},r.prototype.getPromise=function(e){return this.timeout(e,this.options.imageTimeout).catch(function(){return new i(e.src).promise.then(function(t){e.image=t})})},r.prototype.get=function(e){var t=null;return this.images.some(function(n){return(t=n).src===e})?t:null},r.prototype.fetch=function(e){return this.images=e.reduce(d(this.findBackgroundImage,this),this.findImages(e)),this.images.forEach(function(e,t){e.promise.then(function(){o("Succesfully loaded image #"+(t+1),e)},function(n){o("Failed loading image #"+(t+1),e,n)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),o("Finished searching images"),this},r.prototype.timeout=function(e,t){var n,r=Promise.race([e.promise,new Promise(function(r,a){n=setTimeout(function(){o("Timed out loading image",e),a(e)},t)})]).then(function(e){return clearTimeout(n),e});return r.catch(function(){clearTimeout(n)}),r},t.exports=r},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(e,t,n){function r(e){o.apply(this,arguments),this.type=o.TYPES.LINEAR;var t=r.REGEXP_DIRECTION.test(e.args[0])||!o.REGEXP_COLORSTOP.test(e.args[0]);t?e.args[0].split(/\s+/).reverse().forEach(function(e,t){switch(e){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var n=this.y0,r=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=r,this.y1=n;break;case"center":break;default:var o=.01*parseFloat(e,10);if(isNaN(o))break;0===t?(this.y0=o,this.y1=1-this.y0):(this.x0=o,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=e.args.slice(t?1:0).map(function(e){var t=e.match(o.REGEXP_COLORSTOP),n=+t[2],r=0===n?"%":t[3];return{color:new a(t[1]),stop:"%"===r?n/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(e,t){null===e.stop&&this.colorStops.slice(t).some(function(n,r){return null!==n.stop&&(e.stop=(n.stop-this.colorStops[t-1].stop)/(r+1)+this.colorStops[t-1].stop,!0)},this)},this)}var o=e("./gradientcontainer"),a=e("./color");r.prototype=Object.create(o.prototype),r.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,t.exports=r},{"./color":3,"./gradientcontainer":9}],13:[function(e,t,n){var r=function(){r.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-r.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};r.options={logging:!1},t.exports=r},{}],14:[function(e,t,n){function r(e,t){this.node=e,this.parent=t,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function o(e){var t=e.options[e.selectedIndex||0];return t?t.text||"":""}function a(e){if(e&&"matrix"===e[1])return e[2].split(",").map(function(e){return parseFloat(e.trim())});if(e&&"matrix3d"===e[1]){var t=e[2].split(",").map(function(e){return parseFloat(e.trim())});return[t[0],t[1],t[4],t[5],t[12],t[13]]}}function i(e){return-1!==e.toString().indexOf("%")}function s(e){return e.replace("px","")}function l(e){return parseFloat(e)}var c=e("./color"),u=e("./utils"),p=u.getBounds,f=u.parseBackgrounds,d=u.offsetBounds;r.prototype.cloneTo=function(e){e.visible=this.visible,e.borders=this.borders,e.bounds=this.bounds,e.clip=this.clip,e.backgroundClip=this.backgroundClip,e.computedStyles=this.computedStyles,e.styles=this.styles,e.backgroundImages=this.backgroundImages,e.opacity=this.opacity},r.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},r.prototype.assignStack=function(e){this.stack=e,e.children.push(this)},r.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},r.prototype.css=function(e){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[e]||(this.styles[e]=this.computedStyles[e])},r.prototype.prefixedCss=function(e){var t=["webkit","moz","ms","o"],n=this.css(e);return void 0===n&&t.some(function(t){return void 0!==(n=this.css(t+e.substr(0,1).toUpperCase()+e.substr(1)))},this),void 0===n?null:n},r.prototype.computedStyle=function(e){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,e)},r.prototype.cssInt=function(e){var t=parseInt(this.css(e),10);return isNaN(t)?0:t},r.prototype.color=function(e){return this.colors[e]||(this.colors[e]=new c(this.css(e)))},r.prototype.cssFloat=function(e){var t=parseFloat(this.css(e));return isNaN(t)?0:t},r.prototype.fontWeight=function(){var e=this.css("fontWeight");switch(parseInt(e,10)){case 401:e="bold";break;case 400:e="normal"}return e},r.prototype.parseClip=function(){var e=this.css("clip").match(this.CLIP);return e?{top:parseInt(e[1],10),right:parseInt(e[2],10),bottom:parseInt(e[3],10),left:parseInt(e[4],10)}:null},r.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=f(this.css("backgroundImage")))},r.prototype.cssList=function(e,t){var n=(this.css(e)||"").split(",");return n=n[t||0]||n[0]||"auto",1===(n=n.trim().split(" ")).length&&(n=[n[0],i(n[0])?"auto":n[0]]),n},r.prototype.parseBackgroundSize=function(e,t,n){var r,o,a=this.cssList("backgroundSize",n);if(i(a[0]))r=e.width*parseFloat(a[0])/100;else{if(/contain|cover/.test(a[0])){var s=e.width/e.height,l=t.width/t.height;return s<l^"contain"===a[0]?{width:e.height*l,height:e.height}:{width:e.width,height:e.width/l}}r=parseInt(a[0],10)}return o="auto"===a[0]&&"auto"===a[1]?t.height:"auto"===a[1]?r/t.width*t.height:i(a[1])?e.height*parseFloat(a[1])/100:parseInt(a[1],10),"auto"===a[0]&&(r=o/t.height*t.width),{width:r,height:o}},r.prototype.parseBackgroundPosition=function(e,t,n,r){var o,a,s=this.cssList("backgroundPosition",n);return o=i(s[0])?(e.width-(r||t).width)*(parseFloat(s[0])/100):parseInt(s[0],10),a="auto"===s[1]?o/t.width*t.height:i(s[1])?(e.height-(r||t).height)*parseFloat(s[1])/100:parseInt(s[1],10),"auto"===s[0]&&(o=a/t.height*t.width),{left:o,top:a}},r.prototype.parseBackgroundRepeat=function(e){return this.cssList("backgroundRepeat",e)[0]},r.prototype.parseTextShadows=function(){var e=this.css("textShadow"),t=[];if(e&&"none"!==e)for(var n=e.match(this.TEXT_SHADOW_PROPERTY),r=0;n&&r<n.length;r++){var o=n[r].match(this.TEXT_SHADOW_VALUES);t.push({color:new c(o[0]),offsetX:o[1]?parseFloat(o[1].replace("px","")):0,offsetY:o[2]?parseFloat(o[2].replace("px","")):0,blur:o[3]?o[3].replace("px",""):0})}return t},r.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var e=this.parseBounds(),t=this.prefixedCss("transformOrigin").split(" ").map(s).map(l);t[0]+=e.left,t[1]+=e.top,this.transformData={origin:t,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},r.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var e=this.prefixedCss("transform"),t=e?a(e.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=t||[1,0,0,1,0,0]}return this.transformMatrix},r.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?d(this.node):p(this.node))},r.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},r.prototype.getValue=function(){var e=this.node.value||"";return"SELECT"===this.node.tagName?e=o(this.node):"password"===this.node.type&&(e=Array(e.length+1).join("•")),0===e.length?this.node.placeholder||"":e},r.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,r.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,r.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,r.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,t.exports=r},{"./color":3,"./utils":26}],15:[function(e,t,n){function r(e,t,n,r,o){q("Starting NodeParser"),this.renderer=t,this.options=o,this.range=null,this.support=n,this.renderQueue=[],this.stack=new W(!0,1,e.ownerDocument,null);var a=new z(e,null);if(o.background&&t.rectangle(0,0,t.width,t.height,new K(o.background)),e===e.ownerDocument.documentElement){var i=new z(a.color("backgroundColor").isTransparent()?e.ownerDocument.body:e.ownerDocument.documentElement,null);t.rectangle(0,0,t.width,t.height,i.color("backgroundColor"))}a.visibile=a.isElementVisible(),this.createPseudoHideStyles(e.ownerDocument),this.disableAnimations(e.ownerDocument),this.nodes=j([a].concat(this.getChildren(a)).filter(function(e){return e.visible=e.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new V,q("Fetched nodes, total:",this.nodes.length),q("Calculate overflow clips"),this.calculateOverflowClips(),q("Start fetching images"),this.images=r.fetch(this.nodes.filter(E)),this.ready=this.images.ready.then(Y(function(){return q("Images loaded, starting parsing"),q("Creating stacking contexts"),this.createStackingContexts(),q("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),q("Render queue created with "+this.renderQueue.length+" items"),new Promise(Y(function(e){o.async?"function"==typeof o.async?o.async.call(this,this.renderQueue,e):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,e)):e():(this.renderQueue.forEach(this.paint,this),e())},this))},this))}function o(e){return e.parent&&e.parent.clip.length}function a(e){return e.replace(/(\-[a-z])/g,function(e){return e.toUpperCase().replace("-","")})}function i(){}function s(e,t,n,r){return e.map(function(o,a){if(o.width>0){var i=t.left,s=t.top,l=t.width,c=t.height-e[2].width;switch(a){case 0:c=e[0].width,o.args=p({c1:[i,s],c2:[i+l,s],c3:[i+l-e[1].width,s+c],c4:[i+e[3].width,s+c]},r[0],r[1],n.topLeftOuter,n.topLeftInner,n.topRightOuter,n.topRightInner);break;case 1:i=t.left+t.width-e[1].width,l=e[1].width,o.args=p({c1:[i+l,s],c2:[i+l,s+c+e[2].width],c3:[i,s+c],c4:[i,s+e[0].width]},r[1],r[2],n.topRightOuter,n.topRightInner,n.bottomRightOuter,n.bottomRightInner);break;case 2:s=s+t.height-e[2].width,c=e[2].width,o.args=p({c1:[i+l,s+c],c2:[i,s+c],c3:[i+e[3].width,s],c4:[i+l-e[3].width,s]},r[2],r[3],n.bottomRightOuter,n.bottomRightInner,n.bottomLeftOuter,n.bottomLeftInner);break;case 3:l=e[3].width,o.args=p({c1:[i,s+c+e[2].width],c2:[i,s],c3:[i+l,s+e[0].width],c4:[i+l,s+c]},r[3],r[0],n.bottomLeftOuter,n.bottomLeftInner,n.topLeftOuter,n.topLeftInner)}}return o})}function l(e,t,n,r){var o=(Math.sqrt(2)-1)/3*4,a=n*o,i=r*o,s=e+n,l=t+r;return{topLeft:u({x:e,y:l},{x:e,y:l-i},{x:s-a,y:t},{x:s,y:t}),topRight:u({x:e,y:t},{x:e+a,y:t},{x:s,y:l-i},{x:s,y:l}),bottomRight:u({x:s,y:t},{x:s,y:t+i},{x:e+a,y:l},{x:e,y:l}),bottomLeft:u({x:s,y:l},{x:s-a,y:l},{x:e,y:t+i},{x:e,y:t})}}function c(e,t,n){var r=e.left,o=e.top,a=e.width,i=e.height,s=t[0][0]<a/2?t[0][0]:a/2,c=t[0][1]<i/2?t[0][1]:i/2,u=t[1][0]<a/2?t[1][0]:a/2,p=t[1][1]<i/2?t[1][1]:i/2,f=t[2][0]<a/2?t[2][0]:a/2,d=t[2][1]<i/2?t[2][1]:i/2,h=t[3][0]<a/2?t[3][0]:a/2,m=t[3][1]<i/2?t[3][1]:i/2,y=a-u,g=i-d,v=a-f,b=i-m;return{topLeftOuter:l(r,o,s,c).topLeft.subdivide(.5),topLeftInner:l(r+n[3].width,o+n[0].width,Math.max(0,s-n[3].width),Math.max(0,c-n[0].width)).topLeft.subdivide(.5),topRightOuter:l(r+y,o,u,p).topRight.subdivide(.5),topRightInner:l(r+Math.min(y,a+n[3].width),o+n[0].width,y>a+n[3].width?0:u-n[3].width,p-n[0].width).topRight.subdivide(.5),bottomRightOuter:l(r+v,o+g,f,d).bottomRight.subdivide(.5),bottomRightInner:l(r+Math.min(v,a-n[3].width),o+Math.min(g,i+n[0].width),Math.max(0,f-n[1].width),d-n[2].width).bottomRight.subdivide(.5),bottomLeftOuter:l(r,o+b,h,m).bottomLeft.subdivide(.5),bottomLeftInner:l(r+n[3].width,o+b,Math.max(0,h-n[3].width),m-n[2].width).bottomLeft.subdivide(.5)}}function u(e,t,n,r){var o=function(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}};return{start:e,startControl:t,endControl:n,end:r,subdivide:function(a){var i=o(e,t,a),s=o(t,n,a),l=o(n,r,a),c=o(i,s,a),p=o(s,l,a),f=o(c,p,a);return[u(e,i,c,f),u(f,p,l,r)]},curveTo:function(e){e.push(["bezierCurve",t.x,t.y,n.x,n.y,r.x,r.y])},curveToReversed:function(r){r.push(["bezierCurve",n.x,n.y,t.x,t.y,e.x,e.y])}}}function p(e,t,n,r,o,a,i){var s=[];return t[0]>0||t[1]>0?(s.push(["line",r[1].start.x,r[1].start.y]),r[1].curveTo(s)):s.push(["line",e.c1[0],e.c1[1]]),n[0]>0||n[1]>0?(s.push(["line",a[0].start.x,a[0].start.y]),a[0].curveTo(s),s.push(["line",i[0].end.x,i[0].end.y]),i[0].curveToReversed(s)):(s.push(["line",e.c2[0],e.c2[1]]),s.push(["line",e.c3[0],e.c3[1]])),t[0]>0||t[1]>0?(s.push(["line",o[1].end.x,o[1].end.y]),o[1].curveToReversed(s)):s.push(["line",e.c4[0],e.c4[1]]),s}function f(e,t,n,r,o,a,i){t[0]>0||t[1]>0?(e.push(["line",r[0].start.x,r[0].start.y]),r[0].curveTo(e),r[1].curveTo(e)):e.push(["line",a,i]),(n[0]>0||n[1]>0)&&e.push(["line",o[0].start.x,o[0].start.y])}function d(e){return e.cssInt("zIndex")<0}function h(e){return e.cssInt("zIndex")>0}function m(e){return 0===e.cssInt("zIndex")}function y(e){return-1!==["inline","inline-block","inline-table"].indexOf(e.css("display"))}function g(e){return e instanceof W}function v(e){return e.node.data.trim().length>0}function b(e){return/^(normal|none|0px)$/.test(e.parent.css("letterSpacing"))}function w(e){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(t){var n=e.css("border"+t+"Radius").split(" ");return n.length<=1&&(n[1]=n[0]),n.map(I)})}function C(e){return e.nodeType===Node.TEXT_NODE||e.nodeType===Node.ELEMENT_NODE}function T(e){var t=e.css("position");return"auto"!==(-1!==["absolute","relative","fixed"].indexOf(t)?e.css("zIndex"):"auto")}function S(e){return"static"!==e.css("position")}function x(e){return"none"!==e.css("float")}function A(e){return-1!==["inline-block","inline-table"].indexOf(e.css("display"))}function k(e){var t=this;return function(){return!e.apply(t,arguments)}}function E(e){return e.node.nodeType===Node.ELEMENT_NODE}function M(e){return!0===e.isPseudoElement}function _(e){return e.node.nodeType===Node.TEXT_NODE}function P(e){return function(t,n){return t.cssInt("zIndex")+e.indexOf(t)/e.length-(n.cssInt("zIndex")+e.indexOf(n)/e.length)}}function O(e){return e.getOpacity()<1}function I(e){return parseInt(e,10)}function R(e){return e.width}function L(e){return e.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(e.node.nodeName)}function j(e){return[].concat.apply([],e)}function D(e){var t=e.substr(0,1);return t===e.substr(e.length-1)&&t.match(/'|"/)?e.substr(1,e.length-2):e}function N(e){for(var t,n=[],r=0,o=!1;e.length;)G(e[r])===o?((t=e.splice(0,r)).length&&n.push(B.ucs2.encode(t)),o=!o,r=0):r++,r>=e.length&&(t=e.splice(0,r)).length&&n.push(B.ucs2.encode(t));return n}function G(e){return-1!==[32,13,10,9,45].indexOf(e)}function F(e){return/[^\u0000-\u00ff]/.test(e)}var q=e("./log"),B=e("punycode"),z=e("./nodecontainer"),H=e("./textcontainer"),U=e("./pseudoelementcontainer"),V=e("./fontmetrics"),K=e("./color"),W=e("./stackingcontext"),$=e("./utils"),Y=$.bind,Q=$.getBounds,X=$.parseBackgrounds,Z=$.offsetBounds;r.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(e){if(E(e)){M(e)&&e.appendToDOM(),e.borders=this.parseBorders(e);var t="hidden"===e.css("overflow")?[e.borders.clip]:[],n=e.parseClip();n&&-1!==["absolute","fixed"].indexOf(e.css("position"))&&t.push([["rect",e.bounds.left+n.left,e.bounds.top+n.top,n.right-n.left,n.bottom-n.top]]),e.clip=o(e)?e.parent.clip.concat(t):t,e.backgroundClip="hidden"!==e.css("overflow")?e.clip.concat([e.borders.clip]):e.clip,M(e)&&e.cleanDOM()}else _(e)&&(e.clip=o(e)?e.parent.clip:[]);M(e)||(e.bounds=null)},this)},r.prototype.asyncRenderer=function(e,t,n){n=n||Date.now(),this.paint(e[this.renderIndex++]),e.length===this.renderIndex?t():n+20>Date.now()?this.asyncRenderer(e,t,n):setTimeout(Y(function(){this.asyncRenderer(e,t)},this),0)},r.prototype.createPseudoHideStyles=function(e){this.createStyles(e,"."+U.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+U.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},r.prototype.disableAnimations=function(e){this.createStyles(e,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},r.prototype.createStyles=function(e,t){var n=e.createElement("style");n.innerHTML=t,e.body.appendChild(n)},r.prototype.getPseudoElements=function(e){var t=[[e]];if(e.node.nodeType===Node.ELEMENT_NODE){var n=this.getPseudoElement(e,":before"),r=this.getPseudoElement(e,":after");n&&t.push(n),r&&t.push(r)}return j(t)},r.prototype.getPseudoElement=function(e,t){var n=e.computedStyle(t);if(!n||!n.content||"none"===n.content||"-moz-alt-content"===n.content||"none"===n.display)return null;for(var r=D(n.content),o="url"===r.substr(0,3),i=document.createElement(o?"img":"html2canvaspseudoelement"),s=new U(i,e,t),l=n.length-1;l>=0;l--){var c=a(n.item(l));i.style[c]=n[c]}if(i.className=U.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+U.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,o)return i.src=X(r)[0].args[0],[s];var u=document.createTextNode(r);return i.appendChild(u),[s,new H(u,s)]},r.prototype.getChildren=function(e){return j([].filter.call(e.node.childNodes,C).map(function(t){var n=[t.nodeType===Node.TEXT_NODE?new H(t,e):new z(t,e)].filter(L);return t.nodeType===Node.ELEMENT_NODE&&n.length&&"TEXTAREA"!==t.tagName?n[0].isElementVisible()?n.concat(this.getChildren(n[0])):[]:n},this))},r.prototype.newStackingContext=function(e,t){var n=new W(t,e.getOpacity(),e.node,e.parent);e.cloneTo(n),(t?n.getParentStack(this):n.parent.stack).contexts.push(n),e.stack=n},r.prototype.createStackingContexts=function(){this.nodes.forEach(function(e){E(e)&&(this.isRootElement(e)||O(e)||T(e)||this.isBodyWithTransparentRoot(e)||e.hasTransform())?this.newStackingContext(e,!0):E(e)&&(S(e)&&m(e)||A(e)||x(e))?this.newStackingContext(e,!1):e.assignStack(e.parent.stack)},this)},r.prototype.isBodyWithTransparentRoot=function(e){return"BODY"===e.node.nodeName&&e.parent.color("backgroundColor").isTransparent()},r.prototype.isRootElement=function(e){return null===e.parent},r.prototype.sortStackingContexts=function(e){e.contexts.sort(P(e.contexts.slice(0))),e.contexts.forEach(this.sortStackingContexts,this)},r.prototype.parseTextBounds=function(e){return function(t,n,r){if("none"!==e.parent.css("textDecoration").substr(0,4)||0!==t.trim().length){if(this.support.rangeBounds&&!e.parent.hasTransform()){var o=r.slice(0,n).join("").length;return this.getRangeBounds(e.node,o,t.length)}if(e.node&&"string"==typeof e.node.data){var a=e.node.splitText(t.length),i=this.getWrapperBounds(e.node,e.parent.hasTransform());return e.node=a,i}}else this.support.rangeBounds&&!e.parent.hasTransform()||(e.node=e.node.splitText(t.length));return{}}},r.prototype.getWrapperBounds=function(e,t){var n=e.ownerDocument.createElement("html2canvaswrapper"),r=e.parentNode,o=e.cloneNode(!0);n.appendChild(e.cloneNode(!0)),r.replaceChild(n,e);var a=t?Z(n):Q(n);return r.replaceChild(o,n),a},r.prototype.getRangeBounds=function(e,t,n){var r=this.range||(this.range=e.ownerDocument.createRange());return r.setStart(e,t),r.setEnd(e,t+n),r.getBoundingClientRect()},r.prototype.parse=function(e){var t=e.contexts.filter(d),n=e.children.filter(E),r=n.filter(k(x)),o=r.filter(k(S)).filter(k(y)),a=n.filter(k(S)).filter(x),s=r.filter(k(S)).filter(y),l=e.contexts.concat(r.filter(S)).filter(m),c=e.children.filter(_).filter(v),u=e.contexts.filter(h);t.concat(o).concat(a).concat(s).concat(l).concat(c).concat(u).forEach(function(e){this.renderQueue.push(e),g(e)&&(this.parse(e),this.renderQueue.push(new i))},this)},r.prototype.paint=function(e){try{e instanceof i?this.renderer.ctx.restore():_(e)?(M(e.parent)&&e.parent.appendToDOM(),this.paintText(e),M(e.parent)&&e.parent.cleanDOM()):this.paintNode(e)}catch(e){if(q(e),this.options.strict)throw e}},r.prototype.paintNode=function(e){g(e)&&(this.renderer.setOpacity(e.opacity),this.renderer.ctx.save(),e.hasTransform()&&this.renderer.setTransform(e.parseTransform())),"INPUT"===e.node.nodeName&&"checkbox"===e.node.type?this.paintCheckbox(e):"INPUT"===e.node.nodeName&&"radio"===e.node.type?this.paintRadio(e):this.paintElement(e)},r.prototype.paintElement=function(e){var t=e.parseBounds();this.renderer.clip(e.backgroundClip,function(){this.renderer.renderBackground(e,t,e.borders.borders.map(R))},this),this.renderer.clip(e.clip,function(){this.renderer.renderBorders(e.borders.borders)},this),this.renderer.clip(e.backgroundClip,function(){switch(e.node.nodeName){case"svg":case"IFRAME":var n=this.images.get(e.node);n?this.renderer.renderImage(e,t,e.borders,n):q("Error loading <"+e.node.nodeName+">",e.node);break;case"IMG":var r=this.images.get(e.node.src);r?this.renderer.renderImage(e,t,e.borders,r):q("Error loading <img>",e.node.src);break;case"CANVAS":this.renderer.renderImage(e,t,e.borders,{image:e.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(e)}},this)},r.prototype.paintCheckbox=function(e){var t=e.parseBounds(),n=Math.min(t.width,t.height),r={width:n-1,height:n-1,top:t.top,left:t.left},o=[3,3],a=[o,o,o,o],i=[1,1,1,1].map(function(e){return{color:new K("#A5A5A5"),width:e}}),l=c(r,a,i);this.renderer.clip(e.backgroundClip,function(){this.renderer.rectangle(r.left+1,r.top+1,r.width-2,r.height-2,new K("#DEDEDE")),this.renderer.renderBorders(s(i,r,l,a)),e.node.checked&&(this.renderer.font(new K("#424242"),"normal","normal","bold",n-3+"px","arial"),this.renderer.text("✔",r.left+n/6,r.top+n-1))},this)},r.prototype.paintRadio=function(e){var t=e.parseBounds(),n=Math.min(t.width,t.height)-2;this.renderer.clip(e.backgroundClip,function(){this.renderer.circleStroke(t.left+1,t.top+1,n,new K("#DEDEDE"),1,new K("#A5A5A5")),e.node.checked&&this.renderer.circle(Math.ceil(t.left+n/4)+1,Math.ceil(t.top+n/4)+1,Math.floor(n/2),new K("#424242"))},this)},r.prototype.paintFormValue=function(e){var t=e.getValue();if(t.length>0){var n=e.node.ownerDocument,r=n.createElement("html2canvaswrapper");["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"].forEach(function(t){try{r.style[t]=e.css(t)}catch(e){q("html2canvas: Parse: Exception caught in renderFormValue: "+e.message)}});var o=e.parseBounds();r.style.position="fixed",r.style.left=o.left+"px",r.style.top=o.top+"px",r.textContent=t,n.body.appendChild(r),this.paintText(new H(r.firstChild,e)),n.body.removeChild(r)}},r.prototype.paintText=function(e){
e.applyTextTransform();var t=B.ucs2.decode(e.node.data),n=this.options.letterRendering&&!b(e)||F(e.node.data)?t.map(function(e){return B.ucs2.encode([e])}):N(t),r=e.parent.fontWeight(),o=e.parent.css("fontSize"),a=e.parent.css("fontFamily"),i=e.parent.parseTextShadows();this.renderer.font(e.parent.color("color"),e.parent.css("fontStyle"),e.parent.css("fontVariant"),r,o,a),i.length?this.renderer.fontShadow(i[0].color,i[0].offsetX,i[0].offsetY,i[0].blur):this.renderer.clearShadow(),this.renderer.clip(e.parent.clip,function(){n.map(this.parseTextBounds(e),this).forEach(function(t,r){t&&(this.renderer.text(n[r],t.left,t.bottom),this.renderTextDecoration(e.parent,t,this.fontMetrics.getMetrics(a,o)))},this)},this)},r.prototype.renderTextDecoration=function(e,t,n){switch(e.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(t.left,Math.round(t.top+n.baseline+n.lineWidth),t.width,1,e.color("color"));break;case"overline":this.renderer.rectangle(t.left,Math.round(t.top),t.width,1,e.color("color"));break;case"line-through":this.renderer.rectangle(t.left,Math.ceil(t.top+n.middle+n.lineWidth),t.width,1,e.color("color"))}};var J={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};r.prototype.parseBorders=function(e){var t=e.parseBounds(),n=w(e),r=["Top","Right","Bottom","Left"].map(function(t,n){var r=e.css("border"+t+"Style"),o=e.color("border"+t+"Color");"inset"===r&&o.isBlack()&&(o=new K([255,255,255,o.a]));var a=J[r]?J[r][n]:null;return{width:e.cssInt("border"+t+"Width"),color:a?o[a[0]](a[1]):o,args:null}}),o=c(t,n,r);return{clip:this.parseBackgroundClip(e,o,r,n,t),borders:s(r,t,o,n)}},r.prototype.parseBackgroundClip=function(e,t,n,r,o){var a=[];switch(e.css("backgroundClip")){case"content-box":case"padding-box":f(a,r[0],r[1],t.topLeftInner,t.topRightInner,o.left+n[3].width,o.top+n[0].width),f(a,r[1],r[2],t.topRightInner,t.bottomRightInner,o.left+o.width-n[1].width,o.top+n[0].width),f(a,r[2],r[3],t.bottomRightInner,t.bottomLeftInner,o.left+o.width-n[1].width,o.top+o.height-n[2].width),f(a,r[3],r[0],t.bottomLeftInner,t.topLeftInner,o.left+n[3].width,o.top+o.height-n[2].width);break;default:f(a,r[0],r[1],t.topLeftOuter,t.topRightOuter,o.left,o.top),f(a,r[1],r[2],t.topRightOuter,t.bottomRightOuter,o.left+o.width,o.top),f(a,r[2],r[3],t.bottomRightOuter,t.bottomLeftOuter,o.left+o.width,o.top+o.height),f(a,r[3],r[0],t.bottomLeftOuter,t.topLeftOuter,o.left,o.top+o.height)}return a},t.exports=r},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(e,t,n){function r(e,t,n){var r="withCredentials"in new XMLHttpRequest;if(!t)return Promise.reject("No proxy configured");var s=a(r),c=i(t,e,s);return r?l(c):o(n,c,s).then(function(e){return f(e.content)})}function o(e,t,n){return new Promise(function(r,o){var a=e.createElement("script"),i=function(){delete window.html2canvas.proxy[n],e.body.removeChild(a)};window.html2canvas.proxy[n]=function(e){i(),r(e)},a.src=t,a.onerror=function(e){i(),o(e)},e.body.appendChild(a)})}function a(e){return e?"":"html2canvas_"+Date.now()+"_"+ ++d+"_"+Math.round(1e5*Math.random())}function i(e,t,n){return e+"?url="+encodeURIComponent(t)+(n.length?"&callback=html2canvas.proxy."+n:"")}function s(e){return function(t){var n,r=new DOMParser;try{n=r.parseFromString(t,"text/html")}catch(e){u("DOMParser not supported, falling back to createHTMLDocument"),n=document.implementation.createHTMLDocument("");try{n.open(),n.write(t),n.close()}catch(e){u("createHTMLDocument write not supported, falling back to document.body.innerHTML"),n.body.innerHTML=t}}var o=n.querySelector("base");if(!o||!o.href.host){var a=n.createElement("base");a.href=e,n.head.insertBefore(a,n.head.firstChild)}return n}}var l=e("./xhr"),c=e("./utils"),u=e("./log"),p=e("./clone"),f=c.decode64,d=0;n.Proxy=r,n.ProxyURL=function(e,t,n){var r="crossOrigin"in new Image,s=a(r),l=i(t,e,s);return r?Promise.resolve(l):o(n,l,s).then(function(e){return"data:"+e.type+";base64,"+e.content})},n.loadUrlDocument=function(e,t,n,o,a,i){return new r(e,t,window.document).then(s(e)).then(function(e){return p(e,n,o,a,i,0,0)})}},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(e,t,n){var r=e("./proxy").ProxyURL;t.exports=function(e,t){var n=document.createElement("a");n.href=e,e=n.href,this.src=e,this.image=new Image;var o=this;this.promise=new Promise(function(n,a){o.image.crossOrigin="Anonymous",o.image.onload=n,o.image.onerror=a,new r(e,t,document).then(function(e){o.image.src=e}).catch(a)})}},{"./proxy":16}],18:[function(e,t,n){function r(e,t,n){o.call(this,e,t),this.isPseudoElement=!0,this.before=":before"===n}var o=e("./nodecontainer");r.prototype.cloneTo=function(e){r.prototype.cloneTo.call(this,e),e.isPseudoElement=!0,e.before=this.before},(r.prototype=Object.create(o.prototype)).appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},r.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},r.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},r.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",r.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",t.exports=r},{"./nodecontainer":14}],19:[function(e,t,n){function r(e,t,n,r,o){this.width=e,this.height=t,this.images=n,this.options=r,this.document=o}var o=e("./log");r.prototype.renderImage=function(e,t,n,r){var o=e.cssInt("paddingLeft"),a=e.cssInt("paddingTop"),i=e.cssInt("paddingRight"),s=e.cssInt("paddingBottom"),l=n.borders,c=t.width-(l[1].width+l[3].width+o+i),u=t.height-(l[0].width+l[2].width+a+s);this.drawImage(r,0,0,r.image.width||c,r.image.height||u,t.left+o+l[3].width,t.top+a+l[0].width,c,u)},r.prototype.renderBackground=function(e,t,n){t.height>0&&t.width>0&&(this.renderBackgroundColor(e,t),this.renderBackgroundImage(e,t,n))},r.prototype.renderBackgroundColor=function(e,t){var n=e.color("backgroundColor");n.isTransparent()||this.rectangle(t.left,t.top,t.width,t.height,n)},r.prototype.renderBorders=function(e){e.forEach(this.renderBorder,this)},r.prototype.renderBorder=function(e){e.color.isTransparent()||null===e.args||this.drawShape(e.args,e.color)},r.prototype.renderBackgroundImage=function(e,t,n){e.parseBackgroundImages().reverse().forEach(function(r,a,i){switch(r.method){case"url":var s=this.images.get(r.args[0]);s?this.renderBackgroundRepeating(e,t,s,i.length-(a+1),n):o("Error loading background-image",r.args[0]);break;case"linear-gradient":case"gradient":var l=this.images.get(r.value);l?this.renderBackgroundGradient(l,t,n):o("Error loading background-image",r.args[0]);break;case"none":break;default:o("Unknown background-image type",r.args[0])}},this)},r.prototype.renderBackgroundRepeating=function(e,t,n,r,o){var a=e.parseBackgroundSize(t,n.image,r),i=e.parseBackgroundPosition(t,n.image,r,a);switch(e.parseBackgroundRepeat(r)){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(n,i,a,t,t.left+o[3],t.top+i.top+o[0],99999,a.height,o);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(n,i,a,t,t.left+i.left+o[3],t.top+o[0],a.width,99999,o);break;case"no-repeat":this.backgroundRepeatShape(n,i,a,t,t.left+i.left+o[3],t.top+i.top+o[0],a.width,a.height,o);break;default:this.renderBackgroundRepeat(n,i,a,{top:t.top,left:t.left},o[3],o[0])}},t.exports=r},{"./log":13}],20:[function(e,t,n){function r(e,t){a.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=e,this.canvas.height=t),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},s("Initialized CanvasRenderer with size",e,"x",t)}function o(e){return e.length>0}var a=e("../renderer"),i=e("../lineargradientcontainer"),s=e("../log");(r.prototype=Object.create(a.prototype)).setFillStyle=function(e){return this.ctx.fillStyle="object"==typeof e&&e.isColor?e.toString():e,this.ctx},r.prototype.rectangle=function(e,t,n,r,o){this.setFillStyle(o).fillRect(e,t,n,r)},r.prototype.circle=function(e,t,n,r){this.setFillStyle(r),this.ctx.beginPath(),this.ctx.arc(e+n/2,t+n/2,n/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},r.prototype.circleStroke=function(e,t,n,r,o,a){this.circle(e,t,n,r),this.ctx.strokeStyle=a.toString(),this.ctx.stroke()},r.prototype.drawShape=function(e,t){this.shape(e),this.setFillStyle(t).fill()},r.prototype.taints=function(e){if(null===e.tainted){this.taintCtx.drawImage(e.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),e.tainted=!1}catch(t){this.taintCtx=document.createElement("canvas").getContext("2d"),e.tainted=!0}}return e.tainted},r.prototype.drawImage=function(e,t,n,r,o,a,i,s,l){this.taints(e)&&!this.options.allowTaint||this.ctx.drawImage(e.image,t,n,r,o,a,i,s,l)},r.prototype.clip=function(e,t,n){this.ctx.save(),e.filter(o).forEach(function(e){this.shape(e).clip()},this),t.call(n),this.ctx.restore()},r.prototype.shape=function(e){return this.ctx.beginPath(),e.forEach(function(e,t){"rect"===e[0]?this.ctx.rect.apply(this.ctx,e.slice(1)):this.ctx[0===t?"moveTo":e[0]+"To"].apply(this.ctx,e.slice(1))},this),this.ctx.closePath(),this.ctx},r.prototype.font=function(e,t,n,r,o,a){this.setFillStyle(e).font=[t,n,r,o,a].join(" ").split(",")[0]},r.prototype.fontShadow=function(e,t,n,r){this.setVariable("shadowColor",e.toString()).setVariable("shadowOffsetY",t).setVariable("shadowOffsetX",n).setVariable("shadowBlur",r)},r.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},r.prototype.setOpacity=function(e){this.ctx.globalAlpha=e},r.prototype.setTransform=function(e){this.ctx.translate(e.origin[0],e.origin[1]),this.ctx.transform.apply(this.ctx,e.matrix),this.ctx.translate(-e.origin[0],-e.origin[1])},r.prototype.setVariable=function(e,t){return this.variables[e]!==t&&(this.variables[e]=this.ctx[e]=t),this},r.prototype.text=function(e,t,n){this.ctx.fillText(e,t,n)},r.prototype.backgroundRepeatShape=function(e,t,n,r,o,a,i,s,l){var c=[["line",Math.round(o),Math.round(a)],["line",Math.round(o+i),Math.round(a)],["line",Math.round(o+i),Math.round(s+a)],["line",Math.round(o),Math.round(s+a)]];this.clip([c],function(){this.renderBackgroundRepeat(e,t,n,r,l[3],l[0])},this)},r.prototype.renderBackgroundRepeat=function(e,t,n,r,o,a){var i=Math.round(r.left+t.left+o),s=Math.round(r.top+t.top+a);this.setFillStyle(this.ctx.createPattern(this.resizeImage(e,n),"repeat")),this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},r.prototype.renderBackgroundGradient=function(e,t){if(e instanceof i){var n=this.ctx.createLinearGradient(t.left+t.width*e.x0,t.top+t.height*e.y0,t.left+t.width*e.x1,t.top+t.height*e.y1);e.colorStops.forEach(function(e){n.addColorStop(e.stop,e.color.toString())}),this.rectangle(t.left,t.top,t.width,t.height,n)}},r.prototype.resizeImage=function(e,t){var n=e.image;if(n.width===t.width&&n.height===t.height)return n;var r=document.createElement("canvas");return r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(n,0,0,n.width,n.height,0,0,t.width,t.height),r},t.exports=r},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(e,t,n){function r(e,t,n,r){o.call(this,n,r),this.ownStacking=e,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*t}var o=e("./nodecontainer");(r.prototype=Object.create(o.prototype)).getParentStack=function(e){var t=this.parent?this.parent.stack:null;return t?t.ownStacking?t:t.getParentStack(e):e.stack},t.exports=r},{"./nodecontainer":14}],22:[function(e,t,n){function r(e){this.rangeBounds=this.testRangeBounds(e),this.cors=this.testCORS(),this.svg=this.testSVG()}r.prototype.testRangeBounds=function(e){var t,n,r=!1;return e.createRange&&(t=e.createRange()).getBoundingClientRect&&((n=e.createElement("boundtest")).style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n),123===t.getBoundingClientRect().height&&(r=!0),e.body.removeChild(n)),r},r.prototype.testCORS=function(){return void 0!==(new Image).crossOrigin},r.prototype.testSVG=function(){var e=new Image,t=document.createElement("canvas"),n=t.getContext("2d");e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch(e){return!1}return!0},t.exports=r},{}],23:[function(e,t,n){function r(e){this.src=e,this.image=null;var t=this;this.promise=this.hasFabric().then(function(){return t.isInline(e)?Promise.resolve(t.inlineFormatting(e)):o(e)}).then(function(e){return new Promise(function(n){window.html2canvas.svg.fabric.loadSVGFromString(e,t.createCanvas.call(t,n))})})}var o=e("./xhr"),a=e("./utils").decode64;r.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},r.prototype.inlineFormatting=function(e){return/^data:image\/svg\+xml;base64,/.test(e)?this.decode64(this.removeContentType(e)):this.removeContentType(e)},r.prototype.removeContentType=function(e){return e.replace(/^data:image\/svg\+xml(;base64)?,/,"")},r.prototype.isInline=function(e){return/^data:image\/svg\+xml/i.test(e)},r.prototype.createCanvas=function(e){var t=this;return function(n,r){var o=new window.html2canvas.svg.fabric.StaticCanvas("c");t.image=o.lowerCanvasEl,o.setWidth(r.width).setHeight(r.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(n,r)).renderAll(),e(o.lowerCanvasEl)}},r.prototype.decode64=function(e){return"function"==typeof window.atob?window.atob(e):a(e)},t.exports=r},{"./utils":26,"./xhr":28}],24:[function(e,t,n){function r(e,t){this.src=e,this.image=null;var n=this;this.promise=t?new Promise(function(t,r){n.image=new Image,n.image.onload=t,n.image.onerror=r,n.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(e),!0===n.image.complete&&t(n.image)}):this.hasFabric().then(function(){return new Promise(function(t){window.html2canvas.svg.fabric.parseSVGDocument(e,n.createCanvas.call(n,t))})})}var o=e("./svgcontainer");r.prototype=Object.create(o.prototype),t.exports=r},{"./svgcontainer":23}],25:[function(e,t,n){function r(e,t){a.call(this,e,t)}function o(e,t,n){if(e.length>0)return t+n.toUpperCase()}var a=e("./nodecontainer");(r.prototype=Object.create(a.prototype)).applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},r.prototype.transform=function(e){var t=this.node.data;switch(e){case"lowercase":return t.toLowerCase();case"capitalize":return t.replace(/(^|\s|:|-|\(|\))([a-z])/g,o);case"uppercase":return t.toUpperCase();default:return t}},t.exports=r},{"./nodecontainer":14}],26:[function(e,t,n){n.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},n.bind=function(e,t){return function(){return e.apply(t,arguments)}},n.decode64=function(e){var t,n,r,o,a,i,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=e.length,u="";for(t=0;t<c;t+=4)a=l.indexOf(e[t])<<2|(n=l.indexOf(e[t+1]))>>4,i=(15&n)<<4|(r=l.indexOf(e[t+2]))>>2,s=(3&r)<<6|(o=l.indexOf(e[t+3])),u+=64===r?String.fromCharCode(a):64===o||-1===o?String.fromCharCode(a,i):String.fromCharCode(a,i,s);return u},n.getBounds=function(e){if(e.getBoundingClientRect){var t=e.getBoundingClientRect(),n=null==e.offsetWidth?t.width:e.offsetWidth;return{top:t.top,bottom:t.bottom||t.top+t.height,right:t.left+n,left:t.left,width:n,height:null==e.offsetHeight?t.height:e.offsetHeight}}return{}},n.offsetBounds=function(e){var t=e.offsetParent?n.offsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+t.top,bottom:e.offsetTop+e.offsetHeight+t.top,right:e.offsetLeft+t.left+e.offsetWidth,left:e.offsetLeft+t.left,width:e.offsetWidth,height:e.offsetHeight}},n.parseBackgrounds=function(e){var t,n,r,o,a,i,s,l=[],c=0,u=0,p=function(){t&&('"'===n.substr(0,1)&&(n=n.substr(1,n.length-2)),n&&s.push(n),"-"===t.substr(0,1)&&(o=t.indexOf("-",1)+1)>0&&(r=t.substr(0,o),t=t.substr(o)),l.push({prefix:r,method:t.toLowerCase(),value:a,args:s,image:null})),s=[],t=r=n=a=""};return s=[],t=r=n=a="",e.split("").forEach(function(e){if(!(0===c&&" \r\n\t".indexOf(e)>-1)){switch(e){case'"':i?i===e&&(i=null):i=e;break;case"(":if(i)break;if(0===c)return c=1,void(a+=e);u++;break;case")":if(i)break;if(1===c){if(0===u)return c=0,a+=e,void p();u--}break;case",":if(i)break;if(0===c)return void p();if(1===c&&0===u&&!t.match(/^url$/i))return s.push(n),n="",void(a+=e)}a+=e,0===c?t+=e:n+=e}}),p(),l}},{}],27:[function(e,t,n){function r(e){o.apply(this,arguments),this.type="linear"===e.args[0]?o.TYPES.LINEAR:o.TYPES.RADIAL}var o=e("./gradientcontainer");r.prototype=Object.create(o.prototype),t.exports=r},{"./gradientcontainer":9}],28:[function(e,t,n){t.exports=function(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("GET",e),r.onload=function(){200===r.status?t(r.responseText):n(new Error(r.statusText))},r.onerror=function(){n(new Error("Network Error"))},r.send()})}},{}]},{},[4])(4)}),function(e){var t;t=function(){function t(e){var t,n,r,o,a,i,s,l,c,u,p,f,d,h,m;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},i=null;;){switch(t=this.readUInt32(),u=function(){var e,t;for(t=[],s=e=0;e<4;s=++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":i&&this.animation.frames.push(i),this.pos+=4,i={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},a=this.readUInt16(),o=this.readUInt16()||100,i.delay=1e3*a/o,i.disposeOp=this.data[this.pos++],i.blendOp=this.data[this.pos++],i.data=[];break;case"IDAT":case"fdAT":for("fdAT"===u&&(this.pos+=4,t-=4),e=(null!=i?i.data:void 0)||this.imgData,s=d=0;0<=t?d<t:d>t;s=0<=t?++d:--d)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if((p=r-this.transparency.indexed.length)>0)for(s=h=0;0<=p?h<p:h>p;s=0<=p?++h:--h)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":l=(f=this.read(t)).indexOf(0),c=String.fromCharCode.apply(String,f.slice(0,l)),this.text[c]=String.fromCharCode.apply(String,f.slice(l+1));break;case"IEND":return i&&this.animation.frames.push(i),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(m=this.colorType)||6===m,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}var n,r,o;t.load=function(e,n,r){var o;return"function"==typeof n&&(r=n),(o=new XMLHttpRequest).open("GET",e,!0),o.responseType="arraybuffer",o.onload=function(){var e,a;return e=new Uint8Array(o.response||o.mozResponseArrayBuffer),a=new t(e),"function"==typeof(null!=n?n.getContext:void 0)&&a.render(n),"function"==typeof r?r(a):void 0},o.send(null)},t.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},t.prototype.readUInt32=function(){var e,t,n,r;return e=this.data[this.pos++]<<24,t=this.data[this.pos++]<<16,n=this.data[this.pos++]<<8,r=this.data[this.pos++],e|t|n|r},t.prototype.readUInt16=function(){var e,t;return e=this.data[this.pos++]<<8,t=this.data[this.pos++],e|t},t.prototype.decodePixels=function(e){var t,n,r,o,a,i,s,l,u,p,f,d,h,m,y,g,v,b,w,C,T,S,x;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);for(e=(e=new c(e)).getBytes(),g=(d=this.pixelBitlength/8)*this.width,h=new Uint8Array(g*this.height),i=e.length,y=0,m=0,n=0;m<i;){switch(e[m++]){case 0:for(o=w=0;w<g;o=w+=1)h[n++]=e[m++];break;case 1:for(o=C=0;C<g;o=C+=1)t=e[m++],a=o<d?0:h[n-d],h[n++]=(t+a)%256;break;case 2:for(o=T=0;T<g;o=T+=1)t=e[m++],r=(o-o%d)/d,v=y&&h[(y-1)*g+r*d+o%d],h[n++]=(v+t)%256;break;case 3:for(o=S=0;S<g;o=S+=1)t=e[m++],r=(o-o%d)/d,a=o<d?0:h[n-d],v=y&&h[(y-1)*g+r*d+o%d],h[n++]=(t+Math.floor((a+v)/2))%256;break;case 4:for(o=x=0;x<g;o=x+=1)t=e[m++],r=(o-o%d)/d,a=o<d?0:h[n-d],0===y?v=b=0:(v=h[(y-1)*g+r*d+o%d],b=r&&h[(y-1)*g+(r-1)*d+o%d]),s=a+v-b,l=Math.abs(s-a),p=Math.abs(s-v),f=Math.abs(s-b),u=l<=p&&l<=f?a:p<=f?v:b,h[n++]=(t+u)%256;break;default:throw new Error("Invalid filter algorithm: "+e[m-1])}y++}return h},t.prototype.decodePalette=function(){var e,t,n,r,o,a,i,s,l;for(n=this.palette,a=this.transparency.indexed||[],o=new Uint8Array((a.length||0)+n.length),r=0,e=0,t=i=0,s=n.length;i<s;t=i+=3)o[r++]=n[t],o[r++]=n[t+1],o[r++]=n[t+2],o[r++]=null!=(l=a[e++])?l:255;return o},t.prototype.copyToImageData=function(e,t){var n,r,o,a,i,s,l,c,u,p,f;if(r=this.colors,u=null,n=this.hasAlphaChannel,this.palette.length&&(u=null!=(f=this._decodedPalette)?f:this._decodedPalette=this.decodePalette(),r=4,n=!0),o=e.data||e,c=o.length,i=u||t,a=s=0,1===r)for(;a<c;)l=u?4*t[a/4]:s,p=i[l++],o[a++]=p,o[a++]=p,o[a++]=p,o[a++]=n?i[l++]:255,s=l;else for(;a<c;)l=u?4*t[a/4]:s,o[a++]=i[l++],o[a++]=i[l++],o[a++]=i[l++],o[a++]=n?i[l++]:255,s=l},t.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};try{r=e.document.createElement("canvas"),o=r.getContext("2d")}catch(e){return-1}return n=function(e){var t;return o.width=e.width,o.height=e.height,o.clearRect(0,0,e.width,e.height),o.putImageData(e,0,0),t=new Image,t.src=r.toDataURL(),t},t.prototype.decodeFrames=function(e){var t,r,o,a,i,s,l,c;if(this.animation){for(c=[],r=i=0,s=(l=this.animation.frames).length;i<s;r=++i)t=l[r],o=e.createImageData(t.width,t.height),a=this.decodePixels(new Uint8Array(t.data)),this.copyToImageData(o,a),t.imageData=o,c.push(t.image=n(o));return c}},t.prototype.renderFrame=function(e,t){var n,r,o;return r=this.animation.frames,n=r[t],o=r[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=o?o.disposeOp:void 0)?e.clearRect(o.xOffset,o.yOffset,o.width,o.height):2===(null!=o?o.disposeOp:void 0)&&e.putImageData(o.imageData,o.xOffset,o.yOffset),0===n.blendOp&&e.clearRect(n.xOffset,n.yOffset,n.width,n.height),e.drawImage(n.image,n.xOffset,n.yOffset)},t.prototype.animate=function(e){var t,n,r,o,a,i,s=this;return n=0,i=this.animation,o=i.numFrames,r=i.frames,a=i.numPlays,(t=function(){var i,l;if(i=n++%o,l=r[i],s.renderFrame(e,i),o>1&&n/o<a)return s.animation._timeout=setTimeout(t,l.delay)})()},t.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},t.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},t}(),e.PNG=t}("undefined"!=typeof window&&window||void 0);var l=function(){function e(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return e.prototype={ensureBuffer:function(e){var t=this.buffer,n=t?t.byteLength:0;if(e<n)return t;for(var r=512;r<e;)r<<=1;for(var o=new Uint8Array(r),a=0;a<n;++a)o[a]=t[a];return this.buffer=o},getByte:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(e){var t=this.pos;if(e){for(this.ensureBuffer(t+e),r=t+e;!this.eof&&this.bufferLength<r;)this.readBlock();var n=this.bufferLength;r>n&&(r=n)}else{for(;!this.eof;)this.readBlock();var r=this.bufferLength}return this.pos=r,this.buffer.subarray(t,r)},lookChar:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(e,t,n){for(var r=e+t;this.bufferLength<=r&&!this.eof;)this.readBlock();return new Stream(this.buffer,e,t,n)},skip:function(e){e||(e=1),this.pos+=e},reset:function(){this.pos=0}},e}(),c=function(){function e(e){throw new Error(e)}function t(t){var n=0,r=t[n++],o=t[n++];-1!=r&&-1!=o||e("Invalid header in flate stream"),8!=(15&r)&&e("Unknown compression method in flate stream"),((r<<8)+o)%31!=0&&e("Bad FCHECK in flate stream"),32&o&&e("FDICT bit set in flate stream"),this.bytes=t,this.bytesPos=n,this.codeSize=0,this.codeBuf=0,l.call(this)}if("undefined"!=typeof Uint32Array){var n=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),r=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),o=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),a=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],i=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return t.prototype=Object.create(l.prototype),t.prototype.getBits=function(t){for(var n,r=this.codeSize,o=this.codeBuf,a=this.bytes,i=this.bytesPos;r<t;)void 0===(n=a[i++])&&e("Bad encoding in flate stream"),o|=n<<r,r+=8;return n=o&(1<<t)-1,this.codeBuf=o>>t,this.codeSize=r-=t,this.bytesPos=i,n},t.prototype.getCode=function(t){for(var n=t[0],r=t[1],o=this.codeSize,a=this.codeBuf,i=this.bytes,s=this.bytesPos;o<r;){var l;void 0===(l=i[s++])&&e("Bad encoding in flate stream"),a|=l<<o,o+=8}var c=n[a&(1<<r)-1],u=c>>16,p=65535&c;return(0==o||o<u||0==u)&&e("Bad encoding in flate stream"),this.codeBuf=a>>u,this.codeSize=o-u,this.bytesPos=s,p},t.prototype.generateHuffmanTable=function(e){for(var t=e.length,n=0,r=0;r<t;++r)e[r]>n&&(n=e[r]);for(var o=1<<n,a=new Uint32Array(o),i=1,s=0,l=2;i<=n;++i,s<<=1,l<<=1)for(var c=0;c<t;++c)if(e[c]==i){for(var u=0,p=s,r=0;r<i;++r)u=u<<1|1&p,p>>=1;for(r=u;r<o;r+=l)a[r]=i<<16|c;++s}return[a,n]},t.prototype.readBlock=function(){function t(e,t,n,r,o){for(var a=e.getBits(n)+r;a-- >0;)t[h++]=o}var s=this.getBits(3);if(1&s&&(this.eof=!0),0!=(s>>=1)){var l,c;if(1==s)l=a,c=i;else if(2==s){for(var u=this.getBits(5)+257,p=this.getBits(5)+1,f=this.getBits(4)+4,d=Array(n.length),h=0;h<f;)d[n[h++]]=this.getBits(3);for(var m=this.generateHuffmanTable(d),y=0,h=0,g=u+p,v=new Array(g);h<g;){var b=this.getCode(m);16==b?t(this,v,2,3,y):17==b?t(this,v,3,3,y=0):18==b?t(this,v,7,11,y=0):v[h++]=y=b}l=this.generateHuffmanTable(v.slice(0,u)),c=this.generateHuffmanTable(v.slice(u,g))}else e("Unknown block type in flate stream");for(var w=(I=this.buffer)?I.length:0,C=this.bufferLength;;){var T=this.getCode(l);if(T<256)C+1>=w&&(w=(I=this.ensureBuffer(C+1)).length),I[C++]=T;else{if(256==T)return void(this.bufferLength=C);var S=(T=r[T-=257])>>16;S>0&&(S=this.getBits(S)),y=(65535&T)+S,T=this.getCode(c),(S=(T=o[T])>>16)>0&&(S=this.getBits(S));var x=(65535&T)+S;C+y>=w&&(w=(I=this.ensureBuffer(C+y)).length);for(var A=0;A<y;++A,++C)I[C]=I[C-x]}}}else{var k,E=this.bytes,M=this.bytesPos;void 0===(k=E[M++])&&e("Bad block header in flate stream");var _=k;void 0===(k=E[M++])&&e("Bad block header in flate stream"),
_|=k<<8,void 0===(k=E[M++])&&e("Bad block header in flate stream");var P=k;void 0===(k=E[M++])&&e("Bad block header in flate stream"),(P|=k<<8)!=(65535&~_)&&e("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var O=this.bufferLength,I=this.ensureBuffer(O+_),R=O+_;this.bufferLength=R;for(var L=O;L<R;++L){if(void 0===(k=E[M++])){this.eof=!0;break}I[L]=k}this.bytesPos=M}},t}}();return function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";void 0===e.btoa&&(e.btoa=function(e){var n,r,o,a,i,s=0,l=0,c="",u=[];if(!e)return e;do n=(i=e.charCodeAt(s++)<<16|e.charCodeAt(s++)<<8|e.charCodeAt(s++))>>18&63,r=i>>12&63,o=i>>6&63,a=63&i,u[l++]=t.charAt(n)+t.charAt(r)+t.charAt(o)+t.charAt(a);while(s<e.length);c=u.join("");var p=e.length%3;return(p?c.slice(0,p-3):c)+"===".slice(p||3)}),void 0===e.atob&&(e.atob=function(e){var n,r,o,a,i,s,l=0,c=0,u=[];if(!e)return e;e+="";do n=(s=t.indexOf(e.charAt(l++))<<18|t.indexOf(e.charAt(l++))<<12|(a=t.indexOf(e.charAt(l++)))<<6|(i=t.indexOf(e.charAt(l++))))>>16&255,r=s>>8&255,o=255&s,u[c++]=64==a?String.fromCharCode(n):64==i?String.fromCharCode(n,r):String.fromCharCode(n,r,o);while(l<e.length);return u.join("")}),Array.prototype.map||(Array.prototype.map=function(e){if(void 0===this||null===this||"function"!=typeof e)throw new TypeError;for(var t=Object(this),n=t.length>>>0,r=new Array(n),o=arguments.length>1?arguments[1]:void 0,a=0;a<n;a++)a in t&&(r[a]=e.call(o,t[a],a,t));return r}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){if(void 0===this||null===this||"function"!=typeof e)throw new TypeError;for(var n=Object(this),r=n.length>>>0,o=0;o<r;o++)o in n&&e.call(t,n[o],o,n)}),Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError;var a,i,s=[];for(a in o)e.call(o,a)&&s.push(a);if(t)for(i=0;i<r;i++)e.call(o,n[i])&&s.push(n[i]);return s}}()),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")})}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0),r})},453,453,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(343),p=o(u),f=n(408),d=o(f),h=n(807),m=r(h),y=n(346),g=n(597),v=r(g);n(808);var b=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},w=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.chartConfig={type:"bar"},e.updateChart=e.updateChart.bind(e),e.getLegendNames=e.getLegendNames.bind(e),e}return s(t,e),l(t,[{key:"getTooltipOptions",value:function(e,t,n,r){function o(n,r){var o=t.datasets[e.dataPoints[r].datasetIndex],a=o.label,i=o.count,s=o.percent;return{label:a,count:i,percent:s}}var a=r.props.gene,i=document.getElementById("cancer-type-summary-tab-tooltip-"+a);if(i||(i=document.createElement("div"),i.id="cancer-type-summary-tab-tooltip-"+a,i.className="cancer-type-summary-tab-tooltip",i.innerHTML="<div></div>",this.chartContainer.appendChild(i)),0===e.opacity)return void(i.style.display="none");if(i.classList.remove("above","below","no-transform"),e.yAlign?i.classList.add(e.yAlign):i.classList.add("no-transform"),e.body){var s=e.body.map(o),l=t.datasets[e.dataPoints[0].datasetIndex],c=l.totalCases,u=l.altTotalPercent,p="<div><b>Summary for "+e.title[0]+"</b></div>\n                    <div>Gene altered in "+d.round(u,2)+"% of "+c+' cases</div>\n                    <table class="table table-striped">\n                        <thead>\n                            <tr>\n                                <th>Alteration</th>\n                                <th>Frequency</th>\n                            </tr>\n                        </thead>\n                        <tbody>';s.reverse().forEach(function(e){p+="<tr>\n                        <td> "+r.getLegendNames(e.label)+" </td>\n                        <td> "+d.round(e.percent,2)+"% ("+e.count+" cases)</td>\n                     </tr>"}),p+="</tbody></table>";var f=i.querySelector("div");f.innerHTML=p}i.style.display="block",i.style.left=e.caretX+35+"px",i.style.top=e.y+"px"}},{key:"componentDidMount",value:function(){this.chartConfig.data=this.props.data,this.chartConfig.options=this.chartOptions,this.chart=new m.default(this.chartTarget,this.chartConfig)}},{key:"componentDidUpdate",value:function(){this.updateChart()}},{key:"updateChart",value:function(){this.chart.destroy(),this.chartConfig.data=this.props.data,this.chartConfig.options=this.chartOptions,this.chart=new m.default(this.chartTarget,this.chartConfig)}},{key:"hasAlterations",value:function(){return d.sumBy(this.props.data.datasets,function(e){return e.count})>0}},{key:"getLegendNames",value:function(e){return this.props.orderedLabels[e]||e}},{key:"toImagePdf",value:function(){if(this.chart){var e=this.chart.toBase64Image();this.props.setPngAnchor(e)}if(this.chartTarget){var t=this.chartTarget.toDataURL();this.props.setPdfProperties(t,this.width,this.chartTarget.offsetHeight)}}},{key:"render",value:function(){var e=this,t=null;return p.createElement("div",{style:{width:this.width},ref:function(t){return e.chartContainer=t},className:"cancer-summary-chart-container borderedChart"},t,p.createElement("canvas",{ref:function(t){return e.chartTarget=t},className:(0,v.default)({hidden:!this.hasAlterations()})}))}},{key:"chartOptions",get:function(){var e=this,t=this.props,n=t.data,r=t.yAxis,o=d.values(this.props.orderedLabels);return{title:{display:!0,text:"Cancer Type Summary",fontSize:14,fontStyle:"normal"},maintainAspectRatio:!1,responsive:!0,layout:{padding:{top:5,left:20,right:20,bottom:5}},tooltips:{enabled:!1,position:"nearest",mode:"x",filter:function(e){return!!e&&Number(e.yLabel)>0},custom:function(t){return e.getTooltipOptions(t,n,e,e)}},scales:{xAxes:[{gridLines:{display:!1},stacked:!0,barThickness:this.props.data.labels.length>15?14:25,ticks:{maxRotation:70,autoSkip:!1}}],yAxes:[{stacked:!0,scaleLabel:{display:!0,fontSize:13,labelString:"abs-count"===r?"Absolute Counts":"Alteration Frequency"},display:!0,ticks:{fontSize:11,callback:function(t){return d.round(t,1)+("abs-count"===e.props.yAxis?"":"%")}}}]},legend:{position:"right",labels:{generateLabels:function(t){var n=t.data;if(e.props.legend){if(n.labels.length&&n.datasets.length){var r=d.reduce(n.datasets,function(e,t){return e[t.label]?e[t.label].count=e[t.label].count+t.total:e[t.label]={count:t.total,backgroundColor:t.backgroundColor},e},{}),a=d.reduce(r,function(t,n,r){return n.count&&t.push({text:e.getLegendNames(r),fillStyle:n.backgroundColor}),t},[]);return a.sort(function(e,t){return o.indexOf(t.text)-o.indexOf(e.text)})}return[]}return[]}}},animation:{onComplete:function(){e.toImagePdf()}}}}},{key:"width",get:function(){var e=300+45*this.props.data.labels.length,t=this.props.width||1159;return e>t?t:e}}]),t}(p.Component);w=b([y.observer],w),t.default=w},,453,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(343),p=o(u),f=n(346),d=n(772),h=n(810),m=r(h),y=n(406),g=n(434),v=r(g);n(842);var b=n(779),w=r(b),C=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},T=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleTabChange.bind(n),n.mutationsGeneTab=e.genes[0],n}return s(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props.routing?this.props.routing.location.query.mutationsGeneTab:this.mutationsGeneTab;return p.createElement("div",null,p.createElement(w.default,{isLoading:this.props.store.mutationMapperStores.isPending}),this.props.store.mutationMapperStores.isComplete&&p.createElement(d.MSKTabs,{id:"mutationsPageTabs",activeTabId:t,onTabClick:function(t){return e.handleTabChange(t)},className:"secondaryTabs resultsPageMutationsGeneTabs",enablePagination:!0,arrowStyle:{"line-height":.8},tabButtonStyle:"pills"},this.generateTabs(this.props.genes)))}},{key:"generateTabs",value:function(e){var t=this,n=[];return e.forEach(function(e){var r=t.props.store.getMutationMapperStore(e);r&&n.push(p.createElement(d.MSKTab,{key:e,id:e,linkText:e},p.createElement(m.default,{store:r,discreteCNACache:t.props.store.discreteCNACache,genomeNexusEnrichmentCache:t.props.store.genomeNexusEnrichmentCache,oncoKbEvidenceCache:t.props.store.oncoKbEvidenceCache,pubMedCache:t.props.store.pubMedCache,cancerTypeCache:t.props.store.cancerTypeCache,mutationCountCache:t.props.store.mutationCountCache,pdbHeaderCache:t.props.store.pdbHeaderCache,myCancerGenomeData:t.props.store.myCancerGenomeData,config:v.default})))}),n}},{key:"handleTabChange",value:function(e){this.props.routing?this.props.routing.updateRoute({mutationsGeneTab:e}):this.mutationsGeneTab=e}}]),t}(p.Component);C([y.observable],T.prototype,"mutationsGeneTab",void 0),T=C([f.observer],T),t.default=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=n(343),f=o(p),d=n(346),h=n(779),m=r(h),y=n(811),g=r(y),v=n(721),b=n(823),w=r(b),C=n(824),T=r(C),S=n(833),x=r(S),A=n(835),k=r(A),E=n(406),M=n(841),_=r(M),P=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},O=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.is3dPanelOpen=!1,n.lollipopPlotGeneX=0,n.geneWidth=665,n.open3dPanel=n.open3dPanel.bind(n),n.close3dPanel=n.close3dPanel.bind(n),n.toggle3dPanel=n.toggle3dPanel.bind(n),n.handlers={resetDataStore:function(){n.props.store.dataStore.resetFilterAndSelection()},onXAxisOffset:(0,E.action)(function(e){n.lollipopPlotGeneX=e})},n}return s(t,e),c(t,[{key:"render",value:function(){return f.createElement("div",null,this.is3dPanelOpen&&f.createElement(g.default,l({mutationDataStore:this.props.store.dataStore,pdbChainDataStore:this.props.store.pdbChainDataStore,pdbAlignmentIndex:this.props.store.indexedAlignmentData,pdbHeaderCache:this.props.pdbHeaderCache,residueMappingCache:this.props.store.residueMappingCache,uniprotId:this.props.store.uniprotId.result,onClose:this.close3dPanel},v.DEFAULT_PROTEIN_IMPACT_TYPE_COLORS)),f.createElement("div",null,f.createElement(m.default,{isLoading:this.props.store.pfamGeneData.isPending}),!this.props.store.pfamGeneData.isPending&&f.createElement("div",{style:{display:"flex"}},f.createElement("div",{className:"borderedChart",style:{marginRight:10}},f.createElement(T.default,l({store:this.props.store,onXAxisOffset:this.handlers.onXAxisOffset,geneWidth:this.geneWidth},v.DEFAULT_PROTEIN_IMPACT_TYPE_COLORS)),f.createElement(k.default,{store:this.props.store,pdbHeaderCache:this.props.pdbHeaderCache,geneWidth:this.geneWidth,geneXOffset:this.lollipopPlotGeneX,maxChainsHeight:200})),f.createElement("div",{className:"mutationMapperMetaColumn"},this.geneSummary,this.mutationRateSummary,f.createElement("div",null,f.createElement(x.default,l({dataStore:this.props.store.dataStore},v.DEFAULT_PROTEIN_IMPACT_TYPE_COLORS))),f.createElement("button",{className:"btn btn-default btn-sm",disabled:0===this.props.store.pdbChainDataStore.allData.length,onClick:this.toggle3dPanel},"View 3D Structure"))),f.createElement("hr",{style:{marginTop:20}}),!this.props.store.dataStore.showingAllData&&f.createElement("div",{style:{marginTop:"5px",marginBottom:"5px"}},f.createElement("span",{style:{color:"red",fontSize:"14px",fontFamily:"verdana,arial,sans-serif"}},f.createElement("span",null,"Current view shows filtered results. Click "),f.createElement("a",{style:{cursor:"pointer"},onClick:this.handlers.resetDataStore},"here"),f.createElement("span",null," to reset all filters."))),f.createElement(m.default,{isLoading:this.props.store.clinicalDataForSamples.isPending||this.props.store.studiesForSamplesWithoutCancerTypeClinicalData.isPending}),!this.props.store.clinicalDataForSamples.isPending&&!this.props.store.studiesForSamplesWithoutCancerTypeClinicalData.isPending&&f.createElement(w.default,{sampleIdToTumorType:this.props.store.sampleIdToTumorType,oncoKbAnnotatedGenes:this.props.store.oncoKbAnnotatedGenes,discreteCNACache:this.props.discreteCNACache,genomeNexusEnrichmentCache:this.props.genomeNexusEnrichmentCache,molecularProfileIdToMolecularProfile:this.props.store.molecularProfileIdToMolecularProfile.result,oncoKbEvidenceCache:this.props.oncoKbEvidenceCache,pubMedCache:this.props.pubMedCache,mutationCountCache:this.props.mutationCountCache,dataStore:this.props.store.dataStore,myCancerGenomeData:this.props.myCancerGenomeData,hotspots:this.props.store.indexedHotspotData,cosmicData:this.props.store.cosmicData.result,oncoKbData:this.props.store.oncoKbData,civicGenes:this.props.store.civicGenes,civicVariants:this.props.store.civicVariants,enableOncoKb:this.props.config.showOncoKB,enableGenomeNexus:this.props.config.showGenomeNexus,enableHotspot:this.props.config.showHotspot,enableMyCancerGenome:this.props.config.showMyCancerGenome,enableCivic:this.props.config.showCivic})))}},{key:"toggle3dPanel",value:function(){this.is3dPanelOpen?this.close3dPanel():this.open3dPanel()}},{key:"open3dPanel",value:function(){this.is3dPanelOpen=!0,this.props.store.pdbChainDataStore.selectFirstChain()}},{key:"close3dPanel",value:function(){this.is3dPanelOpen=!1,this.props.store.pdbChainDataStore.selectUid()}},{key:"geneSummary",get:function(){return f.createElement("div",{style:{paddingBottom:10}},f.createElement("h4",null,this.props.store.gene.hugoGeneSymbol),this.props.store.uniprotId.result&&f.createElement("span",null,"UniProt: ",f.createElement("a",{href:"http://www.uniprot.org/uniprot/"+this.props.store.uniprotId.result},this.props.store.uniprotId.result)))}},{key:"mutationRateSummary",get:function(){return this.props.store.germlineConsentedSamples.result&&this.props.store.mutationData.isComplete&&this.props.store.mutationData.result.length>0?f.createElement(_.default,{hugoGeneSymbol:this.props.store.gene.hugoGeneSymbol,molecularProfileIdToMolecularProfile:this.props.store.molecularProfileIdToMolecularProfile,mutations:this.props.store.mutationData.result,samples:this.props.store.samples.result,germlineConsentedSamples:this.props.store.germlineConsentedSamples}):null}}]),t}(f.Component);P([E.observable],O.prototype,"is3dPanelOpen",void 0),P([E.observable],O.prototype,"lollipopPlotGeneX",void 0),P([E.observable],O.prototype,"geneWidth",void 0),P([E.computed],O.prototype,"geneSummary",null),P([E.computed],O.prototype,"mutationRateSummary",null),O=P([d.observer],O),t.default=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=n(343),f=o(p),d=n(408),h=o(d),m=n(455),y=n(464),g=n(527),v=n(406),b=n(346),w=n(812),C=r(w),T=n(604),S=r(T),x=n(597),A=r(x),k=n(471),E=r(k),M=n(721),_=n(813),P=r(_),O=n(818),I=r(O),R=n(815),L=n(821),j=r(L),D=n(822),N=r(D),G=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},F=function(e){function t(){i(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.isCollapsed=!1,e.isIncreasedSize=!1,e.proteinScheme=R.ProteinScheme.CARTOON,e.proteinColor=R.ProteinColor.UNIFORM,e.sideChain=R.SideChain.SELECTED,e.mutationColor=R.MutationColor.MUTATION_TYPE,e.displayBoundMolecules=!0,e.containerRefHandler=e.containerRefHandler.bind(e),e.toggleCollapse=e.toggleCollapse.bind(e),e.toggleDoubleSize=e.toggleDoubleSize.bind(e),e.handleProteinSchemeChange=e.handleProteinSchemeChange.bind(e),e.handleProteinColorChange=e.handleProteinColorChange.bind(e),e.handleSideChainChange=e.handleSideChainChange.bind(e),e.handleMutationColorChange=e.handleMutationColorChange.bind(e),e.handleBoundMoleculeChange=e.handleBoundMoleculeChange.bind(e),e.handlePyMolDownload=e.handlePyMolDownload.bind(e),e}return l(t,e),c(t,[{key:"selectionTitle",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"top",r=null;return t&&(r=this.defaultInfoTooltip(t,n)),f.createElement("span",null,e," ",r,":")}},{key:"defaultInfoTooltip",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n=function(){return e};return f.createElement(E.default,{placement:t,overlay:n,arrowContent:f.createElement("div",{className:"rc-tooltip-arrow-inner"}),destroyTooltipOnHide:!0},f.createElement("i",{className:"fa fa-info-circle"}))}},{key:"proteinColorTooltipContent",value:function(){return f.createElement("div",{style:{maxWidth:400,maxHeight:200,overflowY:"auto"}},"Color options for the protein structure. ",f.createElement("br",null),f.createElement("br",null),f.createElement("b",null,"Uniform:")," Colors the entire protein structure with a",f.createElement("span",{className:N.default.loop}," single color"),". ",f.createElement("br",null),f.createElement("b",null,"Secondary structure:")," Colors the protein by secondary structure. Assigns different colors for ",f.createElement("span",{className:N.default["alpha-helix"]},"alpha helices"),",",f.createElement("span",{className:N.default["beta-sheet"]}," beta sheets"),", and",f.createElement("span",{className:N.default.loop}," loops"),". This color option is not available for the space-filling protein scheme. ",f.createElement("br",null),f.createElement("b",null,"N-C rainbow:")," Colors the protein with a rainbow gradient from red (N-terminus) to blue (C-terminus). ",f.createElement("br",null),f.createElement("b",null,"Atom Type:")," Colors the structure with respect to the atom type (CPK color scheme). This color option is only available for the space-filling protein scheme. ",f.createElement("br",null),f.createElement("br",null),"The selected chain is always displayed with full opacity while the rest of the structure has some transparency to help better focusing on the selected chain.")}},{key:"sideChainTooltipContent",value:function(){return f.createElement("div",{style:{maxWidth:400,maxHeight:200,overflowY:"auto"}},"Display options for the side chain atoms. ",f.createElement("br",null),f.createElement("br",null),f.createElement("b",null,"All:")," Displays the side chain atoms for every mapped residue. ",f.createElement("br",null),f.createElement("b",null,"Selected:")," Displays the side chain atoms only for the selected mutations. ",f.createElement("br",null),f.createElement("b",null,"None:")," Hides the side chain atoms. ",f.createElement("br",null),f.createElement("br",null),"This option has no effect for the space-filling protein scheme.")}},{key:"mutationColorTooltipContent",value:function(){return f.createElement("div",{style:{maxWidth:400,maxHeight:200,overflowY:"auto"}},"Color options for the mapped mutations. ",f.createElement("br",null),f.createElement("br",null),f.createElement("b",null,"Uniform:")," Colors all mutated residues with a",f.createElement("span",{className:N.default["uniform-mutation"]}," single color"),". ",f.createElement("br",null),f.createElement("b",null,"Mutation type:")," Enables residue coloring by mutation type. Mutation types and corresponding color codes are as follows:",f.createElement("ul",null,f.createElement("li",null,f.createElement("span",{className:N.default["missense-mutation"]},"Missense Mutations")),f.createElement("li",null,f.createElement("span",{className:N.default["trunc-mutation"]},"Truncating Mutations"),f.createElement("span",null," (Nonsense, Nonstop, FS del, FS ins)")),f.createElement("li",null,f.createElement("span",{className:N.default["inframe-mutation"]},"Inframe Mutations"),f.createElement("span",null," (IF del, IF ins)"))),f.createElement("b",null,"None:")," Disables coloring of the mutated residues except for manually selected (highlighted) residues. ",f.createElement("br",null),f.createElement("br",null),"Highlighted residues are colored with ",f.createElement("span",{className:N.default.highlighted},"yellow"),".")}},{key:"boundMoleculesTooltipContent",value:function(){return f.createElement("div",{style:{maxWidth:400,maxHeight:200,overflowY:"auto"}},"Displays co-crystalized molecules. This option has no effect if the current structure does not contain any co-crystalized bound molecules.")}},{key:"helpTooltipContent",value:function(){return f.createElement("div",{style:{maxWidth:400,maxHeight:200,overflowY:"auto"}},f.createElement("b",null,"Zoom in/out:")," Press and hold the SHIFT key and the left mouse button, and then move the mouse backward/forward.",f.createElement("br",null),f.createElement("b",null,"Pan:")," Press and hold the CTRL key, click and hold the left mouse button, and then move the mouse in the desired direction.",f.createElement("br",null),f.createElement("b",null,"Rotate:")," Press and hold the left mouse button, and then move the mouse in the desired direction to rotate along the x and y axes.",f.createElement("br",null))}},{key:"proteinStyleMenu",value:function(){return f.createElement("span",null,f.createElement("div",{className:"row text-center"},f.createElement("span",null,"Protein Style")),f.createElement("div",{className:"row"},f.createElement("div",{className:"col col-sm-10 col-sm-offset-1"},f.createElement("hr",null))),f.createElement("div",{className:"row"},f.createElement(m.Checkbox,{checked:this.displayBoundMolecules,onChange:this.handleBoundMoleculeChange},"Display bound molecules ",this.defaultInfoTooltip(this.boundMoleculesTooltipContent()))),f.createElement("div",{className:"row"},f.createElement("div",{className:"col col-sm-6"},f.createElement("div",{className:"row"},this.selectionTitle("Scheme")),f.createElement("div",{className:"row"},f.createElement(m.FormControl,{className:N.default["default-option-select"],componentClass:"select",value:""+this.proteinScheme,onChange:this.handleProteinSchemeChange},f.createElement("option",{value:R.ProteinScheme.CARTOON},"cartoon"),f.createElement("option",{value:R.ProteinScheme.SPACE_FILLING},"space-filling"),f.createElement("option",{value:R.ProteinScheme.TRACE},"trace")))),f.createElement("div",{className:"col col-sm-6"},f.createElement("div",{className:"row"},this.selectionTitle("Color",this.proteinColorTooltipContent())),f.createElement("div",{className:"row"},f.createElement(m.FormControl,{className:N.default["default-option-select"],componentClass:"select",value:""+this.proteinColor,onChange:this.handleProteinColorChange},f.createElement("option",{value:R.ProteinColor.UNIFORM},"uniform"),f.createElement("option",{value:R.ProteinColor.SECONDARY_STRUCTURE,disabled:this.colorBySecondaryStructureDisabled},"secondary structure"),f.createElement("option",{value:R.ProteinColor.NC_RAINBOW,disabled:this.colorByNCRainbowDisabled},"N-C rainbow"),f.createElement("option",{value:R.ProteinColor.ATOM_TYPE,disabled:this.colorByAtomTypeDisabled},"atom type"))))))}},{key:"mutationStyleMenu",value:function(){return f.createElement("span",null,f.createElement("div",{className:"row text-center"},f.createElement("span",null,"Mutation Style")),f.createElement("div",{className:"row"},f.createElement("div",{className:"col col-sm-10 col-sm-offset-1"},f.createElement("hr",null))),f.createElement("div",{className:"row"},f.createElement("div",{className:"col col-sm-6"},f.createElement("div",{className:"row"},this.selectionTitle("Side Chain",this.sideChainTooltipContent())),f.createElement("div",{className:"row"},f.createElement(m.FormControl,{className:N.default["default-option-select"],componentClass:"select",value:""+this.sideChain,onChange:this.handleSideChainChange},f.createElement("option",{value:R.SideChain.ALL},"all"),f.createElement("option",{value:R.SideChain.SELECTED},"selected"),f.createElement("option",{value:R.SideChain.NONE},"none")))),f.createElement("div",{className:"col col-sm-6"},f.createElement("div",{className:"row"},this.selectionTitle("Color",this.mutationColorTooltipContent(),"left")),f.createElement("div",{className:"row"},f.createElement(m.FormControl,{className:N.default["default-option-select"],componentClass:"select",value:""+this.mutationColor,onChange:this.handleMutationColorChange},f.createElement("option",{value:R.MutationColor.UNIFORM},"uniform"),f.createElement("option",{value:R.MutationColor.MUTATION_TYPE},"mutation type"),f.createElement("option",{value:R.MutationColor.NONE},"none"))))))}},{key:"topToolbar",value:function(){return f.createElement("div",{className:"row"},f.createElement("div",{className:"col col-sm-6"},f.createElement(m.ButtonGroup,null,f.createElement(E.default,{overlay:f.createElement("span",null,"Download PyMol script"),placement:"top"},f.createElement(m.Button,{className:"btn-sm",onClick:this.handlePyMolDownload},f.createElement("i",{className:"fa fa-cloud-download"})," PyMol")))),f.createElement("div",{className:"col col-sm-6"},f.createElement("span",{className:"pull-right"},"how to pan/zoom/rotate? ",this.defaultInfoTooltip(this.helpTooltipContent(),"left"))))}},{key:"header",value:function(){return f.createElement("div",{className:(0,A.default)("row",N.default.header)},f.createElement("div",{className:"col col-sm-10"},f.createElement("span",null,"3D Structure")),f.createElement("div",{className:"col col-sm-2"},f.createElement("span",{className:"pull-right"},f.createElement("i",{className:(0,A.default)("fa",{"fa-compress":this.isIncreasedSize,"fa-expand":!this.isIncreasedSize}),onClick:this.toggleDoubleSize,style:{marginRight:5,cursor:"pointer"}}),f.createElement("i",{
className:"fa fa-minus-circle",onClick:this.toggleCollapse,style:{marginRight:5,cursor:"pointer"}}),f.createElement("i",{className:"fa fa-times-circle",onClick:this.props.onClose,style:{cursor:"pointer"}}))))}},{key:"mainContent",value:function(){return this.pdbId&&this.chainId&&this.residues?f.createElement("span",null,f.createElement("div",{className:"row"},f.createElement(I.default,{pdbId:this.pdbId,chainId:this.chainId,cache:this.props.pdbHeaderCache,truncateText:!0})),f.createElement(y.If,{condition:this.residueWarning.length>0},f.createElement("div",{className:"row"},f.createElement("div",{className:"col col-sm-12 text-center"},f.createElement("span",{className:"text-danger"},this.residueWarning)))),f.createElement("div",{className:"row",style:{paddingTop:5,paddingBottom:5}},f.createElement(P.default,{displayBoundMolecules:this.displayBoundMolecules,proteinScheme:this.proteinScheme,proteinColor:this.proteinColor,sideChain:this.sideChain,mutationColor:this.mutationColor,pdbId:this.pdbId,chainId:this.chainId,residues:this.residues,bounds:this.structureViewerBounds,containerRef:this.containerRefHandler}))):f.createElement("div",{style:{textAlign:"center"}},f.createElement(g.ThreeBounce,{size:25,style:{display:"inline-block",padding:25}}))}},{key:"render",value:function(){return f.createElement(C.default,{handle:".structure-viewer-header"},f.createElement("div",{className:(0,A.default)(N.default["main-3d-panel"],a({},N.default["increased-size-panel"],this.isIncreasedSize))},f.createElement("div",{className:"structure-viewer-header row"},this.header(),f.createElement("hr",{style:{borderTopColor:"#BBBBBB"}})),f.createElement("div",{className:(0,A.default)(N.default.body,a({},N.default["collapsed-panel"],this.isCollapsed))},this.mainContent(),f.createElement("div",{className:"row"},this.topToolbar(),f.createElement("hr",null)),f.createElement("div",{className:"row"},f.createElement("div",{className:"col col-sm-6"},this.proteinStyleMenu()),f.createElement("div",{className:"col col-sm-6"},this.mutationStyleMenu())))))}},{key:"containerRefHandler",value:function(e){this._3dMolDiv=e}},{key:"toggleCollapse",value:function(){this.isCollapsed=!this.isCollapsed}},{key:"toggleDoubleSize",value:function(){this.isIncreasedSize=!this.isIncreasedSize}},{key:"handleProteinSchemeChange",value:function(e){this.proteinScheme=parseInt(e.target.value,10),this.proteinScheme!==R.ProteinScheme.SPACE_FILLING||this.proteinColor!==R.ProteinColor.NC_RAINBOW&&this.proteinColor!==R.ProteinColor.SECONDARY_STRUCTURE?this.proteinScheme!==R.ProteinScheme.TRACE&&this.proteinScheme!==R.ProteinScheme.CARTOON||this.proteinColor!==R.ProteinColor.ATOM_TYPE||(this.proteinColor=R.ProteinColor.UNIFORM):this.proteinColor=R.ProteinColor.UNIFORM}},{key:"handleProteinColorChange",value:function(e){this.proteinColor=parseInt(e.target.value,10)}},{key:"handleSideChainChange",value:function(e){this.sideChain=parseInt(e.target.value,10)}},{key:"handleMutationColorChange",value:function(e){this.mutationColor=parseInt(e.target.value,10)}},{key:"handleBoundMoleculeChange",value:function(){this.displayBoundMolecules=!this.displayBoundMolecules}},{key:"handlePyMolDownload",value:function(){if(this.pdbId&&this.chainId){var e=this.pdbId+"_"+this.chainId+".pml";(0,S.default)(this.pyMolScript,e)}}},{key:"structureViewerBounds",get:function(){var e=void 0,t=void 0;return this.isIncreasedSize?(e=this._3dMolDiv?Math.floor(this._3dMolDiv.offsetWidth*(5/3)):"auto",t=this._3dMolDiv?2*this._3dMolDiv.offsetHeight:350):(e=this._3dMolDiv?Math.floor(this._3dMolDiv.offsetWidth/(5/3)):"auto",t=this._3dMolDiv?this._3dMolDiv.offsetHeight/2:350),{width:e,height:t}}},{key:"pdbId",get:function(){return this.pdbChain?this.pdbChain.pdbId:void 0}},{key:"chainId",get:function(){return this.pdbChain?this.pdbChain.chain:void 0}},{key:"pdbChain",get:function(){var e=this.props.pdbChainDataStore.sortedFilteredSelectedData;return 0===e.length&&(e=this.props.pdbChainDataStore.allData),0===e.length?void 0:e[0]}},{key:"residueWarning",get:function(){var e="";if(0===this.proteinPositions.length||this.residueMappingData&&0===this.residueMappingData.filter(function(e){return null===e||null!==e.data}).length)e="None of the mutations can be mapped onto this structure";else{var t=h.keys(this.selectedMutationsByPosition).length,n=t-this.mappedSelectedPositions.length;1===t&&1===n?e="Selected mutation cannot be mapped onto this structure":n>0&&(e=n+" of the selections cannot be mapped onto this structure")}return e}},{key:"residues",get:function(){var e=this;if(this.residueMappingData){var t=[];return this.residueMappingData.forEach(function(n){if(n&&n.data){var r=e.mutationsByPosition[n.data.queryPosition],o=e.props.mutationDataStore&&(e.props.mutationDataStore.isPositionSelected(n.data.queryPosition)||e.props.mutationDataStore.isPositionHighlighted(n.data.queryPosition))||!1;r&&r.length>0&&t.push({positionRange:{start:{position:n.data.pdbPosition},end:{position:n.data.pdbPosition}},color:(0,M.getColorForProteinImpactType)(r,e.props),highlighted:o})}}),h.uniq(t)}}},{key:"residueMappingData",get:function(){if(0!==this.alignmentIds.length){var e=[];if(this.props.residueMappingCache&&this.props.uniprotId&&this.pdbId&&this.chainId&&this.proteinPositions.length>0){var t=this.props.residueMappingCache.get({uniprotId:this.props.uniprotId,pdbId:this.pdbId,chainId:this.chainId,uniprotPositions:this.proteinPositions});t.result&&(e=t.result)}return e}}},{key:"mappedSelectedPositions",get:function(){var e=this;if(!this.residueMappingData)return[];var t=[];return this.residueMappingData.forEach(function(n){n&&n.data&&e.props.mutationDataStore&&e.props.mutationDataStore.isPositionSelected(n.data.queryPosition)&&t.push(n.data.queryPosition)}),h.uniq(t)}},{key:"alignmentIds",get:function(){var e=[];if(this.pdbChain&&this.props.pdbAlignmentIndex){var t=this.props.pdbAlignmentIndex[this.pdbChain.pdbId][this.pdbChain.chain];e=void 0===t?[]:this.props.pdbAlignmentIndex[this.pdbChain.pdbId][this.pdbChain.chain].map(function(e){return e.alignmentId})}return h.uniq(e)}},{key:"mutationsByPosition",get:function(){return this.props.mutationDataStore?(0,M.groupMutationsByProteinStartPos)(this.props.mutationDataStore.sortedFilteredData):{}}},{key:"selectedMutationsByPosition",get:function(){return this.props.mutationDataStore?(0,M.groupMutationsByProteinStartPos)(this.props.mutationDataStore.sortedFilteredSelectedData):{}}},{key:"proteinPositions",get:function(){var e=[];return this.props.mutationDataStore&&this.pdbChain&&(e=(0,M.getProteinStartPositionsByRange)(this.props.mutationDataStore.sortedFilteredData,this.pdbChain.uniprotStart,this.pdbChain.uniprotEnd)),e}},{key:"pyMolScript",get:function(){var e=new j.default,t={displayBoundMolecules:this.displayBoundMolecules,proteinScheme:this.proteinScheme,proteinColor:this.proteinColor,sideChain:this.sideChain,mutationColor:this.mutationColor};return this.pdbId&&this.chainId?e.generateScript(this.pdbId,this.chainId,this.residues||[],t):""}},{key:"colorBySecondaryStructureDisabled",get:function(){return this.proteinScheme===R.ProteinScheme.SPACE_FILLING}},{key:"colorByNCRainbowDisabled",get:function(){return this.proteinScheme===R.ProteinScheme.SPACE_FILLING}},{key:"colorByAtomTypeDisabled",get:function(){return this.proteinScheme!==R.ProteinScheme.SPACE_FILLING}}]),t}(f.Component);G([v.observable],F.prototype,"isCollapsed",void 0),G([v.observable],F.prototype,"isIncreasedSize",void 0),G([v.observable],F.prototype,"proteinScheme",void 0),G([v.observable],F.prototype,"proteinColor",void 0),G([v.observable],F.prototype,"sideChain",void 0),G([v.observable],F.prototype,"mutationColor",void 0),G([v.observable],F.prototype,"displayBoundMolecules",void 0),G([v.computed],F.prototype,"structureViewerBounds",null),G([v.computed],F.prototype,"pdbId",null),G([v.computed],F.prototype,"chainId",null),G([v.computed],F.prototype,"pdbChain",null),G([v.computed],F.prototype,"residueWarning",null),G([v.computed],F.prototype,"residues",null),G([v.computed],F.prototype,"residueMappingData",null),G([v.computed],F.prototype,"mappedSelectedPositions",null),G([v.computed],F.prototype,"alignmentIds",null),G([v.computed],F.prototype,"mutationsByPosition",null),G([v.computed],F.prototype,"selectedMutationsByPosition",null),G([v.computed],F.prototype,"proteinPositions",null),G([v.computed],F.prototype,"pyMolScript",null),G([v.computed],F.prototype,"colorBySecondaryStructureDisabled",null),G([v.computed],F.prototype,"colorByNCRainbowDisabled",null),G([v.computed],F.prototype,"colorByAtomTypeDisabled",null),F=G([b.observer],F),t.default=F},function(e,t,n){!function(t,r){e.exports=r(n(343),n(345))}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";e.exports=n(1).default,e.exports.DraggableCore=n(17).default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(2),f=r(p),d=n(3),h=r(d),m=n(11),y=r(m),g=n(12),v=r(g),b=n(13),w=n(16),C=n(14),T=n(17),S=r(T),x=n(19),A=r(x),k=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDragStart=function(e,t){(0,A.default)("Draggable: onDragStart: %j",t);var r=n.props.onStart(e,(0,w.createDraggableData)(n,t));return r!==!1&&void n.setState({dragging:!0,dragged:!0})},n.onDrag=function(e,t){if(!n.state.dragging)return!1;(0,A.default)("Draggable: onDrag: %j",t);var r=(0,w.createDraggableData)(n,t),o={x:r.x,y:r.y};if(n.props.bounds){var a=o.x,i=o.y;o.x+=n.state.slackX,o.y+=n.state.slackY;var s=(0,w.getBoundPosition)(n,o.x,o.y),l=c(s,2);o.x=l[0],o.y=l[1],o.slackX=n.state.slackX+(a-o.x),o.slackY=n.state.slackY+(i-o.y),r.x=a,r.y=i,r.deltaX=o.x-n.state.x,r.deltaY=o.y-n.state.y}var u=n.props.onDrag(e,r);return u!==!1&&void n.setState(o)},n.onDragStop=function(e,t){if(!n.state.dragging)return!1;var r=n.props.onStop(e,(0,w.createDraggableData)(n,t));if(r===!1)return!1;(0,A.default)("Draggable: onDragStop: %j",t);var o={dragging:!1,slackX:0,slackY:0},a=Boolean(n.props.position);if(a){var i=n.props.position,s=i.x,l=i.y;o.x=s,o.y=l}n.setState(o)},n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},n}return s(t,e),u(t,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){"undefined"!=typeof SVGElement&&y.default.findDOMNode(this)instanceof SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,t={},n=null,r=Boolean(this.props.position),a=!r||this.state.dragging,i=this.props.position||this.props.defaultPosition,s={x:(0,w.canDragX)(this)&&a?this.state.x:i.x,y:(0,w.canDragY)(this)&&a?this.state.y:i.y};this.state.isElementSVG?n=(0,b.createSVGTransform)(s):t=(0,b.createCSSTransform)(s);var c=this.props,u=c.defaultClassName,p=c.defaultClassNameDragging,d=c.defaultClassNameDragged,h=(0,v.default)(this.props.children.props.className||"",u,(e={},o(e,p,this.state.dragging),o(e,d,this.state.dragged),e));return f.default.createElement(S.default,l({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),f.default.cloneElement(f.default.Children.only(this.props.children),{className:h,style:l({},this.props.children.props.style,t),transform:n}))}}]),t}(f.default.Component);k.displayName="Draggable",k.propTypes=l({},S.default.propTypes,{axis:h.default.oneOf(["both","x","y","none"]),bounds:h.default.oneOfType([h.default.shape({left:h.default.number,right:h.default.number,top:h.default.number,bottom:h.default.number}),h.default.string,h.default.oneOf([!1])]),defaultClassName:h.default.string,defaultClassNameDragging:h.default.string,defaultClassNameDragged:h.default.string,defaultPosition:h.default.shape({x:h.default.number,y:h.default.number}),position:h.default.shape({x:h.default.number,y:h.default.number}),className:C.dontSetMe,style:C.dontSetMe,transform:C.dontSetMe}),k.defaultProps=l({},S.default.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null}),t.default=k},function(t,n){t.exports=e},function(e,t,n){if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV){var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,o=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},a=!0;e.exports=n(4)(o,a)}else e.exports=n(10)()},function(e,t,n){"use strict";var r=n(5),o=n(6),a=n(7),i=n(8),s=n(9);e.exports=function(e,t){function n(e){var t=e&&(k&&e[k]||e[E]);if("function"==typeof t)return t}function l(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function c(e){this.message=e,this.stack=""}function u(e){function n(n,l,u,p,f,d,h){if(p=p||M,d=d||u,h!==i)if(t)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&"undefined"!=typeof console){var m=p+":"+u;!r[m]&&s<3&&(a(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",d,p),r[m]=!0,s++)}return null==l[u]?n?new c(null===l[u]?"The "+f+" `"+d+"` is marked as required "+("in `"+p+"`, but its value is `null`."):"The "+f+" `"+d+"` is marked as required in "+("`"+p+"`, but its value is `undefined`.")):null:e(l,u,p,f,d)}if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV)var r={},s=0;var l=n.bind(null,!1);return l.isRequired=n.bind(null,!0),l}function p(e){function t(t,n,r,o,a,i){var s=t[n],l=S(s);if(l!==e){var u=x(s);return new c("Invalid "+o+" `"+a+"` of type "+("`"+u+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return u(t)}function f(){return u(r.thatReturnsNull)}function d(e){function t(t,n,r,o,a){if("function"!=typeof e)return new c("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){var l=S(s);return new c("Invalid "+o+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected an array."))}for(var u=0;u<s.length;u++){var p=e(s,u,r,o,a+"["+u+"]",i);if(p instanceof Error)return p}return null}return u(t)}function h(){function t(t,n,r,o,a){var i=t[n];if(!e(i)){var s=S(i);return new c("Invalid "+o+" `"+a+"` of type "+("`"+s+"` supplied to `"+r+"`, expected a single ReactElement."))}return null}return u(t)}function m(e){function t(t,n,r,o,a){if(!(t[n]instanceof e)){var i=e.name||M,s=A(t[n]);return new c("Invalid "+o+" `"+a+"` of type "+("`"+s+"` supplied to `"+r+"`, expected ")+("instance of `"+i+"`."))}return null}return u(t)}function y(e){function t(t,n,r,o,a){for(var i=t[n],s=0;s<e.length;s++)if(l(i,e[s]))return null;var u=JSON.stringify(e);return new c("Invalid "+o+" `"+a+"` of value `"+i+"` "+("supplied to `"+r+"`, expected one of "+u+"."))}return Array.isArray(e)?u(t):("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV?a(!1,"Invalid argument supplied to oneOf, expected an instance of array."):void 0,r.thatReturnsNull)}function g(e){function t(t,n,r,o,a){if("function"!=typeof e)return new c("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],l=S(s);if("object"!==l)return new c("Invalid "+o+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected an object."));for(var u in s)if(s.hasOwnProperty(u)){var p=e(s,u,r,o,a+"."+u,i);if(p instanceof Error)return p}return null}return u(t)}function v(e){function t(t,n,r,o,a){for(var s=0;s<e.length;s++){var l=e[s];if(null==l(t,n,r,o,a,i))return null}return new c("Invalid "+o+" `"+a+"` supplied to "+("`"+r+"`."))}return Array.isArray(e)?u(t):("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV?a(!1,"Invalid argument supplied to oneOfType, expected an instance of array."):void 0,r.thatReturnsNull)}function b(){function e(e,t,n,r,o){return C(e[t])?null:new c("Invalid "+r+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return u(e)}function w(e){function t(t,n,r,o,a){var s=t[n],l=S(s);if("object"!==l)return new c("Invalid "+o+" `"+a+"` of type `"+l+"` "+("supplied to `"+r+"`, expected `object`."));for(var u in e){var p=e[u];if(p){var f=p(s,u,r,o,a+"."+u,i);if(f)return f}}return null}return u(t)}function C(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(C);if(null===t||e(t))return!0;var r=n(t);if(!r)return!1;var o,a=r.call(t);if(r!==t.entries){for(;!(o=a.next()).done;)if(!C(o.value))return!1}else for(;!(o=a.next()).done;){var i=o.value;if(i&&!C(i[1]))return!1}return!0;default:return!1}}function T(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function S(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":T(t,e)?"symbol":t}function x(e){var t=S(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function A(e){return e.constructor&&e.constructor.name?e.constructor.name:M}var k="function"==typeof Symbol&&Symbol.iterator,E="@@iterator",M="<<anonymous>>",_={array:p("array"),bool:p("boolean"),func:p("function"),number:p("number"),object:p("object"),string:p("string"),symbol:p("symbol"),any:f(),arrayOf:d,element:h(),instanceOf:m,node:b(),objectOf:g,oneOf:y,oneOfType:v,shape:w};return c.prototype=Error.prototype,_.checkPropTypes=s,_.PropTypes=_,_}},function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,a,i,s,l){if(o(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,a,i,s,l],p=0;c=new Error(t.replace(/%s/g,function(){return u[p++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var o=function(e){};"production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&(o=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=r},function(e,t,n){"use strict";var r=n(5),o=r;"production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&!function(){var e=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,a="Warning: "+e.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.error(a);try{throw new Error(a)}catch(e){}};o=function(t,n){if(void 0===n)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==n.indexOf("Failed Composite propType: ")&&!t){for(var r=arguments.length,o=Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];e.apply(void 0,[n].concat(o))}}}(),e.exports=o},function(e,t){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,t,n){"use strict";function r(e,t,n,r,l){if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV)for(var c in e)if(e.hasOwnProperty(c)){var u;try{o("function"==typeof e[c],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",r||"React class",n,c),u=e[c](t,c,r,n,null,i)}catch(e){u=e}if(a(!u||u instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,c,typeof u),u instanceof Error&&!(u.message in s)){s[u.message]=!0;var p=l?l():"";a(!1,"Failed %s type: %s%s",n,u.message,null!=p?p:"")}}}if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV)var o=n(6),a=n(7),i=n(8),s={};e.exports=r},function(e,t,n){"use strict";var r=n(5),o=n(6);e.exports=function(){function e(){o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,n){e.exports=t},function(e,t,n){var r,o;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===o)for(var i in r)a.call(r,i)&&r[i]&&e.push(i)}}return e.join(" ")}var a={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(r=[],o=function(){return n}.apply(t,r),!(void 0!==o&&(e.exports=o)))}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return A||(A=(0,T.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,T.isFunction)(e[t])})),e[A].call(e,t)}function i(e,t,n){var r=e;do{if(a(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function s(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function l(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function c(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,T.int)(n.borderTopWidth),t+=(0,T.int)(n.borderBottomWidth)}function u(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,T.int)(n.borderLeftWidth),t+=(0,T.int)(n.borderRightWidth)}function p(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,T.int)(n.paddingTop),t-=(0,T.int)(n.paddingBottom)}function f(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,T.int)(n.paddingLeft),t-=(0,T.int)(n.paddingRight)}function d(e,t){var n=t===t.ownerDocument.body,r=n?{left:0,top:0}:t.getBoundingClientRect(),o=e.clientX+t.scrollLeft-r.left,a=e.clientY+t.scrollTop-r.top;return{x:o,y:a}}function h(e){var t=e.x,n=e.y;return o({},(0,S.browserPrefixToKey)("transform",x.default),"translate("+t+"px,"+n+"px)")}function m(e){var t=e.x,n=e.y;return"translate("+t+","+n+")"}function y(e,t){return e.targetTouches&&(0,T.findInArray)(e.targetTouches,function(e){return t===e.identifier})||e.changedTouches&&(0,T.findInArray)(e.changedTouches,function(e){return t===e.identifier})}function g(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function v(e){var t=e.getAttribute("style")||"";_.test(t)||e.setAttribute("style",t+M)}function b(e){var t=e.getAttribute("style")||"";e.setAttribute("style",t.replace(_,""))}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C({touchAction:"none"},e)}Object.defineProperty(t,"__esModule",{value:!0});var C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.matchesSelector=a,t.matchesSelectorAndParentsTo=i,t.addEvent=s,t.removeEvent=l,t.outerHeight=c,t.outerWidth=u,t.innerHeight=p,t.innerWidth=f,t.offsetXYFromParent=d,t.createCSSTransform=h,t.createSVGTransform=m,t.getTouch=y,t.getTouchIdentifier=g,t.addUserSelectStyles=v,t.removeUserSelectStyles=b,t.styleHacks=w;var T=n(14),S=n(15),x=r(S),A="",k=(0,S.getPrefix)("user-select"),E=(0,S.browserPrefixToStyle)("user-select",k),M=";"+E+": none;",_=new RegExp(";?"+E+": none;")},function(e,t){"use strict";function n(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function r(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function o(e){return"number"==typeof e&&!isNaN(e)}function a(e){return parseInt(e,10)}function i(e,t,n){if(e[t])return new Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=n,t.isFunction=r,t.isNum=o,t.int=a,t.dontSetMe=i},function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||"undefined"==typeof window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<i.length;n++)if(r(e,i[n])in t)return i[n];return""}function r(e,t){return t?""+t+a(e):e}function o(e,t){return t?"-"+t.toLowerCase()+"-"+e:e}function a(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=n,t.browserPrefixToKey=r,t.browserPrefixToStyle=o;var i=["Moz","Webkit","O","ms"];t.default=n()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:p(r);var o=h.default.findDOMNode(e);if("string"==typeof r){var a=o.ownerDocument,i=a.defaultView,s=void 0;if("parent"===r)s=o.parentNode;else if(s=a.querySelector(r),!s)throw new Error('Bounds selector "'+r+'" could not find an element.');var l=i.getComputedStyle(o),c=i.getComputedStyle(s);r={left:-o.offsetLeft+(0,f.int)(c.paddingLeft)+(0,f.int)(l.marginLeft),top:-o.offsetTop+(0,f.int)(c.paddingTop)+(0,f.int)(l.marginTop),right:(0,m.innerWidth)(s)-(0,m.outerWidth)(o)-o.offsetLeft+(0,f.int)(c.paddingRight)-(0,f.int)(l.marginRight),bottom:(0,m.innerHeight)(s)-(0,m.outerHeight)(o)-o.offsetTop+(0,f.int)(c.paddingBottom)-(0,f.int)(l.marginBottom)}}return(0,f.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,f.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,f.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,f.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function a(e,t,n){var r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]}function i(e){return"both"===e.props.axis||"x"===e.props.axis}function s(e){return"both"===e.props.axis||"y"===e.props.axis}function l(e,t,n){var r="number"==typeof t?(0,m.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var o=h.default.findDOMNode(n),a=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,m.offsetXYFromParent)(r||e,a)}function c(e,t,n){var r=e.state,o=!(0,f.isNum)(r.lastX);return o?{node:h.default.findDOMNode(e),deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:h.default.findDOMNode(e),deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function u(e,t){return{node:t.node,x:e.state.x+t.deltaX,y:e.state.y+t.deltaY,deltaX:t.deltaX,deltaY:t.deltaY,lastX:e.state.x,lastY:e.state.y}}function p(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=o,t.snapToGrid=a,t.canDragX=i,t.canDragY=s,t.getControlPosition=l,t.createCoreData=c,t.createDraggableData=u;var f=n(14),d=n(11),h=r(d),m=n(13)},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),u=r(c),p=n(3),f=r(p),d=n(11),h=r(d),m=n(13),y=n(16),g=n(14),v=n(19),b=r(v),w={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},C=w.mouse,T=function(e){function t(){var e,n,r,i;o(this,t);for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},r.handleDragStart=function(e){if(r.props.onMouseDown(e),!r.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var t=h.default.findDOMNode(r),n=t.ownerDocument;if(!(r.props.disabled||!(e.target instanceof n.defaultView.Node)||r.props.handle&&!(0,m.matchesSelectorAndParentsTo)(e.target,r.props.handle,t)||r.props.cancel&&(0,
m.matchesSelectorAndParentsTo)(e.target,r.props.cancel,t))){var o=(0,m.getTouchIdentifier)(e);r.setState({touchIdentifier:o});var a=(0,y.getControlPosition)(e,o,r);if(null!=a){var i=a.x,s=a.y,l=(0,y.createCoreData)(r,i,s);(0,b.default)("DraggableCore: handleDragStart: %j",l),(0,b.default)("calling",r.props.onStart);var c=r.props.onStart(e,l);c!==!1&&(r.props.enableUserSelectHack&&(0,m.addUserSelectStyles)(n.body),r.setState({dragging:!0,lastX:i,lastY:s}),(0,m.addEvent)(n,C.move,r.handleDrag),(0,m.addEvent)(n,C.stop,r.handleDragStop))}}},r.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=(0,y.getControlPosition)(e,r.state.touchIdentifier,r);if(null!=t){var n=t.x,o=t.y;if(Array.isArray(r.props.grid)){var a=n-r.state.lastX,i=o-r.state.lastY,l=(0,y.snapToGrid)(r.props.grid,a,i),c=s(l,2);if(a=c[0],i=c[1],!a&&!i)return;n=r.state.lastX+a,o=r.state.lastY+i}var u=(0,y.createCoreData)(r,n,o);(0,b.default)("DraggableCore: handleDrag: %j",u);var p=r.props.onDrag(e,u);if(p!==!1)r.setState({lastX:n,lastY:o});else try{r.handleDragStop(new MouseEvent("mouseup"))}catch(e){var f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.handleDragStop(f)}}},r.handleDragStop=function(e){if(r.state.dragging){var t=(0,y.getControlPosition)(e,r.state.touchIdentifier,r);if(null!=t){var n=t.x,o=t.y,a=(0,y.createCoreData)(r,n,o),i=h.default.findDOMNode(r),s=i.ownerDocument;r.props.enableUserSelectHack&&(0,m.removeUserSelectStyles)(s.body),(0,b.default)("DraggableCore: handleDragStop: %j",a),r.setState({dragging:!1,lastX:NaN,lastY:NaN}),r.props.onStop(e,a),(0,b.default)("DraggableCore: Removing handlers"),(0,m.removeEvent)(s,C.move,r.handleDrag),(0,m.removeEvent)(s,C.stop,r.handleDragStop)}}},r.onMouseDown=function(e){return C=w.mouse,r.handleDragStart(e)},r.onMouseUp=function(e){return C=w.mouse,r.handleDragStop(e)},r.onTouchStart=function(e){return C=w.touch,r.handleDragStart(e)},r.onTouchEnd=function(e){return C=w.touch,r.handleDragStop(e)},i=n,a(r,i)}return i(t,e),l(t,[{key:"componentWillUnmount",value:function(){var e=h.default.findDOMNode(this),t=e.ownerDocument;(0,m.removeEvent)(t,w.mouse.move,this.handleDrag),(0,m.removeEvent)(t,w.touch.move,this.handleDrag),(0,m.removeEvent)(t,w.mouse.stop,this.handleDragStop),(0,m.removeEvent)(t,w.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&(0,m.removeUserSelectStyles)(t.body)}},{key:"render",value:function(){return u.default.cloneElement(u.default.Children.only(this.props.children),{style:(0,m.styleHacks)(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),t}(u.default.Component);T.displayName="DraggableCore",T.propTypes={allowAnyClick:f.default.bool,disabled:f.default.bool,enableUserSelectHack:f.default.bool,offsetParent:function(t,n){if(e.browser&&t[n]&&1!==t[n].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:f.default.arrayOf(f.default.number),handle:f.default.string,cancel:f.default.string,onStart:f.default.func,onDrag:f.default.func,onStop:f.default.func,onMouseDown:f.default.func,className:g.dontSetMe,style:g.dontSetMe,transform:g.dontSetMe},T.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}},t.default=T}).call(t,n(18))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function a(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function i(){m&&d&&(m=!1,d.length?h=d.concat(h):y=-1,h.length&&s())}function s(){if(!m){var e=o(i);m=!0;for(var t=h.length;t;){for(d=h,h=[];++y<t;)d&&d[y].run();y=-1,t=h.length}d=null,m=!1,a(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,p,f=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(e){p=r}}();var d,h=[],m=!1,y=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new l(e,t)),1!==h.length||m||o(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r}])})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(343),p=o(u),f=n(408),d=o(f),h=n(346),m=n(814),y=r(m),g=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},v=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.divHandler=e.divHandler.bind(e),e}return s(t,e),l(t,[{key:"render",value:function(){return p.createElement("div",{ref:this.divHandler,style:{height:this.props.bounds.height,width:this.props.bounds.width,padding:0},className:"borderedChart"})}},{key:"componentDidMount",value:function(){this._3dMolDiv&&(this.wrapper=new y.default(this._3dMolDiv,this.props),this.wrapper.init(this.props.pdbId,this.props.chainId,this.props.residues),this._pdbId=this.props.pdbId)}},{key:"componentDidUpdate",value:function(e){this.wrapper&&(this.props.pdbId!==this._pdbId?(this._pdbId=this.props.pdbId,this.wrapper.loadPdb(this._pdbId,this.props.chainId,this.props.residues,this.props)):this.wrapper.updateViewer(this.props.chainId,this.props.residues,this.props),d.isEqual(this.props.bounds,e.bounds)||this.wrapper.resize())}},{key:"divHandler",value:function(e){this._3dMolDiv=e,this.props.containerRef&&this.props.containerRef(e)}}]),t}(p.Component);v=g([h.observer],v),t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in o)return o.value;var i=o.get;if(void 0!==i)return i.call(r)},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=n(408),f=o(p),d=n(462),h=r(d),m=n(406),y=n(815),g=r(y),v=n(816),b=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},w=n(817),C=function(e){function t(e,n,r){a(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._loadingPdb=!1,o.stateChangeReaction=(0,m.reaction)(function(){return o.state},function(e){o.onStateChange(e)}),o._3dMol=r||w,o._3dMolDiv=e,o.props=Object.assign({},g.default.defaultProps,n),o.state={pdbId:"",chainId:"",residues:[]},o._prevState={pdbId:"",chainId:"",residues:[]},o.updateViewer=o.updateViewer.bind(o),o}return s(t,e),l(t,[{key:"setState",value:function(e){this._prevState=Object.assign({},this.state),this.state=Object.assign({},this.state,e)}},{key:"onStateChange",value:function(e){this._prevState&&!this._loadingPdb&&(this.updateVisualStyle(e.residues,e.chainId,this.props),this._3dMolViewer.render())}},{key:"setProps",value:function(e){this._prevProps=this.props,this.props=e}},{key:"init",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.residues,r=arguments[3];if(r?this._3dMolViewer=r:this._3dMolDiv&&(this._3dMolViewer=this._3dMol.createViewer((0,h.default)(this._3dMolDiv),{defaultcolors:this._3dMol.elementColors.rasmol})),this._3dMolViewer){var o=this.formatColor(this.props.backgroundColor||g.default.defaultProps.backgroundColor);this._3dMolViewer.setBackgroundColor(o),this.loadPdb(e,t,n)}}},{key:"loadPdb",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.residues,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.props,a={doAssembly:!0,pdbUri:o.pdbUri};this._loadingPdb=!0,this.setState({pdbId:e,chainId:t,residues:r}),this._3dMolViewer?(this._3dMolViewer.clear(),this._3dMol.download("pdb:"+e.toUpperCase(),this._3dMolViewer,a,function(){n._loadingPdb=!1,n.onStateChange(n.state)})):this._loadingPdb=!1}},{key:"updateViewer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.residues,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props;this.setProps(n),this.setState({chainId:e,residues:t})}},{key:"resize",value:function(){this._3dMolViewer&&this._3dMolViewer.resize()}},{key:"selectAll",value:function(){return{}}},{key:"selectChain",value:function(e){return{chain:e}}},{key:"setScheme",value:function(e,n){var r=t.PROTEIN_SCHEME_PRESETS[e];return this.applyStyleForSelector(n,r),r}},{key:"setColor",value:function(e,t,n){var r=this.formatColor(e);n&&(f.each(n,function(e){e.color=r}),this.applyStyleForSelector(t,n))}},{key:"formatColor",value:function(e){return e.replace("#","0x")}},{key:"setTransparency",value:function(e,t,n){n&&(this.addTransparencyToStyle(e,n),this.applyStyleForSelector(t,n))}},{key:"addTransparencyToStyle",value:function(e,t){f.each(t,function(t,n){"sphere"!==n&&(t.opacity=(10-e)/10)})}},{key:"rainbowColor",value:function(e,t){this.setColor("spectrum",e,t)}},{key:"cpkColor",value:function(e,t){var n=this;t&&(f.each(t,function(e){delete e.color,e.colors=n._3dMol.elementColors.defaultColors}),this.applyStyleForSelector(e,t))}},{key:"selectAlphaHelix",value:function(e){return{chain:e,ss:"h"}}},{key:"selectBetaSheet",value:function(e){return{chain:e,ss:"s"}}},{key:"hideBoundMolecules",value:function(){var e={resn:t.ALL_PROTEINS,invert:!0},n={sphere:{hidden:!0}};this._3dMolViewer.setStyle(e,n)}},{key:"enableBallAndStick",value:function(e,n,r){var o=Object.assign({},r,t.PROTEIN_SCHEME_PRESETS[y.ProteinScheme.BALL_AND_STICK]);if(e){var a=this.formatColor(e);o.sphere||(o.sphere={}),o.sphere.color=a,o.stick||(o.stick={}),o.stick.color=a}this._3dMolViewer.setStyle(n,o)}},{key:"updateResidueStyle",value:function(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props,a=arguments[3],i=g.default.defaultProps;a||(a=t.PROTEIN_SCHEME_PRESETS[o.proteinScheme],this.addTransparencyToStyle(o.chainTranslucency||i.chainTranslucency,a));var s=this.residuesToUpdate;s.forEach(function(e){var t=e.residue,s=r.selectResidue(e.selector,n),l=void 0;l=t.highlighted?r.props.highlightColor||i.highlightColor:o.mutationColor===y.MutationColor.MUTATION_TYPE?t.color:o.mutationColor===y.MutationColor.UNIFORM?o.uniformMutationColor||i.uniformMutationColor:o.chainColor||i.chainColor,r.setColor(l,s,a);var c=o.sideChain===y.SideChain.ALL||t.highlighted===!0&&o.sideChain===y.SideChain.SELECTED;c&&r.updateSideChain(n,e.selector,o.proteinScheme,l,a)})}},{key:"updateScheme",value:function(e){return this.needToUpdateResiduesOnly?void 0:c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateScheme",this).call(this,e)}},{key:"updateBaseVisualStyle",value:function(e,n){this.needToUpdateResiduesOnly||c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateBaseVisualStyle",this).call(this,e,n)}},{key:"updateChainVisualStyle",value:function(e,n,r){this.needToUpdateResiduesOnly||c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateChainVisualStyle",this).call(this,e,n,r)}},{key:"updateVisualStyle",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props;c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateVisualStyle",this).call(this,e,n,r)}},{key:"selectResidues",value:function(e,t){return{rescode:e,chain:t}}},{key:"selectResidue",value:function(e,t){return Object.assign({chain:t},e)}},{key:"selectSideChains",value:function(e,t){return this.selectResidue(e,t)}},{key:"updateSideChain",value:function(e,t,n,r,o){if(n!==y.ProteinScheme.SPACE_FILLING){var a=this.selectSideChains(t,e);this.enableBallAndStick(r,a,o)}}},{key:"applyStyleForSelector",value:function(e,t){this._3dMolViewer.setStyle(e,t)}},{key:"residuesToUpdate",get:function(){return this.needToUpdateResiduesOnly?(0,v.findUpdatedResidues)(this.currentResidueToPositionMap,this.prevResidueToPositionMap):f.flatten(f.values(this.currentResidueToPositionMap))}},{key:"needToUpdateResiduesOnly",get:function(){return this._prevState.pdbId===this.state.pdbId&&this._prevState.chainId===this.state.chainId&&this.visualPropsUnchanged&&this.residuePositionsUnchanged}},{key:"residuePositionsUnchanged",get:function(){return f.isEqual(f.keys(this.currentResidueToPositionMap).sort(),f.keys(this.prevResidueToPositionMap).sort())}},{key:"currentResidueToPositionMap",get:function(){return(0,v.generateResiduePosToSelectorMap)(this.state.residues)}},{key:"prevResidueToPositionMap",get:function(){return(0,v.generateResiduePosToSelectorMap)(this._prevState.residues)}},{key:"visualPropsUnchanged",get:function(){return f.isEqual(f.omit(this.props,["pdbId","chainId","residues"]),f.omit(this._prevProps,["pdbId","chainId","residues"]))}}],[{key:"PROTEIN_SCHEME_PRESETS",get:function(){var e={};return e[y.ProteinScheme.CARTOON]={cartoon:{}},e[y.ProteinScheme.TRACE]={cartoon:{style:"trace"}},e[y.ProteinScheme.SPACE_FILLING]={sphere:{scale:.6}},e[y.ProteinScheme.BALL_AND_STICK]={stick:{},sphere:{scale:.25}},e[y.ProteinScheme.RIBBON]={cartoon:{style:"ribbon"}},e}},{key:"ALL_PROTEINS",get:function(){var e=["asp","glu","arg","lys","his","asn","thr","cys","gln","tyr","ser","gly","ala","leu","val","ile","met","trp","phe","pro"],t=e.map(function(e){return e.toUpperCase()});return e.concat(t)}}]),t}(g.default);t.default=C,b([m.observable],C.prototype,"props",void 0),b([m.observable],C.prototype,"_prevProps",void 0),b([m.observable],C.prototype,"state",void 0),b([m.observable],C.prototype,"_prevState",void 0),b([m.action],C.prototype,"setState",null),b([m.computed],C.prototype,"residuesToUpdate",null),b([m.computed],C.prototype,"needToUpdateResiduesOnly",null),b([m.computed],C.prototype,"residuePositionsUnchanged",null),b([m.computed],C.prototype,"currentResidueToPositionMap",null),b([m.computed],C.prototype,"prevResidueToPositionMap",null),b([m.computed],C.prototype,"visualPropsUnchanged",null)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.MutationColor=t.SideChain=t.ProteinColor=t.ProteinScheme=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(816),i=t.ProteinScheme=void 0;!function(e){e[e.CARTOON=0]="CARTOON",e[e.SPACE_FILLING=1]="SPACE_FILLING",e[e.TRACE=2]="TRACE",e[e.BALL_AND_STICK=3]="BALL_AND_STICK",e[e.RIBBON=4]="RIBBON"}(i||(t.ProteinScheme=i={}));var s=t.ProteinColor=void 0;!function(e){e[e.UNIFORM=0]="UNIFORM",e[e.SECONDARY_STRUCTURE=1]="SECONDARY_STRUCTURE",e[e.NC_RAINBOW=2]="NC_RAINBOW",e[e.ATOM_TYPE=3]="ATOM_TYPE"}(s||(t.ProteinColor=s={}));var l=t.SideChain=void 0;!function(e){e[e.ALL=0]="ALL",e[e.SELECTED=1]="SELECTED",e[e.NONE=2]="NONE"}(l||(t.SideChain=l={}));var c=t.MutationColor=void 0;!function(e){e[e.UNIFORM=0]="UNIFORM",e[e.MUTATION_TYPE=1]="MUTATION_TYPE",e[e.NONE=2]="NONE"}(c||(t.MutationColor=c={}));var u=function(){function e(){r(this,e)}return o(e,[{key:"updateVisualStyle",value:function(e,t,n){var r=this.updateScheme(n);this.updateBaseVisualStyle(r,n),this.updateChainVisualStyle(t,r,n),this.updateResidueStyle(e,t,n,r),this.updateBoundMolecules(n)}},{key:"updateScheme",value:function(e){var t=this.selectAll();return this.setScheme(e.proteinScheme,t)}},{key:"updateBaseVisualStyle",value:function(t,n){var r=e.defaultProps,o=this.selectAll();this.setColor(n.baseColor||r.baseColor,o,t),this.setTransparency(n.baseTranslucency||r.baseTranslucency,o,t)}},{key:"updateChainVisualStyle",value:function(t,n,r){var o=e.defaultProps,a=this.selectChain(t);this.setColor(r.chainColor||o.chainColor,a,n),this.setTransparency(r.chainTranslucency||o.chainTranslucency,a,n),r.proteinColor===s.ATOM_TYPE?(a=this.selectChain(t),this.cpkColor(a,n)):r.proteinColor===s.SECONDARY_STRUCTURE?(a=this.selectAlphaHelix(t),this.setColor((r.structureColors||o.structureColors).alphaHelix,a,n),a=this.selectBetaSheet(t),this.setColor((r.structureColors||o.structureColors).betaSheet,a,n)):r.proteinColor===s.NC_RAINBOW&&(a=this.selectChain(t),this.rainbowColor(a,n))}},{key:"updateBoundMolecules",value:function(e){e.displayBoundMolecules||this.hideBoundMolecules()}},{key:"convertPositionsToResCode",value:function(e){var t=[];return e.forEach(function(e){t=t.concat((0,a.convertPdbPosToResCode)(e))}),t}}]),e}();u.defaultProps={pdbUri:"https://files.rcsb.org/view/",proteinScheme:i.CARTOON,displayBoundMolecules:!0,backgroundColor:"#FFFFFF",baseColor:"#DDDDDD",structureColors:{alphaHelix:"#FFA500",betaSheet:"#0000FF",loop:"#DDDDDD"},baseTranslucency:5,chainColor:"#888888",chainTranslucency:0,proteinColor:s.UNIFORM,mutationColor:c.MUTATION_TYPE,uniformMutationColor:"#8A2BE2",highlightColor:"#FFDD00",sideChain:l.SELECTED},t.default=u},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){for(var t=[],n=e.start.position,r=e.end.position,o=n;o<=r;o++)t.push(""+o);return e.start.insertionCode&&(t[0]+="^"+e.start.insertionCode),t.length>1&&e.end.insertionCode&&(t[t.length-1]+="^"+e.end.insertionCode),t}function a(e){for(var t=[],n=e.start.position,r=e.end.position,o=n;o<=r;o++)t.push({resi:o});return e.start.insertionCode&&(t[0].icode=e.start.insertionCode),t.length>1&&e.end.insertionCode&&(t[t.length-1].icode=e.end.insertionCode),t}function i(e){var t={};return e.forEach(function(e){var n=a(e.positionRange),r=c.groupBy(n,"resi");c.each(c.keys(r),function(n){t[n]||(t[n]=[]),c.each(r[n],function(r){t[n].push({selector:r,residue:e})})})}),t}function s(e,t){var n=[];return c.each(c.keys(e),function(r){c.isEqual(e[r],t[r])||(n=n.concat(e[r]))}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.convertPdbPosToResCode=o,t.convertPdbPosToResAndInsCode=a,t.generateResiduePosToSelectorMap=i,t.findUpdatedResidues=s;var l=n(408),c=r(l)},function(e,t){(function(){!function(e,t){t(e.MMTF=e.MMTF||{})}(this,function(e){"use strict";function t(e,t,n){for(var r=(e.byteLength,0),o=n.length;r<o;r++){var a=n.charCodeAt(r);if(a<128)e.setUint8(t++,a>>>0&127|0);else if(a<2048)e.setUint8(t++,a>>>6&31|192),e.setUint8(t++,a>>>0&63|128);else if(a<65536)e.setUint8(t++,a>>>12&15|224),e.setUint8(t++,a>>>6&63|128),e.setUint8(t++,a>>>0&63|128);else{if(!(a<1114112))throw new Error("bad codepoint "+a);e.setUint8(t++,a>>>18&7|240),e.setUint8(t++,a>>>12&63|128),e.setUint8(t++,a>>>6&63|128),e.setUint8(t++,a>>>0&63|128)}}}function n(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t+=1;else if(o<2048)t+=2;else if(o<65536)t+=3;else{if(!(o<1114112))throw new Error("bad codepoint "+o);t+=4}}return t}function r(e,o,a){var i=typeof e;if("string"===i){var s=n(e);if(s<32)return o.setUint8(a,160|s),t(o,a+1,e),1+s;if(s<256)return o.setUint8(a,217),o.setUint8(a+1,s),t(o,a+2,e),2+s;if(s<65536)return o.setUint8(a,218),o.setUint16(a+1,s),t(o,a+3,e),3+s;if(s<4294967296)return o.setUint8(a,219),o.setUint32(a+1,s),t(o,a+5,e),5+s}if(e instanceof Uint8Array){var s=e.byteLength,l=new Uint8Array(o.buffer);if(s<256)return o.setUint8(a,196),o.setUint8(a+1,s),l.set(e,a+2),2+s;if(s<65536)return o.setUint8(a,197),o.setUint16(a+1,s),l.set(e,a+3),3+s;if(s<4294967296)return o.setUint8(a,198),o.setUint32(a+1,s),l.set(e,a+5),5+s}if("number"===i){if(!isFinite(e))throw new Error("Number not finite: "+e);if(Math.floor(e)!==e)return o.setUint8(a,203),o.setFloat64(a+1,e),9;if(e>=0){if(e<128)return o.setUint8(a,e),1;if(e<256)return o.setUint8(a,204),o.setUint8(a+1,e),2;if(e<65536)return o.setUint8(a,205),o.setUint16(a+1,e),3;if(e<4294967296)return o.setUint8(a,206),o.setUint32(a+1,e),5;throw new Error("Number too big 0x"+e.toString(16))}if(e>=-32)return o.setInt8(a,e),1;if(e>=-128)return o.setUint8(a,208),o.setInt8(a+1,e),2;if(e>=-32768)return o.setUint8(a,209),o.setInt16(a+1,e),3;if(e>=-2147483648)return o.setUint8(a,210),o.setInt32(a+1,e),5;throw new Error("Number too small -0x"+(-e).toString(16).substr(1))}if(null===e)return o.setUint8(a,192),1;if("boolean"===i)return o.setUint8(a,e?195:194),1;if("object"===i){var s,c=0,u=Array.isArray(e);if(u)s=e.length;else{var p=Object.keys(e);s=p.length}var c;if(s<16?(o.setUint8(a,s|(u?144:128)),c=1):s<65536?(o.setUint8(a,u?220:222),o.setUint16(a+1,s),c=3):s<4294967296&&(o.setUint8(a,u?221:223),o.setUint32(a+1,s),c=5),u)for(var f=0;f<s;f++)c+=r(e[f],o,a+c);else for(var f=0;f<s;f++){var d=p[f];c+=r(d,o,a+c),c+=r(e[d],o,a+c)}return c}throw new Error("Unknown type "+i)}function o(e){var t=typeof e;if("string"===t){var r=n(e);if(r<32)return 1+r;if(r<256)return 2+r;if(r<65536)return 3+r;if(r<4294967296)return 5+r}if(e instanceof Uint8Array){var r=e.byteLength;if(r<256)return 2+r;if(r<65536)return 3+r;if(r<4294967296)return 5+r}if("number"===t){if(Math.floor(e)!==e)return 9;if(e>=0){if(e<128)return 1;if(e<256)return 2;if(e<65536)return 3;if(e<4294967296)return 5;throw new Error("Number too big 0x"+e.toString(16))}if(e>=-32)return 1;if(e>=-128)return 2;if(e>=-32768)return 3;if(e>=-2147483648)return 5;throw new Error("Number too small -0x"+e.toString(16).substr(1))}if("boolean"===t||null===e)return 1;if("object"===t){var r,a=0;if(Array.isArray(e)){r=e.length;for(var i=0;i<r;i++)a+=o(e[i])}else{var s=Object.keys(e);r=s.length;for(var i=0;i<r;i++){var l=s[i];a+=o(l)+o(e[l])}}if(r<16)return 1+a;if(r<65536)return 3+a;if(r<4294967296)return 5+a;throw new Error("Array or object too long 0x"+r.toString(16))}throw new Error("Unknown type "+t)}function a(e){var t=new ArrayBuffer(o(e)),n=new DataView(t);return r(e,n,0),new Uint8Array(t)}function i(e,t,n){return t?new e(t.buffer,t.byteOffset,t.byteLength/(n||1)):void 0}function s(e){return i(DataView,e)}function l(e){return i(Uint8Array,e)}function c(e){return i(Int8Array,e)}function u(e){return i(Int32Array,e,4)}function p(e){return i(Float32Array,e,4)}function f(e,t){var n=e.length/2;t||(t=new Int16Array(n));for(var r=0,o=0;r<n;++r,o+=2)t[r]=e[o]<<8^e[o+1]<<0;return t}function d(e,t){var n=e.length;t||(t=new Uint8Array(2*n));for(var r=s(t),o=0;o<n;++o)r.setInt16(2*o,e[o]);return l(t)}function h(e,t){var n=e.length/4;t||(t=new Int32Array(n));for(var r=0,o=0;r<n;++r,o+=4)t[r]=e[o]<<24^e[o+1]<<16^e[o+2]<<8^e[o+3]<<0;return t}function m(e,t){var n=e.length;t||(t=new Uint8Array(4*n));for(var r=s(t),o=0;o<n;++o)r.setInt32(4*o,e[o]);return l(t)}function y(e,t){var n=e.length;t||(t=new Float32Array(n/4));for(var r=s(t),o=s(e),a=0,i=0,l=n/4;a<l;++a,i+=4)r.setFloat32(i,o.getFloat32(i),!0);return t}function g(e,t,n){var r=e.length,o=1/t;n||(n=new Float32Array(r));for(var a=0;a<r;++a)n[a]=e[a]*o;return n}function v(e,t,n){var r=e.length;n||(n=new Int32Array(r));for(var o=0;o<r;++o)n[o]=Math.round(e[o]*t);return n}function b(e,t){var n,r;if(!t){var o=0;for(n=0,r=e.length;n<r;n+=2)o+=e[n+1];t=new e.constructor(o)}var a=0;for(n=0,r=e.length;n<r;n+=2)for(var i=e[n],s=e[n+1],l=0;l<s;++l)t[a]=i,++a;return t}function w(e){if(0===e.length)return new Int32Array;var t,n,r=2;for(t=1,n=e.length;t<n;++t)e[t-1]!==e[t]&&(r+=2);var o=new Int32Array(r),a=0,i=1;for(t=1,n=e.length;t<n;++t)e[t-1]!==e[t]?(o[a]=e[t-1],o[a+1]=i,i=1,a+=2):++i;return o[a]=e[e.length-1],o[a+1]=i,o}function C(e,t){var n=e.length;t||(t=new e.constructor(n)),n&&(t[0]=e[0]);for(var r=1;r<n;++r)t[r]=e[r]+t[r-1];return t}function T(e,t){var n=e.length;t||(t=new e.constructor(n)),t[0]=e[0];for(var r=1;r<n;++r)t[r]=e[r]-e[r-1];return t}function S(e,t){var n,r,o=e instanceof Int8Array?127:32767,a=-o-1,i=e.length;if(!t){var s=0;for(n=0;n<i;++n)e[n]<o&&e[n]>a&&++s;t=new Int32Array(s)}for(n=0,r=0;n<i;){for(var l=0;e[n]===o||e[n]===a;)l+=e[n],++n;l+=e[n],++n,t[r]=l,++r}return t}function x(e,t){var n,r=t?127:32767,o=-r-1,a=e.length,i=0;for(n=0;n<a;++n){var s=e[n];0===s?++i:i+=s===r||s===o?2:s>0?Math.ceil(s/r):Math.ceil(s/o)}var l=t?new Int8Array(i):new Int16Array(i),c=0;for(n=0;n<a;++n){var s=e[n];if(s>=0)for(;s>=r;)l[c]=r,++c,s-=r;else for(;s<=o;)l[c]=o,++c,s-=o;l[c]=s,++c}return l}function A(e,t){return C(b(e),t)}function k(e){return w(T(e))}function E(e,t,n){return g(b(e,u(n)),t,n)}function M(e,t){return w(v(e,t))}function _(e,t,n){return g(C(e,u(n)),t,n)}function P(e,t,n){return T(v(e,t),n)}function O(e,t,n){return g(S(e,u(n)),t,n)}function I(e,t,n){var r=S(e,u(n));return _(r,t,p(r))}function R(e,t,n){return x(P(e,t),n)}function L(e){var t=s(e),n=t.getInt32(0),r=t.getInt32(4),o=e.subarray(8,12),e=e.subarray(12);return[n,e,r,o]}function j(e,t,n,r){var o=new ArrayBuffer(12+r.byteLength),a=new Uint8Array(o),i=new DataView(o);return i.setInt32(0,e),i.setInt32(4,t),n&&a.set(n,8),a.set(r,12),a}function D(e){var t=e.length,n=l(e);return j(2,t,void 0,n)}function N(e){var t=e.length,n=m(e);return j(4,t,void 0,n)}function G(e,t){var n=e.length/t,r=m([t]),o=l(e);return j(5,n,r,o)}function F(e){var t=e.length,n=m(w(e));return j(6,t,void 0,n)}function q(e){var t=e.length,n=m(k(e));return j(8,t,void 0,n)}function B(e,t){var n=e.length,r=m([t]),o=m(M(e,t));return j(9,n,r,o)}function z(e,t){var n=e.length,r=m([t]),o=d(R(e,t));return j(10,n,r,o)}function H(e){var t={};return ee.forEach(function(n){void 0!==e[n]&&(t[n]=e[n])}),e.bondAtomList&&(t.bondAtomList=N(e.bondAtomList)),e.bondOrderList&&(t.bondOrderList=D(e.bondOrderList)),t.xCoordList=z(e.xCoordList,1e3),t.yCoordList=z(e.yCoordList,1e3),t.zCoordList=z(e.zCoordList,1e3),e.bFactorList&&(t.bFactorList=z(e.bFactorList,100)),e.atomIdList&&(t.atomIdList=q(e.atomIdList)),e.altLocList&&(t.altLocList=F(e.altLocList)),e.occupancyList&&(t.occupancyList=B(e.occupancyList,100)),t.groupIdList=q(e.groupIdList),t.groupTypeList=N(e.groupTypeList),e.secStructList&&(t.secStructList=D(e.secStructList,1)),e.insCodeList&&(t.insCodeList=F(e.insCodeList)),e.sequenceIndexList&&(t.sequenceIndexList=q(e.sequenceIndexList)),t.chainIdList=G(e.chainIdList,4),e.chainNameList&&(t.chainNameList=G(e.chainNameList,4)),t}function U(e){function t(e){for(var t={},n=0;n<e;n++){var r=a();t[r]=a()}return t}function n(t){var n=e.subarray(i,i+t);return i+=t,n}function r(t){var n=e.subarray(i,i+t);i+=t;var r=65535;if(t>r){for(var o=[],a=0;a<n.length;a+=r)o.push(String.fromCharCode.apply(null,n.subarray(a,a+r)));return o.join("")}return String.fromCharCode.apply(null,n)}function o(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=a();return t}function a(){var a,l,c=e[i];if(0===(128&c))return i++,c;if(128===(240&c))return l=15&c,i++,t(l);if(144===(240&c))return l=15&c,i++,o(l);if(160===(224&c))return l=31&c,i++,r(l);if(224===(224&c))return a=s.getInt8(i),i++,a;switch(c){case 192:return i++,null;case 194:return i++,!1;case 195:return i++,!0;case 196:return l=s.getUint8(i+1),i+=2,n(l);case 197:return l=s.getUint16(i+1),i+=3,n(l);case 198:return l=s.getUint32(i+1),i+=5,n(l);case 202:return a=s.getFloat32(i+1),i+=5,a;case 203:return a=s.getFloat64(i+1),i+=9,a;case 204:return a=e[i+1],i+=2,a;case 205:return a=s.getUint16(i+1),i+=3,a;case 206:return a=s.getUint32(i+1),i+=5,a;case 208:return a=s.getInt8(i+1),i+=2,a;case 209:return a=s.getInt16(i+1),i+=3,a;case 210:return a=s.getInt32(i+1),i+=5,a;case 217:return l=s.getUint8(i+1),i+=2,r(l);case 218:return l=s.getUint16(i+1),i+=3,r(l);case 219:return l=s.getUint32(i+1),i+=5,r(l);case 220:return l=s.getUint16(i+1),i+=3,o(l);case 221:return l=s.getUint32(i+1),i+=5,o(l);case 222:return l=s.getUint16(i+1),i+=3,t(l);case 223:return l=s.getUint32(i+1),i+=5,t(l)}throw new Error("Unknown type 0x"+c.toString(16))}var i=0,s=new DataView(e.buffer);return a()}function V(e,t,n,r){switch(e){case 1:return y(t);case 2:return c(t);case 3:return f(t);case 4:return h(t);case 5:return l(t);case 6:return b(h(t),new Uint8Array(n));case 7:return b(h(t));case 8:return A(h(t));case 9:return E(h(t),h(r)[0]);case 10:return I(f(t),h(r)[0]);case 11:return g(f(t),h(r)[0]);case 12:return O(f(t),h(r)[0]);case 13:return O(c(t),h(r)[0]);case 14:return S(f(t));case 15:return S(c(t))}}function K(e,t){t=t||{};var n=t.ignoreFields,r={};return ne.forEach(function(t){var o=!!n&&n.indexOf(t)!==-1,a=e[t];o||void 0===a||(a instanceof Uint8Array?r[t]=V.apply(null,L(a)):r[t]=a)}),r}function W(e){return String.fromCharCode.apply(null,e).replace(/\0/g,"");
}function $(e,t,n){n=n||{};var r,o,a,i,s,l,c=n.firstModelOnly,u=t.onModel,p=t.onChain,f=t.onGroup,d=t.onAtom,h=t.onBond,m=0,y=0,g=0,v=0,b=0,w=-1,C=e.chainNameList,T=e.secStructList,S=e.insCodeList,x=e.sequenceIndexList,A=e.atomIdList,k=e.bFactorList,E=e.altLocList,M=e.occupancyList,_=e.bondAtomList,P=e.bondOrderList;for(r=0,o=e.chainsPerModel.length;r<o&&!(c&&m>0);++r){var O=e.chainsPerModel[m];for(u&&u({chainCount:O,modelIndex:m}),a=0;a<O;++a){var I=e.groupsPerChain[y];if(p){var R=W(e.chainIdList.subarray(4*y,4*y+4)),L=null;C&&(L=W(C.subarray(4*y,4*y+4))),p({groupCount:I,chainIndex:y,modelIndex:m,chainId:R,chainName:L})}for(i=0;i<I;++i){var j=e.groupList[e.groupTypeList[g]],D=j.atomNameList.length;if(f){var N=null;T&&(N=T[g]);var G=null;e.insCodeList&&(G=String.fromCharCode(S[g]));var F=null;x&&(F=x[g]),f({atomCount:D,groupIndex:g,chainIndex:y,modelIndex:m,groupId:e.groupIdList[g],groupType:e.groupTypeList[g],groupName:j.groupName,singleLetterCode:j.singleLetterCode,chemCompType:j.chemCompType,secStruct:N,insCode:G,sequenceIndex:F})}for(s=0;s<D;++s){if(d){var q=null;A&&(q=A[v]);var B=null;k&&(B=k[v]);var z=null;E&&(z=String.fromCharCode(E[v]));var H=null;M&&(H=M[v]),d({atomIndex:v,groupIndex:g,chainIndex:y,modelIndex:m,atomId:q,element:j.elementList[s],atomName:j.atomNameList[s],formalCharge:j.formalChargeList[s],xCoord:e.xCoordList[v],yCoord:e.yCoordList[v],zCoord:e.zCoordList[v],bFactor:B,altLoc:z,occupancy:H})}v+=1}if(h){var U=j.bondAtomList;for(s=0,l=j.bondOrderList.length;s<l;++s)h({atomIndex1:v-D+U[2*s],atomIndex2:v-D+U[2*s+1],bondOrder:j.bondOrderList[s]})}g+=1}y+=1}if(b=w+1,w=v-1,h&&_)for(s=0,l=_.length;s<l;s+=2){var V=_[s],K=_[s+1];(V>=b&&V<=w||K>=b&&K<=w)&&h({atomIndex1:V,atomIndex2:K,bondOrder:P?P[s/2]:null})}m+=1}}function Y(e){return a(H(e))}function Q(e,t){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var n;return n=e instanceof Uint8Array?U(e):e,K(n,t)}function X(e,t,n,r){function o(){try{var e=Q(a.response);n(e)}catch(e){r(e)}}var a=new XMLHttpRequest;a.addEventListener("load",o,!0),a.addEventListener("error",r,!0),a.responseType="arraybuffer",a.open("GET",t+e.toUpperCase()),a.send()}function Z(e,t,n){X(e,ae,t,n)}function J(e,t,n){X(e,ie,t,n)}var ee=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","ncsOperatorList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel"],te=["xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"],ne=ee.concat(te),re="v1.0.0",oe="http://mmtf.rcsb.org/v1.0/",ae=oe+"full/",ie=oe+"reduced/";e.encode=Y,e.decode=Q,e.traverse=$,e.fetch=Z,e.fetchReduced=J,e.version=re,e.fetchUrl=ae,e.fetchReducedUrl=ie,e.encodeMsgpack=a,e.encodeMmtf=H,e.decodeMsgpack=U,e.decodeMmtf=K,Object.defineProperty(e,"__esModule",{value:!0})}),function(n){if("object"==typeof t&&"undefined"!=typeof e)e.exports=n();else if("function"==typeof define&&define.amd)define("pako",[],n);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.pako=n()}}(function(){return function e(t,n,r){function o(i,s){if(!n[i]){if(!t[i]){var l="function"==typeof require&&require;if(!s&&l)return l(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[i]={exports:{}};t[i][0].call(u.exports,function(e){var n=t[i][1][e];return o(n?n:e)},u,u.exports,e,t,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,o){if(t.subarray&&e.subarray)return void e.set(t.subarray(n,n+r),o);for(var a=0;a<r;a++)e[o+a]=t[n+a]},flattenChunks:function(e){var t,n,r,o,a,i;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(i=new Uint8Array(r),o=0,t=0,n=e.length;t<n;t++)a=e[t],i.set(a,o),o+=a.length;return i}},a={arraySet:function(e,t,n,r,o){for(var a=0;a<r;a++)e[o+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],2:[function(e,t,n){"use strict";function r(e,t){if(t<65537&&(e.subarray&&i||!e.subarray&&a))return String.fromCharCode.apply(null,o.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}var o=e("./common"),a=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(e){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){i=!1}for(var s=new o.Buf8(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;s[254]=s[254]=1,n.string2buf=function(e){var t,n,r,a,i,s=e.length,l=0;for(a=0;a<s;a++)n=e.charCodeAt(a),55296===(64512&n)&&a+1<s&&(r=e.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new o.Buf8(l),i=0,a=0;i<l;a++)n=e.charCodeAt(a),55296===(64512&n)&&a+1<s&&(r=e.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t},n.buf2binstring=function(e){return r(e,e.length)},n.binstring2buf=function(e){for(var t=new o.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,o,a,i,l=t||e.length,c=new Array(2*l);for(o=0,n=0;n<l;)if(a=e[n++],a<128)c[o++]=a;else if(i=s[a],i>4)c[o++]=65533,n+=i-1;else{for(a&=2===i?31:3===i?15:7;i>1&&n<l;)a=a<<6|63&e[n++],i--;i>1?c[o++]=65533:a<65536?c[o++]=a:(a-=65536,c[o++]=55296|a>>10&1023,c[o++]=56320|1023&a)}return r(c,o)},n.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0?t:0===n?t:n+s[e[n]]>t?n:t}},{"./common":1}],3:[function(e,t,n){"use strict";function r(e,t,n,r){for(var o=65535&e|0,a=e>>>16&65535|0,i=0;0!==n;){i=n>2e3?2e3:n,n-=i;do o=o+t[r++]|0,a=a+o|0;while(--i);o%=65521,a%=65521}return o|a<<16|0}t.exports=r},{}],4:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],5:[function(e,t,n){"use strict";function r(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}function o(e,t,n,r){var o=a,i=r+n;e^=-1;for(var s=r;s<i;s++)e=e>>>8^o[255&(e^t[s])];return e^-1}var a=r();t.exports=o},{}],6:[function(e,t,n){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=r},{}],7:[function(e,t,n){"use strict";var r=30,o=12;t.exports=function(e,t){var n,a,i,s,l,c,u,p,f,d,h,m,y,g,v,b,w,C,T,S,x,A,k,E,M;n=e.state,a=e.next_in,E=e.input,i=a+(e.avail_in-5),s=e.next_out,M=e.output,l=s-(t-e.avail_out),c=s+(e.avail_out-257),u=n.dmax,p=n.wsize,f=n.whave,d=n.wnext,h=n.window,m=n.hold,y=n.bits,g=n.lencode,v=n.distcode,b=(1<<n.lenbits)-1,w=(1<<n.distbits)-1;e:do{y<15&&(m+=E[a++]<<y,y+=8,m+=E[a++]<<y,y+=8),C=g[m&b];t:for(;;){if(T=C>>>24,m>>>=T,y-=T,T=C>>>16&255,0===T)M[s++]=65535&C;else{if(!(16&T)){if(0===(64&T)){C=g[(65535&C)+(m&(1<<T)-1)];continue t}if(32&T){n.mode=o;break e}e.msg="invalid literal/length code",n.mode=r;break e}S=65535&C,T&=15,T&&(y<T&&(m+=E[a++]<<y,y+=8),S+=m&(1<<T)-1,m>>>=T,y-=T),y<15&&(m+=E[a++]<<y,y+=8,m+=E[a++]<<y,y+=8),C=v[m&w];n:for(;;){if(T=C>>>24,m>>>=T,y-=T,T=C>>>16&255,!(16&T)){if(0===(64&T)){C=v[(65535&C)+(m&(1<<T)-1)];continue n}e.msg="invalid distance code",n.mode=r;break e}if(x=65535&C,T&=15,y<T&&(m+=E[a++]<<y,y+=8,y<T&&(m+=E[a++]<<y,y+=8)),x+=m&(1<<T)-1,x>u){e.msg="invalid distance too far back",n.mode=r;break e}if(m>>>=T,y-=T,T=s-l,x>T){if(T=x-T,T>f&&n.sane){e.msg="invalid distance too far back",n.mode=r;break e}if(A=0,k=h,0===d){if(A+=p-T,T<S){S-=T;do M[s++]=h[A++];while(--T);A=s-x,k=M}}else if(d<T){if(A+=p+d-T,T-=d,T<S){S-=T;do M[s++]=h[A++];while(--T);if(A=0,d<S){T=d,S-=T;do M[s++]=h[A++];while(--T);A=s-x,k=M}}}else if(A+=d-T,T<S){S-=T;do M[s++]=h[A++];while(--T);A=s-x,k=M}for(;S>2;)M[s++]=k[A++],M[s++]=k[A++],M[s++]=k[A++],S-=3;S&&(M[s++]=k[A++],S>1&&(M[s++]=k[A++]))}else{A=s-x;do M[s++]=M[A++],M[s++]=M[A++],M[s++]=M[A++],S-=3;while(S>2);S&&(M[s++]=M[A++],S>1&&(M[s++]=M[A++]))}break}}break}}while(a<i&&s<c);S=y>>3,a-=S,y-=S<<3,m&=(1<<y)-1,e.next_in=a,e.next_out=s,e.avail_in=a<i?5+(i-a):5-(a-i),e.avail_out=s<c?257+(c-s):257-(s-c),n.hold=m,n.bits=y}},{}],8:[function(e,t,n){"use strict";function r(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function o(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new g.Buf16(320),this.work=new g.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=D,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new g.Buf32(he),t.distcode=t.distdyn=new g.Buf32(me),t.sane=1,t.back=-1,M):O}function i(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,a(e)):O}function s(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15)?O:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,i(e))):O}function l(e,t){var n,r;return e?(r=new o,e.state=r,r.window=null,n=s(e,t),n!==M&&(e.state=null),n):O}function c(e){return l(e,ge)}function u(e){if(ve){var t;for(m=new g.Buf32(512),y=new g.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(C(S,e.lens,0,288,m,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;C(x,e.lens,0,32,y,0,e.work,{bits:5}),ve=!1}e.lencode=m,e.lenbits=9,e.distcode=y,e.distbits=5}function p(e,t,n,r){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new g.Buf8(a.wsize)),r>=a.wsize?(g.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(o=a.wsize-a.wnext,o>r&&(o=r),g.arraySet(a.window,t,n-r,o,a.wnext),r-=o,r?(g.arraySet(a.window,t,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}function f(e,t){var n,o,a,i,s,l,c,f,d,h,m,y,he,me,ye,ge,ve,be,we,Ce,Te,Se,xe,Ae,ke=0,Ee=new g.Buf8(4),Me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return O;n=e.state,n.mode===W&&(n.mode=$),s=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,o=e.input,l=e.avail_in,f=n.hold,d=n.bits,h=l,m=c,Se=M;e:for(;;)switch(n.mode){case D:if(0===n.wrap){n.mode=$;break}for(;d<16;){if(0===l)break e;l--,f+=o[i++]<<d,d+=8}if(2&n.wrap&&35615===f){n.check=0,Ee[0]=255&f,Ee[1]=f>>>8&255,n.check=b(n.check,Ee,2,0),f=0,d=0,n.mode=N;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&f)<<8)+(f>>8))%31){e.msg="incorrect header check",n.mode=pe;break}if((15&f)!==j){e.msg="unknown compression method",n.mode=pe;break}if(f>>>=4,d-=4,Te=(15&f)+8,0===n.wbits)n.wbits=Te;else if(Te>n.wbits){e.msg="invalid window size",n.mode=pe;break}n.dmax=1<<Te,e.adler=n.check=1,n.mode=512&f?V:W,f=0,d=0;break;case N:for(;d<16;){if(0===l)break e;l--,f+=o[i++]<<d,d+=8}if(n.flags=f,(255&n.flags)!==j){e.msg="unknown compression method",n.mode=pe;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=pe;break}n.head&&(n.head.text=f>>8&1),512&n.flags&&(Ee[0]=255&f,Ee[1]=f>>>8&255,n.check=b(n.check,Ee,2,0)),f=0,d=0,n.mode=G;case G:for(;d<32;){if(0===l)break e;l--,f+=o[i++]<<d,d+=8}n.head&&(n.head.time=f),512&n.flags&&(Ee[0]=255&f,Ee[1]=f>>>8&255,Ee[2]=f>>>16&255,Ee[3]=f>>>24&255,n.check=b(n.check,Ee,4,0)),f=0,d=0,n.mode=F;case F:for(;d<16;){if(0===l)break e;l--,f+=o[i++]<<d,d+=8}n.head&&(n.head.xflags=255&f,n.head.os=f>>8),512&n.flags&&(Ee[0]=255&f,Ee[1]=f>>>8&255,n.check=b(n.check,Ee,2,0)),f=0,d=0,n.mode=q;case q:if(1024&n.flags){for(;d<16;){if(0===l)break e;l--,f+=o[i++]<<d,d+=8}n.length=f,n.head&&(n.head.extra_len=f),512&n.flags&&(Ee[0]=255&f,Ee[1]=f>>>8&255,n.check=b(n.check,Ee,2,0)),f=0,d=0}else n.head&&(n.head.extra=null);n.mode=B;case B:if(1024&n.flags&&(y=n.length,y>l&&(y=l),y&&(n.head&&(Te=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),g.arraySet(n.head.extra,o,i,y,Te)),512&n.flags&&(n.check=b(n.check,o,y,i)),l-=y,i+=y,n.length-=y),n.length))break e;n.length=0,n.mode=z;case z:if(2048&n.flags){if(0===l)break e;y=0;do Te=o[i+y++],n.head&&Te&&n.length<65536&&(n.head.name+=String.fromCharCode(Te));while(Te&&y<l);if(512&n.flags&&(n.check=b(n.check,o,y,i)),l-=y,i+=y,Te)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=H;case H:if(4096&n.flags){if(0===l)break e;y=0;do Te=o[i+y++],n.head&&Te&&n.length<65536&&(n.head.comment+=String.fromCharCode(Te));while(Te&&y<l);if(512&n.flags&&(n.check=b(n.check,o,y,i)),l-=y,i+=y,Te)break e}else n.head&&(n.head.comment=null);n.mode=U;case U:if(512&n.flags){for(;d<16;){if(0===l)break e;l--,f+=o[i++]<<d,d+=8}if(f!==(65535&n.check)){e.msg="header crc mismatch",n.mode=pe;break}f=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=W;break;case V:for(;d<32;){if(0===l)break e;l--,f+=o[i++]<<d,d+=8}e.adler=n.check=r(f),f=0,d=0,n.mode=K;case K:if(0===n.havedict)return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=l,n.hold=f,n.bits=d,P;e.adler=n.check=1,n.mode=W;case W:if(t===k||t===E)break e;case $:if(n.last){f>>>=7&d,d-=7&d,n.mode=le;break}for(;d<3;){if(0===l)break e;l--,f+=o[i++]<<d,d+=8}switch(n.last=1&f,f>>>=1,d-=1,3&f){case 0:n.mode=Y;break;case 1:if(u(n),n.mode=te,t===E){f>>>=2,d-=2;break e}break;case 2:n.mode=Z;break;case 3:e.msg="invalid block type",n.mode=pe}f>>>=2,d-=2;break;case Y:for(f>>>=7&d,d-=7&d;d<32;){if(0===l)break e;l--,f+=o[i++]<<d,d+=8}if((65535&f)!==(f>>>16^65535)){e.msg="invalid stored block lengths",n.mode=pe;break}if(n.length=65535&f,f=0,d=0,n.mode=Q,t===E)break e;case Q:n.mode=X;case X:if(y=n.length){if(y>l&&(y=l),y>c&&(y=c),0===y)break e;g.arraySet(a,o,i,y,s),l-=y,i+=y,c-=y,s+=y,n.length-=y;break}n.mode=W;break;case Z:for(;d<14;){if(0===l)break e;l--,f+=o[i++]<<d,d+=8}if(n.nlen=(31&f)+257,f>>>=5,d-=5,n.ndist=(31&f)+1,f>>>=5,d-=5,n.ncode=(15&f)+4,f>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=pe;break}n.have=0,n.mode=J;case J:for(;n.have<n.ncode;){for(;d<3;){if(0===l)break e;l--,f+=o[i++]<<d,d+=8}n.lens[Me[n.have++]]=7&f,f>>>=3,d-=3}for(;n.have<19;)n.lens[Me[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,xe={bits:n.lenbits},Se=C(T,n.lens,0,19,n.lencode,0,n.work,xe),n.lenbits=xe.bits,Se){e.msg="invalid code lengths set",n.mode=pe;break}n.have=0,n.mode=ee;case ee:for(;n.have<n.nlen+n.ndist;){for(;ke=n.lencode[f&(1<<n.lenbits)-1],ye=ke>>>24,ge=ke>>>16&255,ve=65535&ke,!(ye<=d);){if(0===l)break e;l--,f+=o[i++]<<d,d+=8}if(ve<16)f>>>=ye,d-=ye,n.lens[n.have++]=ve;else{if(16===ve){for(Ae=ye+2;d<Ae;){if(0===l)break e;l--,f+=o[i++]<<d,d+=8}if(f>>>=ye,d-=ye,0===n.have){e.msg="invalid bit length repeat",n.mode=pe;break}Te=n.lens[n.have-1],y=3+(3&f),f>>>=2,d-=2}else if(17===ve){for(Ae=ye+3;d<Ae;){if(0===l)break e;l--,f+=o[i++]<<d,d+=8}f>>>=ye,d-=ye,Te=0,y=3+(7&f),f>>>=3,d-=3}else{for(Ae=ye+7;d<Ae;){if(0===l)break e;l--,f+=o[i++]<<d,d+=8}f>>>=ye,d-=ye,Te=0,y=11+(127&f),f>>>=7,d-=7}if(n.have+y>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=pe;break}for(;y--;)n.lens[n.have++]=Te}}if(n.mode===pe)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=pe;break}if(n.lenbits=9,xe={bits:n.lenbits},Se=C(S,n.lens,0,n.nlen,n.lencode,0,n.work,xe),n.lenbits=xe.bits,Se){e.msg="invalid literal/lengths set",n.mode=pe;break}if(n.distbits=6,n.distcode=n.distdyn,xe={bits:n.distbits},Se=C(x,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,xe),n.distbits=xe.bits,Se){e.msg="invalid distances set",n.mode=pe;break}if(n.mode=te,t===E)break e;case te:n.mode=ne;case ne:if(l>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=l,n.hold=f,n.bits=d,w(e,m),s=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,o=e.input,l=e.avail_in,f=n.hold,d=n.bits,n.mode===W&&(n.back=-1);break}for(n.back=0;ke=n.lencode[f&(1<<n.lenbits)-1],ye=ke>>>24,ge=ke>>>16&255,ve=65535&ke,!(ye<=d);){if(0===l)break e;l--,f+=o[i++]<<d,d+=8}if(ge&&0===(240&ge)){for(be=ye,we=ge,Ce=ve;ke=n.lencode[Ce+((f&(1<<be+we)-1)>>be)],ye=ke>>>24,ge=ke>>>16&255,ve=65535&ke,!(be+ye<=d);){if(0===l)break e;l--,f+=o[i++]<<d,d+=8}f>>>=be,d-=be,n.back+=be}if(f>>>=ye,d-=ye,n.back+=ye,n.length=ve,0===ge){n.mode=se;break}if(32&ge){n.back=-1,n.mode=W;break}if(64&ge){e.msg="invalid literal/length code",n.mode=pe;break}n.extra=15&ge,n.mode=re;case re:if(n.extra){for(Ae=n.extra;d<Ae;){if(0===l)break e;l--,f+=o[i++]<<d,d+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=oe;case oe:for(;ke=n.distcode[f&(1<<n.distbits)-1],ye=ke>>>24,ge=ke>>>16&255,ve=65535&ke,!(ye<=d);){if(0===l)break e;l--,f+=o[i++]<<d,d+=8}if(0===(240&ge)){for(be=ye,we=ge,Ce=ve;ke=n.distcode[Ce+((f&(1<<be+we)-1)>>be)],ye=ke>>>24,ge=ke>>>16&255,ve=65535&ke,!(be+ye<=d);){if(0===l)break e;l--,f+=o[i++]<<d,d+=8}f>>>=be,d-=be,n.back+=be}if(f>>>=ye,d-=ye,n.back+=ye,64&ge){e.msg="invalid distance code",n.mode=pe;break}n.offset=ve,n.extra=15&ge,n.mode=ae;case ae:if(n.extra){for(Ae=n.extra;d<Ae;){if(0===l)break e;l--,f+=o[i++]<<d,d+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=pe;break}n.mode=ie;case ie:if(0===c)break e;if(y=m-c,n.offset>y){if(y=n.offset-y,y>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=pe;break}y>n.wnext?(y-=n.wnext,he=n.wsize-y):he=n.wnext-y,y>n.length&&(y=n.length),me=n.window}else me=a,he=s-n.offset,y=n.length;y>c&&(y=c),c-=y,n.length-=y;do a[s++]=me[he++];while(--y);0===n.length&&(n.mode=ne);break;case se:if(0===c)break e;a[s++]=n.length,c--,n.mode=ne;break;case le:if(n.wrap){for(;d<32;){if(0===l)break e;l--,f|=o[i++]<<d,d+=8}if(m-=c,e.total_out+=m,n.total+=m,m&&(e.adler=n.check=n.flags?b(n.check,a,m,s-m):v(n.check,a,m,s-m)),m=c,(n.flags?f:r(f))!==n.check){e.msg="incorrect data check",n.mode=pe;break}f=0,d=0}n.mode=ce;case ce:if(n.wrap&&n.flags){for(;d<32;){if(0===l)break e;l--,f+=o[i++]<<d,d+=8}if(f!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=pe;break}f=0,d=0}n.mode=ue;case ue:Se=_;break e;case pe:Se=I;break e;case fe:return R;case de:default:return O}return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=l,n.hold=f,n.bits=d,(n.wsize||m!==e.avail_out&&n.mode<pe&&(n.mode<le||t!==A))&&p(e,e.output,e.next_out,m-e.avail_out)?(n.mode=fe,R):(h-=e.avail_in,m-=e.avail_out,e.total_in+=h,e.total_out+=m,n.total+=m,n.wrap&&m&&(e.adler=n.check=n.flags?b(n.check,a,m,e.next_out-m):v(n.check,a,m,e.next_out-m)),e.data_type=n.bits+(n.last?64:0)+(n.mode===W?128:0)+(n.mode===te||n.mode===Q?256:0),(0===h&&0===m||t===A)&&Se===M&&(Se=L),Se)}function d(e){if(!e||!e.state)return O;var t=e.state;return t.window&&(t.window=null),e.state=null,M}function h(e,t){var n;return e&&e.state?(n=e.state,0===(2&n.wrap)?O:(n.head=t,t.done=!1,M)):O}var m,y,g=e("../utils/common"),v=e("./adler32"),b=e("./crc32"),w=e("./inffast"),C=e("./inftrees"),T=0,S=1,x=2,A=4,k=5,E=6,M=0,_=1,P=2,O=-2,I=-3,R=-4,L=-5,j=8,D=1,N=2,G=3,F=4,q=5,B=6,z=7,H=8,U=9,V=10,K=11,W=12,$=13,Y=14,Q=15,X=16,Z=17,J=18,ee=19,te=20,ne=21,re=22,oe=23,ae=24,ie=25,se=26,le=27,ce=28,ue=29,pe=30,fe=31,de=32,he=852,me=592,ye=15,ge=ye,ve=!0;n.inflateReset=i,n.inflateReset2=s,n.inflateResetKeep=a,n.inflateInit=c,n.inflateInit2=l,n.inflate=f,n.inflateEnd=d,n.inflateGetHeader=h,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(e,t,n){"use strict";var r=e("../utils/common"),o=15,a=852,i=592,s=0,l=1,c=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,h,m,y,g,v){var b,w,C,T,S,x,A,k,E,M=v.bits,_=0,P=0,O=0,I=0,R=0,L=0,j=0,D=0,N=0,G=0,F=null,q=0,B=new r.Buf16(o+1),z=new r.Buf16(o+1),H=null,U=0;for(_=0;_<=o;_++)B[_]=0;for(P=0;P<h;P++)B[t[n+P]]++;for(R=M,I=o;I>=1&&0===B[I];I--);if(R>I&&(R=I),0===I)return m[y++]=20971520,m[y++]=20971520,v.bits=1,0;for(O=1;O<I&&0===B[O];O++);for(R<O&&(R=O),D=1,_=1;_<=o;_++)if(D<<=1,D-=B[_],D<0)return-1;if(D>0&&(e===s||1!==I))return-1;for(z[1]=0,_=1;_<o;_++)z[_+1]=z[_]+B[_];for(P=0;P<h;P++)0!==t[n+P]&&(g[z[t[n+P]]++]=P);if(e===s?(F=H=g,x=19):e===l?(F=u,q-=257,H=p,U-=257,x=256):(F=f,H=d,x=-1),G=0,P=0,_=O,S=y,L=R,j=0,C=-1,N=1<<R,T=N-1,e===l&&N>a||e===c&&N>i)return 1;for(var V=0;;){V++,A=_-j,g[P]<x?(k=0,E=g[P]):g[P]>x?(k=H[U+g[P]],E=F[q+g[P]]):(k=96,E=0),b=1<<_-j,w=1<<L,O=w;do w-=b,m[S+(G>>j)+w]=A<<24|k<<16|E|0;while(0!==w);for(b=1<<_-1;G&b;)b>>=1;if(0!==b?(G&=b-1,G+=b):G=0,P++,0===--B[_]){if(_===I)break;_=t[n+g[P]]}if(_>R&&(G&T)!==C){for(0===j&&(j=R),S+=O,L=_-j,D=1<<L;L+j<I&&(D-=B[L+j],!(D<=0));)L++,D<<=1;if(N+=1<<L,e===l&&N>a||e===c&&N>i)return 1;C=G&T,m[C]=R<<24|L<<16|S-y|0}}return 0!==G&&(m[S+G]=_-j<<24|64<<16|0),v.bits=R,0}},{"../utils/common":1}],10:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(e,t,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},{}],"/lib/inflate.js":[function(e,t,n){"use strict";function r(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function o(e,t){return t=t||{},t.raw=!0,r(e,t)}var a=e("./zlib/inflate.js"),i=e("./utils/common"),s=e("./utils/strings"),l=e("./zlib/constants"),c=e("./zlib/messages"),u=e("./zlib/zstream"),p=e("./zlib/gzheader"),f=Object.prototype.toString,d=function(e){this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=a.inflateInit2(this.strm,t.windowBits);if(n!==l.Z_OK)throw new Error(c[n]);this.header=new p,a.inflateGetHeader(this.strm,this.header)};d.prototype.push=function(e,t){var n,r,o,c,u,p=this.strm,d=this.options.chunkSize;if(this.ended)return!1;r=t===~~t?t:t===!0?l.Z_FINISH:l.Z_NO_FLUSH,"string"==typeof e?p.input=s.binstring2buf(e):"[object ArrayBuffer]"===f.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new i.Buf8(d),p.next_out=0,p.avail_out=d),n=a.inflate(p,l.Z_NO_FLUSH),n!==l.Z_STREAM_END&&n!==l.Z_OK)return this.onEnd(n),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&n!==l.Z_STREAM_END&&(0!==p.avail_in||r!==l.Z_FINISH&&r!==l.Z_SYNC_FLUSH)||("string"===this.options.to?(o=s.utf8border(p.output,p.next_out),c=p.next_out-o,u=s.buf2string(p.output,o),p.next_out=c,p.avail_out=d-c,c&&i.arraySet(p.output,p.output,o,c,0),this.onData(u)):this.onData(i.shrinkBuf(p.output,p.next_out))))}while(p.avail_in>0&&n!==l.Z_STREAM_END);return n===l.Z_STREAM_END&&(r=l.Z_FINISH),r===l.Z_FINISH?(n=a.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l.Z_OK):r!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),p.avail_out=0,!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===l.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=r,n.inflateRaw=o,n.ungzip=r},{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate.js":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js")}),n=function(e){var t=e.$3Dmol||{};return t}(window),"object"==typeof e&&"object"==typeof e.exports&&(e.exports=n),$.get("https://3dmol.csb.pitt.edu/track/report.cgi"),String.prototype.startsWith||(String.prototype.startsWith=function(e){return 0===this.lastIndexOf(e,0)}),String.prototype.endsWith||(String.prototype.endsWith=function(e){return this.indexOf(e,this.length-e.length)!==-1}),$.ajaxTransport("+binary",function(e,t,n){if(window.FormData&&(e.dataType&&"binary"==e.dataType||e.data&&(window.ArrayBuffer&&e.data instanceof ArrayBuffer||window.Blob&&e.data instanceof Blob)))return{send:function(t,n){var r=new XMLHttpRequest,o=e.url,a=e.type,i=e.async||!0,s=e.responseType||"blob",l=e.data||null,c=e.username||null,u=e.password||null;r.addEventListener("load",function(){var t={};t[e.dataType]=r.response,n(r.status,r.statusText,t,r.getAllResponseHeaders())}),r.open(a,o,i,c,u);for(var p in t)r.setRequestHeader(p,t[p]);r.responseType=s,r.send(l)},abort:function(){n.abort()}}}),n.createViewer=function(e,t){if("string"===$.type(e)&&(e=$("#"+e)),e){t=t||{};try{return new n.GLViewer(e,t)}catch(e){throw"error creating viewer: "+e}return null}},n.viewers={},n.getbin=function(e,t){$.ajax({url:e,type:"GET",dataType:"binary",responseType:"arraybuffer",processData:!1}).done(function(e,n,r){t(e)}).fail(function(e,t){console.log(t)})},n.download=function(e,t,r,o){var a="",i="",s="",l=t.addModel();if("mmtf:"===e.substr(0,5)){i=r&&r.pdbUri?r.pdbUri:"https://mmtf.rcsb.org/v1.0/full/",e=e.substr(5).toUpperCase();var c=i+e;r&&"undefined"==typeof r.noComputeSecondaryStructure&&(r.noComputeSecondaryStructure=!0),n.getbin(c,function(e){l.addMolData(e,"mmtf",r),t.zoomTo(),t.render(),o&&o(l)})}else{if("pdb:"===e.substr(0,4)){if(a="mmtf",r&&r.format&&(a=r.format),r&&"undefined"==typeof r.noComputeSecondaryStructure&&(r.noComputeSecondaryStructure=!0),e=e.substr(4).toUpperCase(),!e.match(/^[1-9][A-Za-z0-9]{3}$/))return void alert("Wrong PDB ID");"mmtf"==a?(s=r&&r.mmtfUri?r.mmtfUri:"https://mmtf.rcsb.org/v1.0/full/",c=s+e.toUpperCase()):(i=r&&r.pdbUri?r.pdbUri:"https://files.rcsb.org/view/",c=i+e+"."+a)}else if("cid:"==e.substr(0,4)){if(a="sdf",e=e.substr(4),!e.match(/^[0-9]+$/))return void alert("Wrong Compound ID");c="https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+e+"/SDF?record_type=3d"}else"url:"==e.substr(0,4)&&(c=e.substr(4),a=c);var u=function(e){l.addMolData(e,a,r),t.zoomTo(),t.render(),o&&o(l)};"mmtf"==a?n.getbin(c,u):$.get(c,u).fail(function(e){console.log("fetch of "+c+" failed: "+e.statusText)})}return l},n.SurfaceType={VDW:1,MS:2,SAS:3,SES:4},n.mergeGeos=function(e,t){var n=t.geometry;void 0!==n&&e.geometryGroups.push(n.geometryGroups[0])},n.multiLineString=function(e){return e.toString().replace(/^[^\/]+\/\*!?/,"").replace(/\*\/[^\/]+$/,"")},n.syncSurface=!1,(window.navigator.userAgent.indexOf("MSIE ")>=0||window.navigator.userAgent.indexOf("Trident/")>=0)&&(n.syncSurface=!0),n.specStringToObject=function(e){if("object"==typeof e)return e;if("undefined"==typeof e||null==e)return e;e=e.replace(/%7E/,"~");var t=function(e){return $.isNumeric(e)?Math.floor(parseFloat(e))==parseInt(e)?parseFloat(e):e.indexOf(".")>=0?parseFloat(e):parseInt(e):"true"===e||"false"!==e&&e},n={};if("all"===e)return n;for(var r=e.split(";"),o=0;o<r.length;o++){var a=r[o].split(":"),i=a[0],s={},l=a[1];if(l)if(l=l.replace(/~/g,"="),l.indexOf("=")!==-1)for(var c=l.split(","),u=0;u<c.length;u++){var p=c[u].split("=",2);s[p[0]]=t(p[1])}else s=l.indexOf(",")!==-1?l.split(","):t(l);n[i]=s}return n},n.getExtent=function(e,t){var n,r,o,a,i,s,l,c,u,p,f=!t;if(n=r=o=9999,a=i=s=-9999,l=c=u=p=0,0===e.length)return[[0,0,0],[0,0,0],[0,0,0]];for(var d=0;d<e.length;d++){var h=e[d];if("undefined"!=typeof h&&isFinite(h.x)&&isFinite(h.y)&&isFinite(h.z)&&(p++,l+=h.x,c+=h.y,u+=h.z,n=n<h.x?n:h.x,r=r<h.y?r:h.y,o=o<h.z?o:h.z,a=a>h.x?a:h.x,i=i>h.y?i:h.y,s=s>h.z?s:h.z,h.symmetries&&f))for(var m=0;m<h.symmetries.length;m++)p++,l+=h.symmetries[m].x,c+=h.symmetries[m].y,u+=h.symmetries[m].z,n=n<h.symmetries[m].x?n:h.symmetries[m].x,r=r<h.symmetries[m].y?r:h.symmetries[m].y,o=o<h.symmetries[m].z?o:h.symmetries[m].z,a=a>h.symmetries[m].x?a:h.symmetries[m].x,i=i>h.symmetries[m].y?i:h.symmetries[m].y,s=s>h.symmetries[m].z?s:h.symmetries[m].z}return[[n,r,o],[a,i,s],[l/p,c/p,u/p]]},n.getAtomProperty=function(e,t){var n=null;return e.properties&&"undefined"!=typeof e.properties[t]?n=e.properties[t]:"undefined"!=typeof e[t]&&(n=e[t]),n},n.getPropertyRange=function(e,t){for(var r=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,a=0,i=e.length;a<i;a++){var s=e[a],l=n.getAtomProperty(s,t);null!=l&&(l<r&&(r=l),l>o&&(o=l))}return isFinite(r)||isFinite(o)?isFinite(r)?isFinite(o)||(o=r):r=o:r=o=0,[r,o]},"function"==typeof define&&define.amd&&define("$3Dmol",n);var n=n||{};n.Math={clamp:function(e,t,n){return Math.min(Math.max(e,t),n)},degToRad:function(){var e=Math.PI/180;return function(t){return t*e}}()},n.Quaternion=function(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1},n.Quaternion.prototype={constructor:n.Quaternion,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},conjugate:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this},inverse:function(){return this.conjugate().normalize()},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},normalize:function(){var e=this.length();return 0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x*=e,this.y*=e,this.z*=e,this.w*=e),this},multiply:function(e){return this.multiplyQuaternions(this,e)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},multiplyQuaternions:function(e,t){var n=e.x,r=e.y,o=e.z,a=e.w,i=t.x,s=t.y,l=t.z,c=t.w;return this.x=n*c+a*i+r*l-o*s,this.y=r*c+a*s+o*i-n*l,this.z=o*c+a*l+n*s-r*i,this.w=a*c-n*i-r*s-o*l,this},sub:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this},clone:function(){return new n.Quaternion(this.x,this.y,this.z,this.w)}},n.Vector2=function(e,t){this.x=e||0,this.y=t||0},n.Vector2.prototype={constructor:n.Vector2,set:function(e,t){return this.x=e,this.y=t,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},copy:function(e){return this.x=e.x,this.y=e.y,this},clone:function(){return new n.Vector2(this.x,this.y);
}},n.Vector3=function(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0},n.Vector3.prototype={constructor:n.Vector3,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},sub:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},divideScalar:function(e){return 0!==e?(this.x/=e,this.y/=e,this.z/=e):(this.x=0,this.y=0,this.z=0),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12],this.y=o[1]*t+o[5]*n+o[9]*r+o[13],this.z=o[2]*t+o[6]*n+o[10]*r+o[14],this},applyProjection:function(e){var t=this.x,n=this.y,r=this.z,o=e.elements,a=o[3]*t+o[7]*n+o[11]*r+o[15];return this.x=(o[0]*t+o[4]*n+o[8]*r+o[12])/a,this.y=(o[1]*t+o[5]*n+o[9]*r+o[13])/a,this.z=(o[2]*t+o[6]*n+o[10]*r+o[14])/a,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,o=e.x,a=e.y,i=e.z,s=(e.w,{});s.x=2*(n*i-r*a),s.y=2*(r*o-t*i),s.z=2*(t*a-n*o);var l={};return l.x=s.y*i-s.z*a,l.y=s.z*o-s.x*i,l.z=s.x*a-s.y*o,this.x=t+e.w*s.x+l.x,this.y=n+e.w*s.y+l.y,this.z=r+e.w*s.z+l.z,this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},normalize:function(){return this.divideScalar(this.length())},cross:function(e){var t=this.x,n=this.y,r=this.z;return this.x=n*e.z-r*e.y,this.y=r*e.x-t*e.z,this.z=t*e.y-n*e.x,this},crossVectors:function(e,t){return this.x=e.y*t.z-e.z*t.y,this.y=e.z*t.x-e.x*t.z,this.z=e.x*t.y-e.y*t.x,this},getPositionFromMatrix:function(e){return this.x=e.elements[12],this.y=e.elements[13],this.z=e.elements[14],this},setEulerFromRotationMatrix:function(e,t){var r=e.elements,o=r[0],a=r[4],i=r[8],s=(r[1],r[5]),l=r[9],c=(r[2],r[6]),u=r[10];return void 0===t||"XYZ"===t?(this.y=Math.asin(n.Math.clamp(i,-1,1)),Math.abs(i)<.99999?(this.x=Math.atan2(-l,u),this.z=Math.atan2(-a,o)):(this.x=Math.atan2(c,s),this.z=0)):console.error("Error with vector's setEulerFromRotationMatrix: Unknown order: "+t),this},rotateAboutVector:function(e,t){e.normalize();var n=Math.cos(t),r=Math.sin(t),o=this.clone().multiplyScalar(n),a=e.clone().cross(this).multiplyScalar(r),i=e.clone().multiplyScalar(e.clone().dot(this)).multiplyScalar(1-n),s=o.add(a).add(i);return this.x=s.x,this.y=s.y,this.z=s.z,this},clone:function(){return new n.Vector3(this.x,this.y,this.z)}},n.Matrix3=function(e,t,n,r,o,a,i,s,l){this.elements=new Float32Array(9),this.set(void 0!==e?e:1,t||0,n||0,r||0,void 0!==o?o:1,a||0,i||0,s||0,void 0!==l?l:1)},n.Matrix3.prototype={constructor:n.Matrix3,set:function(e,t,n,r,o,a,i,s,l){var c=this.elements;return c[0]=e,c[3]=t,c[6]=n,c[1]=r,c[4]=o,c[7]=a,c[2]=i,c[5]=s,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},copy:function(e){var t=e.elements;this.set(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8])},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},getInverse:function(e,t){var n=e.elements,r=this.elements;r[0]=n[10]*n[5]-n[6]*n[9],r[1]=-n[10]*n[1]+n[2]*n[9],r[2]=n[6]*n[1]-n[2]*n[5],r[3]=-n[10]*n[4]+n[6]*n[8],r[4]=n[10]*n[0]-n[2]*n[8],r[5]=-n[6]*n[0]+n[2]*n[4],r[6]=n[9]*n[4]-n[5]*n[8],r[7]=-n[9]*n[0]+n[1]*n[8],r[8]=n[5]*n[0]-n[1]*n[4];var o=n[0]*r[0]+n[1]*r[3]+n[2]*r[6];if(0===o){var a="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(a);return console.warn(a),this.identity(),this}return this.multiplyScalar(1/o),this},getDeterminant:function(){var e=this.elements,t=e[0]*e[4]*e[8]+e[1]*e[5]*e[6]+e[2]*e[3]*e[7]-e[2]*e[4]*e[6]-e[1]*e[3]*e[8]-e[0]*e[5]*e[7];return t},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},clone:function(){var e=this.elements;return new n.Matrix3(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])}},n.Matrix4=function(e,t,n,r,o,a,i,s,l,c,u,p,f,d,h,m){if("undefined"==typeof t&&"undefined"!=typeof e)this.elements=new Float32Array(e);else{var y=this.elements=new Float32Array(16);y[0]=void 0!==e?e:1,y[4]=t||0,y[8]=n||0,y[12]=r||0,y[1]=o||0,y[5]=void 0!==a?a:1,y[9]=i||0,y[13]=s||0,y[2]=l||0,y[6]=c||0,y[10]=void 0!==u?u:1,y[14]=p||0,y[3]=f||0,y[7]=d||0,y[11]=h||0,y[15]=void 0!==m?m:1}},n.Matrix4.prototype={constructor:n.Matrix4,set:function(e,t,n,r,o,a,i,s,l,c,u,p,f,d,h,m){var y=this.elements;return y[0]=e,y[4]=t,y[8]=n,y[12]=r,y[1]=o,y[5]=a,y[9]=i,y[13]=s,y[2]=l,y[6]=c,y[10]=u,y[14]=p,y[3]=f,y[7]=d,y[11]=h,y[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]),this},matrix3FromTopLeft:function(){var e=this.elements;return new n.Matrix3(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10])},setRotationFromEuler:function(e,t){var n=this.elements,r=e.x,o=e.y,a=e.z,i=Math.cos(r),s=Math.sin(r),l=Math.cos(o),c=Math.sin(o),u=Math.cos(a),p=Math.sin(a);if(void 0===t||"XYZ"===t){var f=i*u,d=i*p,h=s*u,m=s*p;n[0]=l*u,n[4]=-l*p,n[8]=c,n[1]=d+h*c,n[5]=f-m*c,n[9]=-s*l,n[2]=m-f*c,n[6]=h+d*c,n[10]=i*l}else console.error("Error with matrix4 setRotationFromEuler. Order: "+t);return this},setRotationFromQuaternion:function(e){var t=this.elements,n=e.x,r=e.y,o=e.z,a=e.w,i=n+n,s=r+r,l=o+o,c=n*i,u=n*s,p=n*l,f=r*s,d=r*l,h=o*l,m=a*i,y=a*s,g=a*l;return t[0]=1-(f+h),t[4]=u-g,t[8]=p+y,t[1]=u+g,t[5]=1-(c+h),t[9]=d-m,t[2]=p-y,t[6]=d+m,t[10]=1-(c+f),this},lookAt:function(){var e=new n.Vector3,t=new n.Vector3,r=new n.Vector3;return function(n,o,a){var i=this.elements;return r.subVectors(n,o).normalize(),0===r.length()&&(r.z=1),e.crossVectors(a,r).normalize(),0===e.length()&&(r.x+=1e-4,e.crossVectors(a,r).normalize()),t.crossVectors(r,e),i[0]=e.x,i[4]=t.x,i[8]=r.x,i[1]=e.y,i[5]=t.y,i[9]=r.y,i[2]=e.z,i[6]=t.z,i[10]=r.z,this}}(),multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,o=this.elements,a=n[0],i=n[4],s=n[8],l=n[12],c=n[1],u=n[5],p=n[9],f=n[13],d=n[2],h=n[6],m=n[10],y=n[14],g=n[3],v=n[7],b=n[11],w=n[15],C=r[0],T=r[4],S=r[8],x=r[12],A=r[1],k=r[5],E=r[9],M=r[13],_=r[2],P=r[6],O=r[10],I=r[14],R=r[3],L=r[7],j=r[11],D=r[15];return o[0]=a*C+i*A+s*_+l*R,o[4]=a*T+i*k+s*P+l*L,o[8]=a*S+i*E+s*O+l*j,o[12]=a*x+i*M+s*I+l*D,o[1]=c*C+u*A+p*_+f*R,o[5]=c*T+u*k+p*P+f*L,o[9]=c*S+u*E+p*O+f*j,o[13]=c*x+u*M+p*I+f*D,o[2]=d*C+h*A+m*_+y*R,o[6]=d*T+h*k+m*P+y*L,o[10]=d*S+h*E+m*O+y*j,o[14]=d*x+h*M+m*I+y*D,o[3]=g*C+v*A+b*_+w*R,o[7]=g*T+v*k+b*P+w*L,o[11]=g*S+v*E+b*O+w*j,o[15]=g*x+v*M+b*I+w*D,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},getPosition:function(){var e=new n.Vector3;return function(){console.warn("DEPRECATED: Matrix4's .getPosition() has been removed. Use Vector3.getPositionFromMatrix( matrix ) instead.");var t=this.elements;return e.set(t[12],t[13],t[14])}}(),setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=e.elements,o=r[0],a=r[4],i=r[8],s=r[12],l=r[1],c=r[5],u=r[9],p=r[13],f=r[2],d=r[6],h=r[10],m=r[14],y=r[3],g=r[7],v=r[11],b=r[15];n[0]=u*m*g-p*h*g+p*d*v-c*m*v-u*d*b+c*h*b,n[4]=s*h*g-i*m*g-s*d*v+a*m*v+i*d*b-a*h*b,n[8]=i*p*g-s*u*g+s*c*v-a*p*v-i*c*b+a*u*b,n[12]=s*u*d-i*p*d-s*c*h+a*p*h+i*c*m-a*u*m,n[1]=p*h*y-u*m*y-p*f*v+l*m*v+u*f*b-l*h*b,n[5]=i*m*y-s*h*y+s*f*v-o*m*v-i*f*b+o*h*b,n[9]=s*u*y-i*p*y-s*l*v+o*p*v+i*l*b-o*u*b,n[13]=i*p*f-s*u*f+s*l*h-o*p*h-i*l*m+o*u*m,n[2]=c*m*y-p*d*y+p*f*g-l*m*g-c*f*b+l*d*b,n[6]=s*d*y-a*m*y-s*f*g+o*m*g+a*f*b-o*d*b,n[10]=a*p*y-s*c*y+s*l*g-o*p*g-a*l*b+o*c*b,n[14]=s*c*f-a*p*f-s*l*d+o*p*d+a*l*m-o*c*m,n[3]=u*d*y-c*h*y-u*f*g+l*h*g+c*f*v-l*d*v,n[7]=a*h*y-i*d*y+i*f*g-o*h*g-a*f*v+o*d*v,n[11]=i*c*y-a*u*y-i*l*g+o*u*g+a*l*v-o*c*v,n[15]=a*u*f-i*c*f+i*l*d-o*u*d-a*l*h+o*c*h;var w=r[0]*n[0]+r[1]*n[4]+r[2]*n[8]+r[3]*n[12];if(0===w){var C="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(C);return console.warn(C),this.identity(),this}return this.multiplyScalar(1/w),this},isReflected:function(){return this.matrix3FromTopLeft().getDeterminant()<0},compose:function(){var e=new n.Matrix4,t=new n.Matrix4;return function(n,r,o){var a=this.elements;return e.identity(),e.setRotationFromQuaternion(r),t.makeScale(o.x,o.y,o.z),this.multiplyMatrices(e,t),a[12]=n.x,a[13]=n.y,a[14]=n.z,this}}(),decompose:function(){var e=new n.Vector3,t=new n.Vector3,r=new n.Vector3,o=new n.Matrix4;return function(a,i,s){var l=this.elements;return e.set(l[0],l[1],l[2]),t.set(l[4],l[5],l[6]),r.set(l[8],l[9],l[10]),a=a instanceof n.Vector3?a:new n.Vector3,i=i instanceof n.Quaternion?i:new n.Quaternion,s=s instanceof n.Vector3?s:new n.Vector3,s.x=e.length(),s.y=t.length(),s.z=r.length(),a.x=l[12],a.y=l[13],a.z=l[14],o.copy(this),o.elements[0]/=s.x,o.elements[1]/=s.x,o.elements[2]/=s.x,o.elements[4]/=s.y,o.elements[5]/=s.y,o.elements[6]/=s.y,o.elements[8]/=s.z,o.elements[9]/=s.z,o.elements[10]/=s.z,i.setFromRotationMatrix(o),[a,i,s]}}(),scale:function(e){var t=this.elements,n=e.x,r=e.y,o=e.z;return t[0]*=n,t[4]*=r,t[8]*=o,t[1]*=n,t[5]*=r,t[9]*=o,t[2]*=n,t[6]*=r,t[10]*=o,t[3]*=n,t[7]*=r,t[11]*=o,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,Math.max(n,r)))},makeFrustum:function(e,t,n,r,o,a){var i=this.elements,s=2*o/(t-e),l=2*o/(r-n),c=(t+e)/(t-e),u=(r+n)/(r-n),p=-(a+o)/(a-o),f=-2*a*o/(a-o);return i[0]=s,i[4]=0,i[8]=c,i[12]=0,i[1]=0,i[5]=l,i[9]=u,i[13]=0,i[2]=0,i[6]=0,i[10]=p,i[14]=f,i[3]=0,i[7]=0,i[11]=-1,i[15]=0,this},makePerspective:function(e,t,r,o){var a=r*Math.tan(n.Math.degToRad(.5*e)),i=-a,s=i*t,l=a*t;return this.makeFrustum(s,l,i,a,r,o)},makeOrthographic:function(e,t,n,r,o,a){var i=this.elements,s=1/(t-e),l=1/(n-r),c=1/(a-o),u=(t+e)*s,p=(n+r)*l,f=(a+o)*c;return i[0]=2*s,i[4]=0,i[8]=0,i[12]=-u,i[1]=0,i[5]=2*l,i[9]=0,i[13]=-p,i[2]=0,i[6]=0,i[10]=-2*c,i[14]=-f,i[3]=0,i[7]=0,i[11]=0,i[15]=1,this},isEqual:function(e){var t=e.elements,n=this.elements;return n[0]==t[0]&&n[4]==t[4]&&n[8]==t[8]&&n[12]==t[12]&&n[1]==t[1]&&n[5]==t[5]&&n[9]==t[9]&&n[13]==t[13]&&n[2]==t[2]&&n[6]==t[6]&&n[10]==t[10]&&n[14]==t[14]&&n[3]==t[3]&&n[7]==t[7]&&n[11]==t[11]&&n[15]==t[15]},clone:function(){var e=this.elements;return new n.Matrix4(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},isIdentity:function(){var e=this.elements;return 1==e[0]&&0==e[4]&&0==e[8]&&0==e[12]&&0==e[1]&&1==e[5]&&0==e[9]&&0==e[13]&&0==e[2]&&0==e[6]&&1==e[10]&&0==e[14]&&0==e[3]&&0==e[7]&&0==e[11]&&1==e[15]}},n.Ray=function(e,t){this.origin=void 0!==e?e:new n.Vector3,this.direction=void 0!==t?t:new n.Vector3},n.Ray.prototype={constructor:n.Ray,set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){var r=t||new n.Vector3;return r.copy(this.direction).multiplyScalar(e).add(this.origin)},recast:function(){var e=new n.Vector3;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){var r=t||new n.Vector3;r.subVectors(e,this.origin);var o=r.dot(this.direction);return r.copy(this.direction).multiplyScalar(o).add(this.origin)},distanceToPoint:function(e){var t=new n.Vector3;return function(e){var n=t.subVectors(e,this.origin).dot(this.direction);return t.copy(this.direction).multiplyScalar(n).add(this.origin),t.distanceTo(e)}}(),isIntersectionCylinder:function(){},isIntersectionSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},isIntersectionPlane:function(e){var t=e.normal.dot(this.direction);return 0!==t||0===e.distanceToPoint(this.origin)},distanceToPlane:function(e){var t=e.normal.dot(this.direction);{if(0!==t){var n=-(this.origin.dot(e.normal)+e.constant)/t;return n}if(0===e.distanceToPoint(this.origin))return 0}},intersectPlane:function(e,t){var n=this.distanceToPlane(e);if(void 0!==n)return this.at(n,t)},applyMatrix4:function(e){return this.direction.add(this.origin).applyMatrix4(e),this.origin.applyMatrix4(e),this.direction.sub(this.origin),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)},clone:function(){return(new n.Ray).copy(this)}},n.Sphere=function(e,t){this.center=void 0!==e?e:new n.Vector3,this.radius=void 0!==t?t:0},n.Sphere.prototype={constructor:n.Sphere,set:function(e,t){return this.center.copy(e),this.radius=t,this},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius},clone:function(){return(new n.Sphere).copy(this)}},n.Cylinder=function(e,t,r){this.c1=void 0!==e?e:new n.Vector3,this.c2=void 0!==t?t:new n.Vector3,this.direction=(new n.Vector3).subVectors(this.c2,this.c1).normalize(),this.radius=void 0!==r?r:0},n.Cylinder.prototype={constructor:n.Cylinder,copy:function(e){return this.c1.copy(e.c1),this.c2.copy(e.c2),this.direction.copy(e.direction),this.radius=e.radius,this},lengthSq:function(){var e=new n.Vector3;return function(){return e.subVectors(this.c2,this.c1).lengthSq()}}(),applyMatrix4:function(e){return this.direction.add(this.c1).applyMatrix4(e),this.c1.applyMatrix4(e),this.c2.applyMatrix4(e),this.direction.sub(this.c1).normalize(),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},n.Triangle=function(e,t,r){this.a=void 0!==e?e:new n.Vector3,this.b=void 0!==t?t:new n.Vector3,this.c=void 0!==r?r:new n.Vector3},n.Triangle.prototype={constructor:n.Triangle,copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},applyMatrix4:function(e){return this.a.applyMatrix4(e),this.b.applyMatrix4(e),this.c.applyMatrix4(e),this},getNormal:function(){var e=new n.Vector3;return function(){var t=this.a.clone();return t.sub(this.b),e.subVectors(this.c,this.b),t.cross(e),t.normalize(),t}}()},n.EventDispatcher=function(){var e={};this.addEventListener=function(t,n){void 0===e[t]&&(e[t]=[]),e[t].indexOf(n)===-1&&e[t].push(n)},this.removeEventListener=function(t,n){var r=e[t].indexOf(n);r!==-1&&e[t].splice(r,1)},this.dispatchEvent=function(t){var n=e[t.type];if(void 0!==n){t.target=this;for(var r=0,o=n.length;r<o;r++)n[r].call(this,t)}}},n.Color=function(e){return arguments.length>1?(this.r=arguments[0]||0,this.g=arguments[1]||0,this.b=arguments[2]||0,this):this.set(e)},n.Color.prototype={constructor:n.Color,r:0,g:0,b:0,set:function(e){return e instanceof n.Color?e.clone():void("number"==typeof e?this.setHex(e):"object"==typeof e&&"r"in e&&"g"in e&&"b"in e&&(this.r=e.r,this.g=e.g,this.b=e.b))},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},getHex:function(){var e=Math.round(255*this.r),t=Math.round(255*this.g),n=Math.round(255*this.b);return e<<16|t<<8|n},clone:function(){return new n.Color(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},scaled:function(){var e={};return e.r=Math.round(255*this.r),e.g=Math.round(255*this.g),e.b=Math.round(255*this.b),e.a=1,e}},n.Object3D=function(){this.id=n.Object3DIDCount++,this.name="",this.parent=void 0,this.children=[],this.position=new n.Vector3,this.rotation=new n.Vector3,this.matrix=new n.Matrix4,this.matrixWorld=new n.Matrix4,this.quaternion=new n.Quaternion,this.eulerOrder="XYZ",this.up=new n.Vector3(0,1,0),this.scale=new n.Vector3(1,1,1),this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!0,this.rotationAutoUpdate=!0,this.useQuaternion=!1,this.visible=!0},n.Object3D.prototype={constructor:n.Object3D,lookAt:function(e){this.matrix.lookAt(e,this.position,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!0?this.quaternion.copy(this.matrix.decompose()[1]):this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))},add:function(e){if(e===this)return void console.error("Can't add $3Dmol.Object3D to itself");e.parent=this,this.children.push(e);for(var t=this;void 0!==t.parent;)t=t.parent;void 0!==t&&t instanceof n.Scene&&t.__addObject(e)},remove:function(e){var t=this.children.indexOf(e);if(t!==-1){e.parent=void 0,this.children.splice(t,1);for(var r=this;void 0!==r.parent;)r=r.parent;void 0!==r&&r instanceof n.Scene&&r.__removeObject(e)}},updateMatrix:function(){this.matrix.setPosition(this.position),this.useQuaternion===!1?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion),1===this.scale.x&&1===this.scale.y&&1===this.scale.z||this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate===!0&&this.updateMatrix(),this.matrixWorldNeedsUpdate!==!0&&e!==!0||(void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1;for(var t=0;t<this.children.length;t++)this.children[t].updateMatrixWorld(!0)},clone:function(e){void 0===e&&(e=new n.Object3D),e.name=this.name,e.up.copy(this.up),e.position.copy(this.position),e.rotation.copy(this.rotation),e.eulerOrder=this.eulerOrder,e.scale.copy(this.scale),e.rotationAutoUpdate=this.rotationAutoUpdate,e.matrix.copy(this.matrix),e.matrixWorld.copy(this.matrixWorld),e.quaternion.copy(this.quaternion),e.matrixAutoUpdate=this.matrixAutoUpdate,e.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,e.useQuaternion=this.useQuaternion,e.visible=this.visible;for(var t=0;t<this.children.length;t++){var r=this.children[t];e.add(r.clone())}return e},setVisible:function(e){this.visible=e;for(var t=0;t<this.children.length;t++){var n=this.children[t];n.setVisible(e)}}},n.Object3DIDCount=0,n.Geometry=function(){var e=65535,t=function(e){this.id=e||0,this.vertexArray=null,this.colorArray=null,this.normalArray=null,this.faceArray=null,this.radiusArray=null,this.lineArray=null,this.vertices=0,this.faceidx=0,this.lineidx=0};t.prototype.setColors=function(e){var t=this.vertexArray,r=this.colorArray;if(t.length!=r.length)return void console.log("Cannot re-color geometry group due to mismatched lengths.");for(var o=0;o<t.length;o+=3){var a=e(t[o],t[o+1],t[o+2]);a instanceof n.Color||(a=n.CC.color(a)),r[o]=a.r,r[o+1]=a.g,r[o+2]=a.b}},t.prototype.getNumVertices=function(){return this.vertices},t.prototype.getVertices=function(){return this.vertexArray},t.prototype.getCentroid=function(){for(var e,t,r,o,a=new n.Vector3,i=0;i<this.vertices;++i)e=3*i,t=this.vertexArray[e],r=this.vertexArray[e+1],o=this.vertexArray[e+2],a.x+=t,a.y+=r,a.z+=o;return a.divideScalar(this.vertices),a},t.prototype.setNormals=function(){var e=this.faceArray,t=this.vertexArray,r=this.normalArray;if(this.vertices&&this.faceidx)for(var o,a,i,s,l,c,u,p=0;p<e.length/3;++p)o=3*e[3*p],a=3*e[3*p+1],i=3*e[3*p+2],s=new n.Vector3(t[o],t[o+1],t[o+2]),l=new n.Vector3(t[a],t[a+1],t[a+2]),c=new n.Vector3(t[i],t[i+1],t[i+2]),s.subVectors(s,l),c.subVectors(c,l),c.cross(s),u=c,u.normalize(),r[o]+=u.x,r[a]+=u.x,r[i]+=u.x,r[o+1]+=u.y,r[a+1]+=u.y,r[i+1]+=u.y,r[o+2]+=u.z,r[a+2]+=u.z,r[i+2]+=u.z},t.prototype.setLineIndices=function(){if(this.faceidx){var e=this.faceArray,t=this.lineArray=new Uint16Array(2*this.faceidx);this.lineidx=2*this.faceidx;for(var n=0;n<this.faceidx/3;++n){var r=3*n,o=2*r,a=e[r],i=e[r+1],s=e[r+2];t[o]=a,t[o+1]=i,t[o+2]=a,t[o+3]=s,t[o+4]=i,t[o+5]=s}}},t.prototype.truncateArrayBuffers=function(e,t){e=e===!0;var n=this.vertexArray,r=this.colorArray,o=this.normalArray,a=this.faceArray,i=this.lineArray,s=this.radiusArray;this.vertexArray=n.subarray(0,3*this.vertices),this.colorArray=r.subarray(0,3*this.vertices),e?(this.normalArray=o.subarray(0,3*this.vertices),this.faceArray=a.subarray(0,this.faceidx),this.lineidx>0?this.lineArray=i.subarray(0,this.lineidx):this.lineArray=new Uint16Array(0)):(this.normalArray=new Float32Array(0),this.faceArray=new Uint16Array(0),this.lineArray=new Uint16Array(0)),s&&(this.radiusArray=s.subarray(0,this.vertices)),t&&(this.normalArray&&(this.normalArray=new Float32Array(this.normalArray)),this.faceArray&&(this.faceArray=new Uint16Array(this.faceArray)),this.lineArray&&(this.lineArray=new Uint16Array(this.lineArray)),this.vertexArray&&(this.vertexArray=new Float32Array(this.vertexArray)),this.colorArray&&(this.colorArray=new Float32Array(this.colorArray)),this.radiusArray&&(this.radiusArray=new Float32Array(this.radiusArray))),this.__inittedArrays=!0};var r=function(n){var r=new t(n.geometryGroups.length);return n.geometryGroups.push(r),n.groups=n.geometryGroups.length,r.vertexArray=new Float32Array(3*e),r.colorArray=new Float32Array(3*e),n.mesh&&(r.normalArray=new Float32Array(3*e),r.faceArray=new Uint16Array(6*e),r.lineArray=new Uint16Array(6*e)),n.radii&&(r.radiusArray=new Float32Array(e)),r.useOffset=n.offset,r},o=function(e,t,r){n.EventDispatcher.call(this),this.id=n.GeometryIDCount++,this.name="",this.hasTangents=!1,this.dynamic=!0,this.mesh=e===!0,this.radii=t||!1,this.offset=r||!1,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.buffersNeedUpdate=!1,this.geometryGroups=[],this.groups=0};return o.prototype={constructor:o,updateGeoGroup:function(e){e=e||0;var t=this.groups>0?this.geometryGroups[this.groups-1]:null;return(!t||t.vertices+e>t.vertexArray.length/3)&&(t=r(this)),t},addGeoGroup:function(){return r(this)},setUpNormals:function(e){e=e||!1;for(var t=0;t<this.groups;t++){var n=this.geometryGroups[t];n.setNormals(e)}},setColors:function(e){for(var t=this.geometryGroups.length,n=0;n<t;n++){var r=this.geometryGroups[n];r.setColors(e)}},setUpWireframe:function(){for(var e=0;e<this.groups;e++){var t=this.geometryGroups[e];t.setLineIndices()}},initTypedArrays:function(){for(var e=0;e<this.groups;e++){var t=this.geometryGroups[e];t.__inittedArrays!==!0&&t.truncateArrayBuffers(this.mesh,!1)}},dispose:function(){this.dispatchEvent({type:"dispose"})}},o}(),Object.defineProperty(n.Geometry.prototype,"vertices",{get:function(){for(var e=0,t=0;t<this.groups;t++)e+=this.geometryGroups[t].vertices;return e}}),n.GeometryIDCount=0,n.Raycaster=function(){var e=function(e,t,r,o){this.ray=new n.Ray(e,t),this.ray.direction.lengthSq()>0&&this.ray.direction.normalize(),this.near=o||0,this.far=r||1/0},t=new n.Sphere,r=new n.Cylinder,o=new n.Triangle,a=new n.Vector3,i=new n.Vector3,s=new n.Vector3,l=new n.Vector3,c=(new n.Ray,new n.Vector3,new n.Vector3),u=(new n.Matrix4,function(e,t){return e.distance-t.distance}),p=function(e){return Math.min(Math.max(e,-1),1)},f=function(e,u,f,d){if(c.getPositionFromMatrix(e.matrixWorld),void 0===u.intersectionShape)return d;var h=u.intersectionShape,m=f.linePrecision;m*=e.matrixWorld.getMaxScaleOnAxis();var y=m*m;if(void 0!==u.boundingSphere&&u.boundingSphere instanceof n.Sphere&&(t.copy(u.boundingSphere),t.applyMatrix4(e.matrixWorld),!f.ray.isIntersectionSphere(t)))return d;var g,v,b,w,C,T,S,x,A,k,E,M,_,P;for(g=0,v=h.triangle.length;g<v;g++)if(h.triangle[g]instanceof n.Triangle){if(o.copy(h.triangle[g]),o.applyMatrix4(e.matrixWorld),b=o.getNormal(),w=f.ray.direction.dot(b),w>=0)continue;if(a.subVectors(o.a,f.ray.origin),S=b.dot(a)/w,S<0)continue;i.copy(f.ray.direction).multiplyScalar(S).add(f.ray.origin),i.sub(o.a),s.copy(o.b).sub(o.a),l.copy(o.c).sub(o.a);var O=s.dot(l),I=s.lengthSq(),R=l.lengthSq();if(M=(I*i.dot(l)-O*i.dot(s))/(I*R-O*O),M<0||M>1)continue;if(E=(i.dot(s)-M*O)/I,E<0||E>1||E+M>1)continue;d.push({clickable:u,distance:S})}for(g=0,v=h.cylinder.length;g<v;g++)if(h.cylinder[g]instanceof n.Cylinder){if(r.copy(h.cylinder[g]),r.applyMatrix4(e.matrixWorld),a.subVectors(r.c1,f.ray.origin),C=a.dot(r.direction),T=a.dot(f.ray.direction),w=p(f.ray.direction.dot(r.direction)),A=1-w*w,0===A)continue;_=(w*T-C)/A,P=(T-w*C)/A,i.copy(r.direction).multiplyScalar(_).add(r.c1),s.copy(f.ray.direction).multiplyScalar(P).add(f.ray.origin),x=l.subVectors(i,s).lengthSq();var L=r.radius*r.radius;if(x<=L){if(k=(w*C-T)*(w*C-T)-A*(a.lengthSq()-C*C-L),M=S=k<=0?Math.sqrt(x):(T-w*C-Math.sqrt(k))/A,E=w*M-C,E<0||E*E>r.lengthSq()||M<0)continue;d.push({clickable:u,distance:S})}}for(g=0,v=h.line.length;g<v;g+=2){i.copy(h.line[g]),i.applyMatrix4(e.matrixWorld),s.copy(h.line[g+1]),s.applyMatrix4(e.matrixWorld),l.subVectors(s,i);var j=l.lengthSq();l.normalize(),a.subVectors(i,f.ray.origin);var D=a.dot(l);T=a.dot(f.ray.direction),w=p(f.ray.direction.dot(l)),A=1-w*w,0!==A&&(_=(w*T-D)/A,P=(T-w*D)/A,i.add(l.multiplyScalar(_)),s.copy(f.ray.direction).multiplyScalar(P).add(f.ray.origin),x=l.subVectors(s,i).lengthSq(),x<y&&_*_<j&&d.push({clickable:u,distance:P}))}for(g=0,v=h.sphere.length;g<v;g++)if(h.sphere[g]instanceof n.Sphere&&(t.copy(h.sphere[g]),t.applyMatrix4(e.matrixWorld),f.ray.isIntersectionSphere(t))){i.subVectors(t.center,f.ray.origin);var N=i.dot(f.ray.direction);return k=N*N-(i.lengthSq()-t.radius*t.radius),N<0?d:(S=k<=0?N:N-Math.sqrt(k),d.push({clickable:u,distance:S}),d)}};return e.prototype.precision=1e-4,e.prototype.linePrecision=.2,e.prototype.set=function(e,t){this.ray.set(e,t)},e.prototype.intersectObjects=function(e,t){for(var n=[],r=0,o=t.length;r<o;r++)f(e,t[r],this,n);return n.sort(u),n},e}(),n.Projector=function(){var e=(new n.Matrix4,new n.Matrix4);this.projectVector=function(t,n){return n.matrixWorldInverse.getInverse(n.matrixWorld),e.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),t.applyProjection(e)},this.unprojectVector=function(t,n){return n.projectionMatrixInverse.getInverse(n.projectionMatrix),e.multiplyMatrices(n.matrixWorld,n.projectionMatrixInverse),t.applyProjection(e)}},n.Camera=function(e,t,r,o,a){n.Object3D.call(this),this.fov=void 0!==e?e:50,this.aspect=void 0!==t?t:1,this.near=void 0!==r?r:.1,this.far=void 0!==o?o:2e3,this.projectionMatrix=new n.Matrix4,this.projectionMatrixInverse=new n.Matrix4,this.matrixWorldInverse=new n.Matrix4;var i=this.position.z;this.right=i*Math.tan(Math.PI/180*e),this.left=-this.right,this.top=this.right/this.aspect,this.bottom=-this.top,this.ortho=!!a,this.updateProjectionMatrix()},n.Camera.prototype=Object.create(n.Object3D.prototype),n.Camera.prototype.lookAt=function(e){this.matrix.lookAt(this.position,e,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!1?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):this.quaternion.copy(this.matrix.decompose()[1]))},n.Camera.prototype.updateProjectionMatrix=function(){this.ortho?this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far):this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},n.SpritePlugin=function(){function e(e,t){var n=r.createProgram(),o=r.createShader(r.FRAGMENT_SHADER),a=r.createShader(r.VERTEX_SHADER),i="precision "+t+" float;\n";return r.shaderSource(o,i+e.fragmentShader),r.shaderSource(a,i+e.vertexShader),r.compileShader(o),r.compileShader(a),r.getShaderParameter(o,r.COMPILE_STATUS)&&r.getShaderParameter(a,r.COMPILE_STATUS)?(r.attachShader(n,o),r.attachShader(n,a),r.linkProgram(n),r.getProgramParameter(n,r.LINK_STATUS)||console.error("Could not initialize shader"),n):(console.error(r.getShaderInfoLog(o)),console.error("could not initialize shader"),null)}function t(e,t){return e.z!==t.z?t.z-e.z:t.id-e.id}var r,o,a,i={};this.init=function(t){r=t.context,o=t,a=t.getPrecision(),i.vertices=new Float32Array(16),i.faces=new Uint16Array(6);var s=0;i.vertices[s++]=-1,i.vertices[s++]=-1,i.vertices[s++]=0,i.vertices[s++]=0,i.vertices[s++]=1,i.vertices[s++]=-1,i.vertices[s++]=1,i.vertices[s++]=0,i.vertices[s++]=1,i.vertices[s++]=1,i.vertices[s++]=1,i.vertices[s++]=1,i.vertices[s++]=-1,i.vertices[s++]=1,i.vertices[s++]=0,i.vertices[s++]=1,s=0,i.faces[s++]=0,i.faces[s++]=1,i.faces[s++]=2,i.faces[s++]=0,i.faces[s++]=2,i.faces[s++]=3,i.vertexBuffer=r.createBuffer(),i.elementBuffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,i.vertexBuffer),r.bufferData(r.ARRAY_BUFFER,i.vertices,r.STATIC_DRAW),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,i.elementBuffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,i.faces,r.STATIC_DRAW),i.program=e(n.ShaderLib.sprite,a),i.attributes={},i.uniforms={},i.attributes.position=r.getAttribLocation(i.program,"position"),i.attributes.uv=r.getAttribLocation(i.program,"uv"),i.uniforms.uvOffset=r.getUniformLocation(i.program,"uvOffset"),i.uniforms.uvScale=r.getUniformLocation(i.program,"uvScale"),i.uniforms.rotation=r.getUniformLocation(i.program,"rotation"),i.uniforms.scale=r.getUniformLocation(i.program,"scale"),i.uniforms.alignment=r.getUniformLocation(i.program,"alignment"),i.uniforms.color=r.getUniformLocation(i.program,"color"),i.uniforms.map=r.getUniformLocation(i.program,"map"),i.uniforms.opacity=r.getUniformLocation(i.program,"opacity"),i.uniforms.useScreenCoordinates=r.getUniformLocation(i.program,"useScreenCoordinates"),i.uniforms.screenPosition=r.getUniformLocation(i.program,"screenPosition"),i.uniforms.modelViewMatrix=r.getUniformLocation(i.program,"modelViewMatrix"),i.uniforms.projectionMatrix=r.getUniformLocation(i.program,"projectionMatrix"),i.uniforms.fogType=r.getUniformLocation(i.program,"fogType"),i.uniforms.fogDensity=r.getUniformLocation(i.program,"fogDensity"),i.uniforms.fogNear=r.getUniformLocation(i.program,"fogNear"),i.uniforms.fogFar=r.getUniformLocation(i.program,"fogFar"),i.uniforms.fogColor=r.getUniformLocation(i.program,"fogColor"),i.uniforms.alphaTest=r.getUniformLocation(i.program,"alphaTest")},this.render=function(e,n,a,s){var l=e.__webglSprites,c=l.length;if(c){var u=i.attributes,p=i.uniforms,f=.5*a,d=.5*s;r.useProgram(i.program),r.enableVertexAttribArray(u.position),r.enableVertexAttribArray(u.uv),r.disable(r.CULL_FACE),r.enable(r.BLEND),r.bindBuffer(r.ARRAY_BUFFER,i.vertexBuffer),r.vertexAttribPointer(u.position,2,r.FLOAT,!1,16,0),r.vertexAttribPointer(u.uv,2,r.FLOAT,!1,16,8),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,i.elementBuffer),r.uniformMatrix4fv(p.projectionMatrix,!1,n.projectionMatrix.elements),r.activeTexture(r.TEXTURE0),r.uniform1i(p.map,0);var h=0,m=0,y=e.fog;y?(r.uniform3f(p.fogColor,y.color.r,y.color.g,y.color.b),r.uniform1f(p.fogNear,y.near),r.uniform1f(p.fogFar,y.far),r.uniform1i(p.fogType,1),h=1,m=1):(r.uniform1i(p.fogType,0),h=0,m=0);var g,v,b,w,C,T=[];for(g=0;g<c;g++)v=l[g],b=v.material,v.visible&&0!==b.opacity&&(b.useScreenCoordinates?v.z=-v.position.z:(v._modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,v.matrixWorld),v.z=-v._modelViewMatrix.elements[14]));for(l.sort(t),g=0;g<c;g++)if(v=l[g],b=v.material,v.visible&&0!==b.opacity&&b.map&&b.map.image&&b.map.image.width){r.uniform1f(p.alphaTest,b.alphaTest);var S=b.map.image.width,x=b.map.image.height;T[0]=S*o.devicePixelRatio/a,T[1]=x*o.devicePixelRatio/s,b.useScreenCoordinates===!0?(r.uniform1i(p.useScreenCoordinates,1),
r.uniform3f(p.screenPosition,(v.position.x*o.devicePixelRatio-f)/f,(d-v.position.y*o.devicePixelRatio)/d,Math.max(0,Math.min(1,v.position.z)))):(r.uniform1i(p.useScreenCoordinates,0),r.uniformMatrix4fv(p.modelViewMatrix,!1,v._modelViewMatrix.elements)),C=e.fog&&b.fog?m:0,h!==C&&(r.uniform1i(p.fogType,C),h=C),w=1/(b.scaleByViewport?s:1),T[0]*=w*v.scale.x,T[1]*=w*v.scale.y,r.uniform2f(p.uvScale,b.uvScale.x,b.uvScale.y),r.uniform2f(p.uvOffset,b.uvOffset.x,b.uvOffset.y),r.uniform2f(p.alignment,b.alignment.x,b.alignment.y),r.uniform1f(p.opacity,b.opacity),r.uniform3f(p.color,b.color.r,b.color.g,b.color.b),r.uniform1f(p.rotation,v.rotation),r.uniform2fv(p.scale,T),o.setDepthTest(b.depthTest),o.setDepthWrite(b.depthWrite),o.setTexture(b.map,0),r.drawElements(r.TRIANGLES,6,r.UNSIGNED_SHORT,0)}r.enable(r.CULL_FACE)}}},n.Light=function(e,t){n.Object3D.call(this),this.color=new n.Color(e),this.position=new n.Vector3(0,1,0),this.target=new n.Object3D,this.intensity=void 0!==t?t:1,this.castShadow=!1,this.onlyShadow=!1},n.Light.prototype=Object.create(n.Object3D.prototype),n.Material=function(){n.EventDispatcher.call(this),this.id=n.MaterialIdCount++,this.name="",this.side=n.FrontSide,this.opacity=1,this.transparent=!1,this.depthTest=!0,this.depthWrite=!0,this.stencilTest=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.visible=!0,this.needsUpdate=!0},n.Material.prototype.setValues=function(e){if(void 0!==e)for(var t in e){var r=e[t];if(void 0!==r){if(t in this){var o=this[t];o instanceof n.Color&&r instanceof n.Color?o.copy(r):o instanceof n.Color?o.set(r):o instanceof n.Vector3&&r instanceof n.Vector3?o.copy(r):this[t]=r}}else console.warn("$3Dmol.Material: '"+t+"' parameter is undefined.")}},n.Material.prototype.clone=function(e){return void 0===e&&(e=new n.Material),e.name=this.name,e.side=this.side,e.opacity=this.opacity,e.transparent=this.transparent,e.depthTest=this.depthTest,e.depthWrite=this.depthWrite,e.stencilTest=this.stencilTest,e.polygonOffset=this.polygonOffset,e.polygonOffsetFactor=this.polygonOffsetFactor,e.polygonOffsetUnits=this.polygonOffsetUnits,e.alphaTest=this.alphaTest,e.overdraw=this.overdraw,e.visible=this.visible,e},n.Material.prototype.dispose=function(){this.dispatchEvent({type:"dispose"})},n.MaterialIdCount=0,n.LineBasicMaterial=function(e){n.Material.call(this),this.color=new n.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=!1,this.fog=!0,this.shaderID="basic",this.setValues(e)},n.LineBasicMaterial.prototype=Object.create(n.Material.prototype),n.LineBasicMaterial.prototype.clone=function(){var e=new n.LineBasicMaterial;return n.Material.prototype.clone.call(this,e),e.color.copy(this.color),e},n.MeshLambertMaterial=function(e){n.Material.call(this),this.color=new n.Color(16777215),this.ambient=new n.Color(1048575),this.emissive=new n.Color(0),this.wrapAround=!1,this.wrapRGB=new n.Vector3(1,1,1),this.map=null,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=n.SmoothShading,this.shaderID="lambert",this.vertexColors=n.NoColors,this.skinning=!1,this.setValues(e)},n.MeshLambertMaterial.prototype=Object.create(n.Material.prototype),n.MeshLambertMaterial.prototype.clone=function(e){return"undefined"==typeof e&&(e=new n.MeshLambertMaterial),n.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.shaderID=this.shaderID,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},n.MeshDoubleLambertMaterial=function(e){n.MeshLambertMaterial.call(this,e),this.shaderID="lambertdouble",this.side=n.DoubleSide},n.MeshDoubleLambertMaterial.prototype=Object.create(n.MeshLambertMaterial.prototype),n.MeshDoubleLambertMaterial.prototype.clone=function(){var e=new n.MeshDoubleLambertMaterial;return n.MeshLambertMaterial.prototype.clone.call(this,e),e},n.MeshOutlineMaterial=function(e){n.Material.call(this),e=e||{},this.fog=!0,this.shaderID="outline",this.wireframe=!1,this.outlineColor=e.color||new n.Color(0,0,0),this.outlineWidth=e.width||.1,this.outlinePushback=e.pushback||1},n.MeshOutlineMaterial.prototype=Object.create(n.Material.prototype),n.MeshOutlineMaterial.prototype.clone=function(e){return"undefined"==typeof e&&(e=new n.MeshOutlineMaterial),n.Material.prototype.clone.call(this,e),e.fog=this.fog,e.shaderID=this.shaderID,e.wireframe=this.wireframe,e},n.ImposterMaterial=function(e){n.Material.call(this),this.color=new n.Color(16777215),this.ambient=new n.Color(1048575),this.emissive=new n.Color(0),this.imposter=!0,this.wrapAround=!1,this.wrapRGB=new n.Vector3(1,1,1),this.map=null,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=n.SmoothShading,this.shaderID=null,this.vertexColors=n.NoColors,this.skinning=!1,this.setValues(e)},n.ImposterMaterial.prototype=Object.create(n.Material.prototype),n.ImposterMaterial.prototype.clone=function(){var e=new n.ImposterMaterial;return n.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.shaderID=this.shaderID,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},n.SphereImposterMaterial=function(e){n.ImposterMaterial.call(this),this.shaderID="sphereimposter",this.setValues(e)},n.SphereImposterMaterial.prototype=Object.create(n.ImposterMaterial.prototype),n.SphereImposterMaterial.prototype.clone=function(){var e=new n.SphereImposterMaterial;return n.ImposterMaterial.prototype.clone.call(this,e),e},n.SphereImposterOutlineMaterial=function(e){n.ImposterMaterial.call(this),e=e||{},this.shaderID="sphereimposteroutline",this.outlineColor=e.color||new n.Color(0,0,0),this.outlineWidth=e.width||.1,this.outlinePushback=e.pushback||1,this.setValues(e)},n.SphereImposterOutlineMaterial.prototype=Object.create(n.ImposterMaterial.prototype),n.SphereImposterOutlineMaterial.prototype.clone=function(){var e=new n.SphereImposterOutlineMaterial;return n.ImposterMaterial.prototype.clone.call(this,e),e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.outlinePushback=this.outlinePushback,e},n.StickImposterMaterial=function(e){n.ImposterMaterial.call(this),this.shaderID="stickimposter",this.setValues(e)},n.StickImposterMaterial.prototype=Object.create(n.ImposterMaterial.prototype),n.StickImposterMaterial.prototype.clone=function(){var e=new n.StickImposterOutlineMaterial;return n.ImposterMaterial.prototype.clone.call(this,e),e},n.StickImposterOutlineMaterial=function(e){n.ImposterMaterial.call(this),e=e||{},this.shaderID="stickimposteroutline",this.outlineColor=e.color||new n.Color(0,0,0),this.outlineWidth=e.width||.1,this.outlinePushback=e.pushback||1,this.setValues(e)},n.StickImposterOutlineMaterial.prototype=Object.create(n.ImposterMaterial.prototype),n.StickImposterOutlineMaterial.prototype.clone=function(){var e=new n.StickImposterOutlineMaterial;return n.ImposterMaterial.prototype.clone.call(this,e),e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.outlinePushback=this.outlinePushback,e},n.InstancedMaterial=function(e){n.Material.call(this),this.color=new n.Color(16777215),this.ambient=new n.Color(1048575),this.emissive=new n.Color(0),this.wrapAround=!1,this.wrapRGB=new n.Vector3(1,1,1),this.map=null,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=n.SmoothShading,this.shaderID="instanced",this.vertexColors=n.NoColors,this.skinning=!1,this.sphere=null,this.setValues(e)},n.InstancedMaterial.prototype=Object.create(n.Material.prototype),n.InstancedMaterial.prototype.clone=function(){var e=new n.InstancedMaterial;return n.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.shaderID=this.shaderID,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e.sphere=this.sphere,e},n.SpriteMaterial=function(e){n.Material.call(this),this.color=new n.Color(16777215),this.map=new n.Texture,this.useScreenCoordinates=!0,this.depthTest=!this.useScreenCoordinates,this.sizeAttenuation=!this.useScreenCoordinates,this.scaleByViewPort=!this.sizeAttenuation,this.alignment=n.SpriteAlignment.center.clone(),this.fog=!1,this.uvOffset=new n.Vector2(0,0),this.uvScale=new n.Vector2(1,1),this.setValues(e),e=e||{},void 0===e.depthTest&&(this.depthTest=!this.useScreenCoordinates),void 0===e.sizeAttenuation&&(this.sizeAttenuation=!this.useScreenCoordinates),void 0===e.scaleByViewPort&&(this.scaleByViewPort=!this.sizeAttenuation)},n.SpriteMaterial.prototype=Object.create(n.Material.prototype),n.SpriteMaterial.prototype.clone=function(){var e=new n.SpriteMaterial;return n.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.useScreenCoordinates=useScreenCoordinates,e.sizeAttenuation=this.sizeAttenuation,e.scaleByViewport=this.scaleByViewPort,e.alignment.copy(this.alignment),e.uvOffset.copy(this.uvOffset),e},n.SpriteAlignment={},n.SpriteAlignment.topLeft=new n.Vector2(1,-1),n.SpriteAlignment.topCenter=new n.Vector2(0,-1),n.SpriteAlignment.topRight=new n.Vector2(-1,-1),n.SpriteAlignment.centerLeft=new n.Vector2(1,0),n.SpriteAlignment.center=new n.Vector2(0,0),n.SpriteAlignment.centerRight=new n.Vector2(-1,0),n.SpriteAlignment.bottomLeft=new n.Vector2(1,1),n.SpriteAlignment.bottomCenter=new n.Vector2(0,1),n.SpriteAlignment.bottomRight=new n.Vector2(-1,1),n.Texture=function(e){n.EventDispatcher.call(this),this.id=n.TextureIdCount++,this.name="",this.image=e,this.mipmaps=[],this.mapping=new n.UVMapping,this.wrapS=n.ClampToEdgeWrapping,this.wrapT=n.ClampToEdgeWrapping,this.magFilter=n.LinearFilter,this.minFilter=n.LinearMipMapLinearFilter,this.anisotropy=1,this.format=n.RGBAFormat,this.type=n.UnsignedByteType,this.offset=new n.Vector2(0,0),this.repeat=new n.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.needsUpdate=!1,this.onUpdate=null},n.Texture.prototype={constructor:n.Texture,clone:function(e){return void 0===e&&(e=new n.Texture),e.image=this.image,e.mipmaps=this.mipmaps.slice(0),e.mapping=this.mapping,e.wrapS=this.wrapS,e.wrapT=this.wrapT,e.magFilter=this.magFilter,e.minFilter=this.minFilter,e.anisotropy=this.anisotropy,e.format=this.format,e.type=this.type,e.offset.copy(this.offset),e.repeat.copy(this.repeat),e.generateMipmaps=this.generateMipmaps,e.premultiplyAlpha=this.premultiplyAlpha,e.flipY=this.flipY,e.unpackAlignment=this.unpackAlignment,e},dispose:function(){this.dispatchEvent({type:"dispose"})}},n.TextureIdCount=0,n.FrontSide=0,n.BackSide=1,n.DoubleSide=2,n.NoShading=0,n.FlatShading=1,n.SmoothShading=2,n.NoColors=0,n.FaceColors=1,n.VertexColors=2,n.MultiplyOperation=0,n.MixOperation=1,n.AddOperation=2,n.UVMapping=function(){},n.ClampToEdgeWrapping=1001,n.LinearFilter=1006,n.LinearMipMapLinearFilter=1008,n.UnsignedByteType=1009,n.RGBAFormat=1021,n.Line=function(e,t,r){n.Object3D.call(this),this.geometry=e,this.material=void 0!==t?t:new n.LineBasicMaterial({color:16777215*Math.random()}),this.type=void 0!==r?r:n.LineStrip},n.LineStrip=0,n.LinePieces=1,n.Line.prototype=Object.create(n.Object3D.prototype),n.Line.prototype.clone=function(e){return void 0===e&&(e=new n.Line(this.geometry,this.material,this.type)),n.Object3D.prototype.clone.call(this,e),e},n.Mesh=function(e,t){n.Object3D.call(this),this.geometry=e,this.material=void 0!==t?t:new n.MeshBasicMaterial({color:16777215*Math.random(),wireframe:!0})},n.Mesh.prototype=Object.create(n.Object3D.prototype),n.Mesh.prototype.clone=function(e){return void 0===e&&(e=new n.Mesh(this.geometry,this.material)),n.Object3D.prototype.clone.call(this,e),e},n.Sprite=function(e){n.Object3D.call(this),this.material=void 0!==e?e:new n.SpriteMaterial,this.rotation3d=this.rotation,this.rotation=0},n.Sprite.prototype=Object.create(n.Object3D.prototype),n.Sprite.prototype.updateMatrix=function(){this.matrix.setPosition(this.position),this.rotation3d.set(0,0,this.rotation),this.matrix.setRotationFromEuler(this.rotation3d),1===this.scale.x&&1===this.scale.y||this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0},n.Sprite.prototype.clone=function(e){return void 0===e&&(e=new n.Sprite(this.material)),n.Object3D.prototype.clone.call(this,e),e},n.Renderer=function(e){function t(e){ce[e]||(H.enableVertexAttribArray(e),ce[e]=!0)}function r(){for(var e in ce)ce[e]&&(H.disableVertexAttribArray(e),ce[e]=!1)}function o(e,t,n){re!==e&&(e?H.enable(H.POLYGON_OFFSET_FILL):H.disable(H.POLYGON_OFFSET_FILL))}function a(e){e!==oe&&(H.lineWidth(e),oe=e)}function i(e,t){var n;return"fragment"===e?n=H.createShader(H.FRAGMENT_SHADER):"vertex"===e&&(n=H.createShader(H.VERTEX_SHADER)),H.shaderSource(n,t),H.compileShader(n),H.getShaderParameter(n,H.COMPILE_STATUS)?n:(console.error(H.getShaderInfoLog(n)),console.error("could not initialize shader"),null)}function s(e,t,n,r){var o,a,s,l,c=[];c.push(e),c.push(t);for(o in r)c.push(o),c.push(r[o]);for(l=c.join(),o=0,a=V.length;o<a;o++){var u=V[o];if(u.code===l)return u.usedTimes++,u.program}s=H.createProgram();var p=O,f="precision "+p+" float;",d=[f].join("\n"),h=[r.fragdepth?"#extension GL_EXT_frag_depth: enable":"",r.wireframe?"#define WIREFRAME 1":"",f].join("\n"),m=i("fragment",h+e),y=i("vertex",d+t);H.attachShader(s,y),H.attachShader(s,m),H.linkProgram(s),H.getProgramParameter(s,H.LINK_STATUS)||console.error("Could not initialize shader"),s.uniforms={},s.attributes={};var g,v,b;g=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix"];for(v in n)g.push(v);for(b=0;b<g.length;b++){var w=g[b];s.uniforms[w]=H.getUniformLocation(s,w)}for(g=["position","normal","color","lineDistance","offset","radius"],b=0;b<g.length;b++){var C=g[b];s.attributes[C]=H.getAttribLocation(s,C)}return s.id=K++,V.push({program:s,code:l,usedTimes:1}),U.info.memory.programs=V.length,s}function l(e,t,n,r,o){r.needsUpdate&&(r.program&&Ce(r),U.initMaterial(r,t,n,o),r.needsUpdate=!1);var a=!1,i=r.program,s=i.uniforms,l=r.uniforms;return i!=W&&(H.useProgram(i),W=i,a=!0),r.id!=$&&($=r.id,a=!0),e!=Q&&(Q=e,a=!0),H.uniformMatrix4fv(s.projectionMatrix,!1,e.projectionMatrix.elements),H.uniformMatrix4fv(s.modelViewMatrix,!1,o._modelViewMatrix.elements),H.uniformMatrix3fv(s.normalMatrix,!1,o._normalMatrix.elements),a&&(l.fogColor.value=n.color,l.fogNear.value=n.near,l.fogFar.value=n.far,r.shaderID.startsWith("lambert")||"instanced"===r.shaderID||r.shaderID.endsWith("imposter")?(H.uniformMatrix4fv(s.viewMatrix,!1,e.matrixWorldInverse.elements),de&&(E(i,t),de=!1),l.directionalLightColor.value=he.directional.colors,l.directionalLightDirection.value=he.directional.positions):r.shaderID.endsWith("outline")?(l.outlineColor.value=r.outlineColor,l.outlineWidth.value=r.outlineWidth,l.outlinePushback.value=r.outlinePushback):"sphereimposter"===r.shaderID&&(H.uniformMatrix4fv(s.viewMatrix,!1,e.matrixWorldInverse.elements),H.uniformMatrix3fv(s.normalMatrix,!1,o._normalMatrix.elements),l.directionalLightColor.value=he.directional.colors,l.directionalLightDirection.value=he.directional.positions),l.opacity.value=r.opacity,c(s,l)),i}function c(e,t){var n,r,o,a;for(n in t)e[n]&&(r=t[n].type,o=t[n].value,a=e[n],"f"===r?H.uniform1f(a,o):"fv"===r?H.uniform3fv(a,o):"c"===r?H.uniform3f(a,o.r,o.g,o.b):"f4"===r&&H.uniform4f(a,o[0],o[1],o[2],o[3]))}function u(e,t,n,r,a,i,s,l){var c,u,p,f,d,h,m;t?(d=e.length-1,h=-1,m=-1):(d=0,h=e.length,m=1);for(var y=d;y!==h;y+=m)if(c=e[y],c.render){if(u=c.object,p=c.buffer,f=c[n],!f)continue;s&&U.setBlending(!0),U.setDepthTest(f.depthTest),U.setDepthWrite(f.depthWrite),o(f.polygonOffset,f.polygonOffsetFactor,f.polygonOffsetUnits);var g=u._modelViewMatrix.isReflected();U.setMaterialFaces(f,g),U.renderBuffer(r,a,i,f,p,u),(z||f.outline)&&("sphereimposter"==f.shaderID?U.renderBuffer(r,a,i,q,p,u):"stickimposter"==f.shaderID?U.renderBuffer(r,a,i,B,p,u):f.wireframe||"basic"===f.shaderID||0===f.opacity||U.renderBuffer(r,a,i,F,p,u))}}function p(e,t,n){if(Y=-1,W=null,Q=null,ee=-1,ne=-1,te=-1,Z=-1,$=-1,J=-1,e.length)for(var r=0,o=e.length;r<o;r++)de=!0,e[r].render(t,n,se,le),Y=-1,W=null,Q=null,ee=-1,ne=-1,te=-1,Z=-1,$=-1,J=-1}function f(e,t){var r,o,a,i,s;if(!e.__webglInit&&(e.__webglInit=!0,e._modelViewMatrix=new n.Matrix4,e._normalMatrix=new n.Matrix3,void 0!==e.geometry&&void 0===e.geometry.__webglInit&&(e.geometry.__webglInit=!0,e.geometry.addEventListener("dispose",ge)),e instanceof n.Mesh||e instanceof n.Line))for(a=e.geometry,i=e.material,r=0,o=a.geometryGroups.length;r<o;r++)s=a.geometryGroups[r],s.id=X++,s.__webglVertexBuffer||(e instanceof n.Mesh?(b(s),a.elementsNeedUpdate=!0,a.normalsNeedUpdate=!0):e instanceof n.Line&&w(s),a.verticesNeedUpdate=!0,a.colorsNeedUpdate=!0);if(!e.__webglActive){if(e instanceof n.Mesh||e instanceof n.Line)for(a=e.geometry,r=0,o=a.geometryGroups.length;r<o;r++)s=a.geometryGroups[r],C(t.__webglObjects,s,e);else e instanceof n.Sprite&&t.__webglSprites.push(e);e.__webglActive=!0}}function d(e){var t,r=e.geometry;e.material;if(e instanceof n.Mesh||e instanceof n.Line){for(var o=0,a=r.geometryGroups.length;o<a;o++)t=r.geometryGroups[o],(r.verticesNeedUpdate||r.elementsNeedUpdate||r.colorsNeedUpdate||r.normalsNeedUpdate)&&v(t,H.STATIC_DRAW);r.verticesNeedUpdate=!1,r.elementsNeedUpdate=!1,r.normalsNeedUpdate=!1,r.colorsNeedUpdate=!1,r.buffersNeedUpdate=!1}}function h(e,t){e instanceof n.Mesh||e instanceof n.Line?m(t.__webglObjects,e):e instanceof n.Sprite&&y(t.__webglSprites,e),e.__webglActive=!1}function m(e,t){for(var n=e.length-1;n>=0;--n)e[n].object===t&&e.splice(n,1)}function y(e,t){for(var n=e.length-1;n>=0;--n)e[n]===t&&e.splice(n,1)}function g(e){var t=e.object,n=t.material;if(n.transparent){if(e.opaque=null,e.transparent=n,!n.wireframe){var r=n.clone();r.opacity=0,e.blank=r}}else e.opaque=n,e.transparent=null}function v(e,t,n){var r=e.vertexArray,o=e.colorArray;if(void 0!==e.__webglOffsetBuffer?(H.bindBuffer(H.ARRAY_BUFFER,e.__webglOffsetBuffer),H.bufferData(H.ARRAY_BUFFER,r,t)):(H.bindBuffer(H.ARRAY_BUFFER,e.__webglVertexBuffer),H.bufferData(H.ARRAY_BUFFER,r,t)),H.bindBuffer(H.ARRAY_BUFFER,e.__webglColorBuffer),H.bufferData(H.ARRAY_BUFFER,o,t),e.normalArray&&void 0!==e.__webglNormalBuffer){var a=e.normalArray;H.bindBuffer(H.ARRAY_BUFFER,e.__webglNormalBuffer),H.bufferData(H.ARRAY_BUFFER,a,t)}if(e.radiusArray&&void 0!==e.__webglRadiusBuffer&&(H.bindBuffer(H.ARRAY_BUFFER,e.__webglRadiusBuffer),H.bufferData(H.ARRAY_BUFFER,e.radiusArray,t)),e.faceArray&&void 0!==e.__webglFaceBuffer){var i=e.faceArray;H.bindBuffer(H.ELEMENT_ARRAY_BUFFER,e.__webglFaceBuffer),H.bufferData(H.ELEMENT_ARRAY_BUFFER,i,t)}if(e.lineArray&&void 0!==e.__webglLineBuffer){var s=e.lineArray;H.bindBuffer(H.ELEMENT_ARRAY_BUFFER,e.__webglLineBuffer),H.bufferData(H.ELEMENT_ARRAY_BUFFER,s,t)}}function b(e){e.radiusArray&&(e.__webglRadiusBuffer=H.createBuffer()),e.useOffset&&(e.__webglOffsetBuffer=H.createBuffer()),e.__webglVertexBuffer=H.createBuffer(),e.__webglNormalBuffer=H.createBuffer(),e.__webglColorBuffer=H.createBuffer(),e.__webglFaceBuffer=H.createBuffer(),e.__webglLineBuffer=H.createBuffer(),U.info.memory.geometries++}function w(e){e.__webglVertexBuffer=H.createBuffer(),e.__webglColorBuffer=H.createBuffer(),U.info.memory.geometries++}function C(e,t,n){e.push({buffer:t,object:n,opaque:null,transparent:null})}function T(e,t){e._modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,e.matrixWorld),e._normalMatrix.getInverse(e._modelViewMatrix),e._normalMatrix.transpose()}function S(e){return 0===(e&e-1)}function x(e){return H.LINEAR}function A(e,t,n){n?(H.texParameteri(e,H.TEXTURE_WRAP_S,k(t.wrapS)),H.texParameteri(e,H.TEXTURE_WRAP_T,k(t.wrapT)),H.texParameteri(e,H.TEXTURE_MAG_FILTER,k(t.magFilter)),H.texParameteri(e,H.TEXTURE_MIN_FILTER,k(t.minFilter))):(H.texParameteri(e,H.TEXTURE_WRAP_S,H.CLAMP_TO_EDGE),H.texParameteri(e,H.TEXTURE_WRAP_T,H.CLAMP_TO_EDGE),H.texParameteri(e,H.TEXTURE_MAG_FILTER,x(t.magFilter)),H.texParameteri(e,H.TEXTURE_MIN_FILTER,x(t.minFilter)))}function k(e){return e===n.UnsignedByteType?H.UNSIGNED_BYTE:e===n.RGBAFormat?H.RGBA:0}function E(e,t){var r,o,a,i,s,l,c=0,u=0,p=0,f=he,d=f.directional.colors,h=f.directional.positions,m=0,y=0,g=0;for(r=0,o=t.length;r<o;r++)if(a=t[r],i=a.color,s=a.intensity,l=a.distance,a instanceof n.Light){if(m++,fe.getPositionFromMatrix(a.matrixWorld),pe.getPositionFromMatrix(a.target.matrixWorld),fe.sub(pe),fe.normalize(),0===fe.x&&0===fe.y&&0===fe.z)continue;h[g]=fe.x,h[g+1]=fe.y,h[g+2]=fe.z,d[g]=i.r*s,d[g+1]=i.g*s,d[g+2]=i.b*s,g+=3,y++}f.ambient[0]=c,f.ambient[1]=u,f.ambient[2]=p,f.directional.length=y}function M(){try{if(!(H=P.getContext("experimental-webgl",{alpha:I,premultipliedAlpha:R,antialias:L,stencil:j,preserveDrawingBuffer:D}))&&!(H=P.getContext("webgl",{alpha:I,premultipliedAlpha:R,antialias:L,stencil:j,preserveDrawingBuffer:D})))throw"Error creating WebGL context."}catch(e){console.error(e)}}function _(){H.clearColor(0,0,0,1),H.clearDepth(1),H.clearStencil(0),H.enable(H.DEPTH_TEST),H.depthFunc(H.LEQUAL),H.frontFace(H.CCW),H.cullFace(H.BACK),H.enable(H.CULL_FACE),H.enable(H.BLEND),H.blendEquation(H.FUNC_ADD),H.blendFunc(H.SRC_ALPHA,H.ONE_MINUS_SRC_ALPHA),H.clearColor(N.r,N.g,N.b,G)}e=e||{};var P=void 0!==e.canvas?e.canvas:document.createElement("canvas"),O=void 0!==e.precision?e.precision:"highp",I=void 0===e.alpha||e.alpha,R=void 0===e.premultipliedAlpha||e.premultipliedAlpha,L=void 0!==e.antialias&&e.antialias,j=void 0===e.stencil||e.stencil,D=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,N=void 0!==e.clearColor?new n.Color(e.clearColor):new n.Color(0),G=void 0!==e.clearAlpha?e.clearAlpha:0,F=new n.MeshOutlineMaterial(e.outline),q=new n.SphereImposterOutlineMaterial(e.outline),B=new n.StickImposterOutlineMaterial(e.outline),z=!!e.outline;this.domElement=P,this.context=null,this.devicePixelRatio=void 0!==e.devicePixelRatio?e.devicePixelRatio:void 0!==self.devicePixelRatio?self.devicePixelRatio:1,P.id=e.id,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.autoUpdateObjects=!0,this.autoUpdateScene=!0,this.renderPluginsPost=[],this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var H,U=this,V=[],K=0,W=null,$=-1,Y=null,Q=null,X=0,Z=-1,J=-1,ee=-1,te=-1,ne=-1,re=null,oe=null,ae=0,ie=0,se=0,le=0,ce={},ue=new n.Matrix4,pe=new n.Vector3,fe=new n.Vector3,de=!0,he={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}};M(),_(),this.context=H;var me=H.getExtension("ANGLE_instanced_arrays"),ye=H.getExtension("EXT_frag_depth");this.supportedExtensions=function(){return{supportsAIA:Boolean(me),supportsImposters:Boolean(ye)}},this.getContext=function(){return H},this.getPrecision=function(){return O},this.setClearColorHex=function(e,t){N.setHex(e),G=t,H.clearColor(N.r,N.g,N.b,G)},this.enableOutline=function(e){F=new n.MeshOutlineMaterial(e),q=new n.SphereImposterOutlineMaterial(e),B=new n.StickImposterOutlineMaterial(e),z=!0},this.disableOutline=function(){z=!1},this.setSize=function(e,t){ae=P.width=e*this.devicePixelRatio,ie=P.height=t*this.devicePixelRatio,P.style.width=e+"px",P.style.height=t+"px",H.viewport(0,0,H.drawingBufferWidth,H.drawingBufferHeight)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=H.COLOR_BUFFER_BIT),(void 0===t||t)&&(r|=H.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=H.STENCIL_BUFFER_BIT),H.clear(r)},this.clearTarget=function(e,t,n){this.clear(e,t,n)},this.setMaterialFaces=function(e,t){var r=e.side===n.DoubleSide,o=e.side===n.BackSide;o=t?!o:o,Z!==r&&(r?H.disable(H.CULL_FACE):H.enable(H.CULL_FACE),Z=r),J!==o&&(o?H.frontFace(H.CW):H.frontFace(H.CCW),J=o)},this.setDepthTest=function(e){te!==e&&(e?H.enable(H.DEPTH_TEST):H.disable(H.DEPTH_TEST),te=e)},this.setDepthWrite=function(e){ne!==e&&(H.depthMask(e),ne=e)},this.setBlending=function(e){e?(H.enable(H.BLEND),H.blendEquationSeparate(H.FUNC_ADD,H.FUNC_ADD),H.blendFuncSeparate(H.SRC_ALPHA,H.ONE_MINUS_SRC_ALPHA,H.ONE,H.ONE_MINUS_SRC_ALPHA)):H.disable(H.BLEND),ee=e},this.addPostPlugin=function(e){e.init(this),this.renderPluginsPost.push(e)};var ge=function(e){var t=e.target;t.removeEventListener("dispose",ge),we(t),U.info.memory.geometries--},ve=function(e){var t=e.target;t.removeEventListener("dispose",ve),Te(t),U.info.memory.textures--},be=function(e){var t=e.target;t.removeEventListener("dispose",be),Ce(t)},we=function(e){if(e.__webglInit=void 0,void 0!==e.__webglVertexBuffer&&H.deleteBuffer(e.__webglVertexBuffer),void 0!==e.__webglColorBuffer&&H.deleteBuffer(e.__webglColorBuffer),void 0!==e.geometryGroups)for(var t=0,n=e.groups;t<n;t++){var r=e.geometryGroups[t];void 0!==r.__webglVertexBuffer&&H.deleteBuffer(r.__webglVertexBuffer),void 0!==r.__webglColorBuffer&&H.deleteBuffer(r.__webglColorBuffer),void 0!==r.__webglNormalBuffer&&H.deleteBuffer(r.__webglNormalBuffer),void 0!==r.__webglFaceBuffer&&H.deleteBuffer(r.__webglFaceBuffer),void 0!==r.__webglLineBuffer&&H.deleteBuffer(r.__webglLineBuffer)}},Ce=function(e){var t=e.program;if(void 0!==t){e.program=void 0;var n,r,o,a=!1;for(n=0,r=V.length;n<r;n++)if(o=V[n],o.program===t){o.usedTimes--,0===o.usedTimes&&(a=!0);break}if(a===!0){var i=[];for(n=0,r=V.length;n<r;n++)o=V[n],o.program!==t&&i.push(o);V=i,H.deleteProgram(t),U.info.memory.programs--}}},Te=function(e){if(e.image&&e.image.__webglTextureCube)H.deleteTexture(e.image.__webglTextureCube);else{if(!e.__webglInit)return;e.__webglInit=!1,H.deleteTexture(e.__webglTexture)}};this.initMaterial=function(e,t,r,o){e.addEventListener("dispose",be);var a,i;if(i=e.shaderID){var l=n.ShaderLib[i];e.vertexShader=l.vertexShader,e.fragmentShader=l.fragmentShader,e.uniforms=n.ShaderUtils.clone(l.uniforms)}a={wireframe:e.wireframe,fragdepth:e.imposter},e.program=s(e.fragmentShader,e.vertexShader,e.uniforms,a)},this.renderBuffer=function(e,o,i,s,c,u){if(s.visible){var p,f;p=l(e,o,i,s,u),f=p.attributes;var d=!1,h=s.wireframe?1:0,m=16777215*c.id+2*p.id+h;m!==Y&&(Y=m,d=!0),d&&(r(),f.position>=0&&(H.bindBuffer(H.ARRAY_BUFFER,c.__webglVertexBuffer),t(f.position),H.vertexAttribPointer(f.position,3,H.FLOAT,!1,0,0)),f.color>=0&&(H.bindBuffer(H.ARRAY_BUFFER,c.__webglColorBuffer),t(f.color),H.vertexAttribPointer(f.color,3,H.FLOAT,!1,0,0)),f.normal>=0&&(H.bindBuffer(H.ARRAY_BUFFER,c.__webglNormalBuffer),t(f.normal),H.vertexAttribPointer(f.normal,3,H.FLOAT,!1,0,0)),f.offset>=0&&(H.bindBuffer(H.ARRAY_BUFFER,c.__webglOffsetBuffer),t(f.offset),H.vertexAttribPointer(f.offset,3,H.FLOAT,!1,0,0)),f.radius>=0&&(H.bindBuffer(H.ARRAY_BUFFER,c.__webglRadiusBuffer),t(f.radius),H.vertexAttribPointer(f.radius,1,H.FLOAT,!1,0,0)));var y,g;if(u instanceof n.Mesh){if("instanced"===s.shaderID){var v=s.sphere.geometryGroups[0];d&&(H.bindBuffer(H.ARRAY_BUFFER,c.__webglVertexBuffer),H.bufferData(H.ARRAY_BUFFER,v.vertexArray,H.STATIC_DRAW),H.bindBuffer(H.ARRAY_BUFFER,c.__webglNormalBuffer),H.bufferData(H.ARRAY_BUFFER,v.normalArray,H.STATIC_DRAW),H.bindBuffer(H.ELEMENT_ARRAY_BUFFER,c.__webglFaceBuffer),H.bufferData(H.ELEMENT_ARRAY_BUFFER,v.faceArray,H.STATIC_DRAW)),y=v.faceidx,me.vertexAttribDivisorANGLE(f.offset,1),me.vertexAttribDivisorANGLE(f.radius,1),me.vertexAttribDivisorANGLE(f.color,1),me.drawElementsInstancedANGLE(H.TRIANGLES,y,H.UNSIGNED_SHORT,0,c.radiusArray.length),me.vertexAttribDivisorANGLE(f.offset,0),me.vertexAttribDivisorANGLE(f.radius,0),me.vertexAttribDivisorANGLE(f.color,0)}else s.wireframe?(g=c.lineidx,a(s.wireframeLinewidth),d&&H.bindBuffer(H.ELEMENT_ARRAY_BUFFER,c.__webglLineBuffer),H.drawElements(H.LINES,g,H.UNSIGNED_SHORT,0)):(y=c.faceidx,d&&H.bindBuffer(H.ELEMENT_ARRAY_BUFFER,c.__webglFaceBuffer),H.drawElements(H.TRIANGLES,y,H.UNSIGNED_SHORT,0));U.info.render.calls++,U.info.render.vertices+=y,U.info.render.faces+=y/3}else u instanceof n.Line&&(g=c.vertices,a(s.linewidth),H.drawArrays(H.LINES,0,g),U.info.render.calls++)}},this.render=function(e,t,r){if(t instanceof n.Camera==!1)return void console.error("$3Dmol.Renderer.render: camera is not an instance of $3Dmol.Camera.");var o,a,i,s,l,c=e.__lights,f=e.fog;for($=-1,de=!0,this.autoUpdateScene&&e.updateMatrixWorld(),void 0===t.parent&&t.updateMatrixWorld(),t.matrixWorldInverse.getInverse(t.matrixWorld),ue.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this.autoUpdateObjects&&this.initWebGLObjects(e),U.info.render.calls=0,U.info.render.vertices=0,U.info.render.faces=0,U.info.render.points=0,se=ae,le=ie,(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),l=e.__webglObjects,o=0,a=l.length;o<a;o++)i=l[o],s=i.object,i.render=!1,s.visible&&(T(s,t),g(i),i.render=!0);var d=null;this.setBlending(!1),u(e.__webglObjects,!0,"opaque",t,c,f,!1,d),u(e.__webglObjects,!0,"blank",t,c,f,!0,d),u(e.__webglObjects,!1,"transparent",t,c,f,!0,d),p(this.renderPluginsPost,e,t),this.setDepthTest(!0),this.setDepthWrite(!0)},this.initWebGLObjects=function(e){if(e.__webglObjects||(e.__webglObjects=[],e.__webglObjectsImmediate=[],e.__webglSprites=[],e.__webglFlares=[]),e.__objectsAdded.length){for(;e.__objectsAdded.length;)f(e.__objectsAdded[0],e),e.__objectsAdded.splice(0,1);Y=-1}for(;e.__objectsRemoved.length;)h(e.__objectsRemoved[0],e),e.__objectsRemoved.splice(0,1);for(var t=0,n=e.__webglObjects.length;t<n;t++)d(e.__webglObjects[t].object)},this.setTexture=function(e,t){if(e.needsUpdate){e.__webglInit||(e.__webglInit=!0,e.addEventListener("dispose",ve),e.__webglTexture=H.createTexture(),U.info.memory.textures++),H.activeTexture(H.TEXTURE0+t),H.bindTexture(H.TEXTURE_2D,e.__webglTexture),H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,e.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,e.unpackAlignment);var n=e.image,r=S(n.width)&&S(n.height),o=k(e.format),a=k(e.type);A(H.TEXTURE_2D,e,r);var i,s=e.mipmaps;if(s.length>0&&r){for(var l=0,c=s.length;l<c;l++)i=s[l],H.texImage2D(H.TEXTURE_2D,l,o,o,a,i);e.generateMipmaps=!1}else H.texImage2D(H.TEXTURE_2D,0,o,o,a,e.image);e.generateMipmaps&&r&&H.generateMipmap(H.TEXTURE_2D),e.needsUpdate=!1,e.onUpdate&&e.onUpdate()}else H.activeTexture(H.TEXTURE0+t),H.bindTexture(H.TEXTURE_2D,e.__webglTexture)},this.addPostPlugin(new n.SpritePlugin)},n.Scene=function(){n.Object3D.call(this),this.fog=null,this.overrideMaterial=null,this.matrixAutoUpdate=!1,this.__objects=[],this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]},n.Scene.prototype=Object.create(n.Object3D.prototype),
n.Scene.prototype.__addObject=function(e){if(e instanceof n.Light)this.__lights.indexOf(e)===-1&&this.__lights.push(e),e.target&&void 0===e.target.parent&&this.add(e.target);else if(this.__objects.indexOf(e)===-1){this.__objects.push(e),this.__objectsAdded.push(e);var t=this.__objectsRemoved.indexOf(e);t!==-1&&this.__objectsRemoved.splice(r,1)}for(var r=0;r<e.children.length;r++)this.__addObject(e.children[r])},n.Scene.prototype.__removeObject=function(e){var t;if(e instanceof n.Light)t=this.__lights.indexOf(e),t!==-1&&this.__lights.splice(t,1);else if(t=this.__objects.indexOf(e),t!==-1){this.__objects.splice(t,1),this.__objectsRemoved.push(e);var r=this.__objectsAdded.indexOf(e);r!==-1&&this.__objectsAdded.splice(t,1)}for(var o=0;o<e.children.length;o++)this.__removeObject(e.children[o])},n.Fog=function(e,t,r){this.name="",this.color=new n.Color(e),this.near=void 0!==t?t:1,this.far=void 0!==r?r:1e3},n.Fog.prototype.clone=function(){return new n.Fog(this.color.getHex(),this.near,this.far)},n.ShaderUtils={clone:function(e){var t,r={};for(t in e){r[t]={},r[t].type=e[t].type;var o=e[t].value;o instanceof n.Color?r[t].value=o.clone():"number"==typeof o?r[t].value=o:o instanceof Array?r[t].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return r},stickimposterFragmentShader:["uniform float opacity;","uniform mat4 projectionMatrix;","uniform vec3 fogColor;","uniform float fogNear;","uniform float fogFar;","varying vec3 vLight;","varying vec3 vColor;","varying vec3 cposition;","varying vec3 p1;","varying vec3 p2;","varying float r;","void main() {","    vec3 color = abs(vColor);","    vec3 pos = cposition;","    vec3 p = pos;","    vec3 v = normalize(pos);","    vec3 pa = p1;","    vec3 va = normalize(p2-p1);","    vec3 tmp1 = v-(dot(v,va)*va);","    vec3 deltap = p-pa;","    float A = dot(tmp1,tmp1);","    if(A == 0.0) discard;","    vec3 tmp2 = deltap-(dot(deltap,va)*va);","    float B = 2.0*dot(tmp1, tmp2);","    float C = dot(tmp2,tmp2)-r*r;","    float det = (B*B) - (4.0*A*C);","    if(det < 0.0) discard;","    float sqrtDet = sqrt(det);","    float posT = (-B+sqrtDet)/(2.0*A);","    float negT = (-B-sqrtDet)/(2.0*A);","    float intersectionT = min(posT,negT);","    vec3 qi = p+v*intersectionT;","    float dotp1 = dot(va,qi-p1);","    float dotp2 = dot(va,qi-p2);","    vec3 norm;","    if( dotp1 < 0.0 || dotp2 > 0.0) {","       vec3 cp;","       if( dotp1 < 0.0) {        cp = p1;","       } else {","          cp = p2;","       }","       vec3 diff = p-cp;","       A = dot(v,v);","       B = dot(diff,v)*2.0;","       C = dot(diff,diff)-r*r;","       det = (B*B) - (4.0*C);","       if(det < 0.0) discard;","       sqrtDet = sqrt(det);","       posT = (-B+sqrtDet)/(2.0);","       negT = (-B-sqrtDet)/(2.0);","       float t = min(posT,negT);","       qi = p+v*t;","       norm = normalize(qi-cp);","    } else {","       norm = normalize(qi-(dotp1*va + p1));","    }","    vec4 clipPos = projectionMatrix * vec4(qi, 1.0);","    float ndcDepth = clipPos.z / clipPos.w;","    float depth = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;","    gl_FragDepthEXT = depth;"].join("\n")},n.ShaderLib={basic:{fragmentShader:["uniform mat4 viewMatrix;","uniform float opacity;","uniform vec3 fogColor;","uniform float fogNear;","uniform float fogFar;","varying vec3 vColor;","void main() {","    gl_FragColor = vec4( vColor, opacity );","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep( fogNear, fogFar, depth );","    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}"].join("\n"),vertexShader:["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","attribute vec3 position;","attribute vec3 color;","varying vec3 vColor;","void main() {","    vColor = color;","    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","    gl_Position = projectionMatrix * mvPosition;","}"].join("\n"),uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3}}},sphereimposter:{fragmentShader:["uniform mat4 viewMatrix;","uniform float opacity;","uniform mat4 projectionMatrix;","uniform vec3 fogColor;","uniform float fogNear;","uniform float fogFar;","uniform float uDepth;","uniform vec3 directionalLightColor[ 1 ];","varying vec3 vColor;","varying vec2 mapping;","varying float rval;","varying vec3 vLight;","varying vec3 center;","void main() {","    float lensqr = dot(mapping,mapping);","    float rsqr = rval*rval;","    if(lensqr > rsqr)","       discard;","    float z = sqrt(rsqr-lensqr);","    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z);","    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);","    float ndcDepth = clipPos.z / clipPos.w;","    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;","    vec3 norm = normalize(vec3(mapping.x,mapping.y,z));","    float dotProduct = dot( norm, vLight );","    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );","    vec3 vLight = directionalLightColor[ 0 ] * directionalLightWeighting;","    gl_FragColor = vec4(vLight*vColor, opacity*opacity );","    float fogFactor = smoothstep( fogNear, fogFar, gl_FragDepthEXT/gl_FragCoord.w );","    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}"].join("\n"),vertexShader:["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 directionalLightColor[ 1 ];","uniform vec3 directionalLightDirection[ 1 ];","attribute vec3 position;","attribute vec3 normal;","attribute vec3 color;","varying vec2 mapping;","varying vec3 vColor;","varying float rval;","varying vec3 vLight;","varying vec3 center;","void main() {","    vColor = color;","    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","    center = mvPosition.xyz;","    vec4 projPosition = projectionMatrix * mvPosition;","    vec4 adjust = projectionMatrix* vec4(normal,0.0); adjust.z = 0.0; adjust.w = 0.0;","    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );","    vLight = normalize( lDirection.xyz );","    mapping = normal.xy;","    rval = abs(normal.x);","    gl_Position = projPosition+adjust;","}"].join("\n"),uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},lambert:{fragmentShader:["uniform mat4 viewMatrix;","uniform float opacity;","uniform vec3 fogColor;","uniform float fogNear;","uniform float fogFar;","varying vec3 vLightFront;","varying vec3 vColor;","void main() {","    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );","    #ifndef WIREFRAME","    gl_FragColor.xyz *= vLightFront;","    #endif","    gl_FragColor = gl_FragColor * vec4( vColor, opacity );","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep( fogNear, fogFar, depth );","    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}"].join("\n"),vertexShader:["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 directionalLightColor[ 1 ];","uniform vec3 directionalLightDirection[ 1 ];","attribute vec3 position;","attribute vec3 normal;","attribute vec3 color;","varying vec3 vColor;","varying vec3 vLightFront;","void main() {","    vColor = color;","    vec3 objectNormal = normal;","    vec3 transformedNormal = normalMatrix * objectNormal;","    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","    vLightFront = vec3( 0.0 );","    transformedNormal = normalize( transformedNormal );","    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );","    vec3 dirVector = normalize( lDirection.xyz );","    float dotProduct = dot( transformedNormal, dirVector );","    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );","    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;","    gl_Position = projectionMatrix * mvPosition;","}"].join("\n"),uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},instanced:{fragmentShader:["uniform mat4 viewMatrix;","uniform float opacity;","uniform vec3 fogColor;","uniform float fogNear;","uniform float fogFar;","varying vec3 vLightFront;","varying vec3 vColor;","void main() {","    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );","    #ifndef WIREFRAME","    gl_FragColor.xyz *= vLightFront;","    #endif","    gl_FragColor = gl_FragColor * vec4( vColor, opacity );","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep( fogNear, fogFar, depth );","    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}"].join("\n"),vertexShader:["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 directionalLightColor[ 1 ];","uniform vec3 directionalLightDirection[ 1 ];","attribute vec3 offset;","attribute vec3 position;","attribute vec3 normal;","attribute vec3 color;","attribute float radius;","varying vec3 vColor;","varying vec3 vLightFront;","void main() {","    vColor = color;","    vec3 objectNormal = normal;","    vec3 transformedNormal = normalMatrix * objectNormal;","    vec4 mvPosition = modelViewMatrix * vec4( position * radius + offset, 1.0 );","    vLightFront = vec3( 0.0 );","    transformedNormal = normalize( transformedNormal );","    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );","    vec3 dirVector = normalize( lDirection.xyz );","    float dotProduct = dot( transformedNormal, dirVector );","    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );","    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;","    gl_Position = projectionMatrix * mvPosition;","}"].join("\n"),uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},outline:{fragmentShader:["uniform float opacity;","uniform vec3 outlineColor;","uniform vec3 fogColor;","uniform float fogNear;","uniform float fogFar;","void main() {","    gl_FragColor = vec4( outlineColor, 1 );","}"].join("\n"),vertexShader:["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float outlineWidth;","uniform float outlinePushback;","attribute vec3 position;","attribute vec3 normal;","attribute vec3 color;","void main() {","    vec4 norm = modelViewMatrix*vec4(normalize(normal),0.0);","    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","    mvPosition.xy += norm.xy*outlineWidth;","    gl_Position = projectionMatrix * mvPosition;","    mvPosition.z -= outlinePushback;","    vec4 pushpos = projectionMatrix*mvPosition;","    gl_Position.z = gl_Position.w*pushpos.z/pushpos.w;","}"].join("\n"),uniforms:{opacity:{type:"f",value:1},outlineColor:{type:"c",value:new n.Color(0,0,0)},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},sphereimposteroutline:{fragmentShader:["uniform float opacity;","uniform vec3 outlineColor;","uniform vec3 fogColor;","uniform float fogNear;","uniform float fogFar;","uniform mat4 projectionMatrix;","varying vec2 mapping;","varying float rval;","varying vec3 center;","uniform float outlinePushback;","void main() {","    float lensqr = dot(mapping,mapping);","    float rsqr = rval*rval;","    if(lensqr > rsqr)","       discard;","    float z = sqrt(rsqr-lensqr);","    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z-outlinePushback);","    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);","    float ndcDepth = clipPos.z / clipPos.w;","    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;","    gl_FragColor = vec4(outlineColor, 1 );","}"].join("\n"),vertexShader:["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float outlineWidth;","uniform float outlinePushback;","attribute vec3 position;","attribute vec3 normal;","attribute vec3 color;","varying vec2 mapping;","varying float rval;","varying vec3 center;","void main() {","    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","    center = mvPosition.xyz;","    vec4 projPosition = projectionMatrix * mvPosition;","    vec2 norm = normal.xy + vec2(sign(normal.x)*outlineWidth,sign(normal.y)*outlineWidth);","    vec4 adjust = projectionMatrix* vec4(norm,normal.z,0.0); adjust.z = 0.0; adjust.w = 0.0;","    mapping = norm.xy;","    rval = abs(norm.x);","    gl_Position = projPosition+adjust;","}"].join("\n"),uniforms:{opacity:{type:"f",value:1},outlineColor:{type:"c",value:new n.Color(0,0,0)},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},stickimposter:{fragmentShader:[n.ShaderUtils.stickimposterFragmentShader,"    float dotProduct = dot( norm, vLight );","    vec3 light = vec3( max( dotProduct, 0.0 ) );","    gl_FragColor = vec4(light*color, opacity*opacity );","    float fogFactor = smoothstep( fogNear, fogFar, depth );","    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}"].join("\n"),vertexShader:["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 directionalLightColor[ 1 ];","uniform vec3 directionalLightDirection[ 1 ];","attribute vec3 position;","attribute vec3 normal;","attribute vec3 color;","attribute float radius;","varying vec3 vColor;","varying vec3 vLight;","varying vec3 cposition;","varying vec3 p1;","varying vec3 p2;","varying float r;","void main() {","    vColor = color; vColor.z = abs(vColor.z);","    r = abs(radius);","    vec4 to = modelViewMatrix*vec4(normal, 1.0);","    vec4 pt = modelViewMatrix*vec4(position, 1.0);","    vec4 mvPosition = pt;","    p1 = pt.xyz; p2 = to.xyz;","    vec3 norm = to.xyz-pt.xyz;","    float mult = 1.1;","    if(length(p1) > length(p2)) {","       mvPosition = to;","    }","    vec3 n = normalize(mvPosition.xyz);","    if(color.z >= 0.0) {","       vec3 pnorm = normalize(p1);","       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);","       mvPosition.xyz = p1+t*pnorm;","    } else {","       vec3 pnorm = normalize(p2);","       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);","       mvPosition.xyz = p2+t*pnorm;","       mult *= -1.0;","    }","    vec3 cr = normalize(cross(mvPosition.xyz,norm))*radius;","    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*radius;","    mvPosition.xy +=  mult*(cr + doublecr).xy;","    cposition = mvPosition.xyz;","    gl_Position = projectionMatrix * mvPosition;","    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );","    vLight = normalize( lDirection.xyz )*directionalLightColor[0];","}"].join("\n"),uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},stickimposteroutline:{fragmentShader:n.ShaderUtils.stickimposterFragmentShader+"gl_FragColor = vec4(color,1.0);}",vertexShader:["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 directionalLightColor[ 1 ];","uniform vec3 directionalLightDirection[ 1 ];","uniform vec3 outlineColor;","uniform float outlineWidth;","uniform float outlinePushback;","attribute vec3 position;","attribute vec3 normal;","attribute vec3 color;","attribute float radius;","varying vec3 vColor;","varying vec3 vLight;","varying vec3 cposition;","varying vec3 p1;","varying vec3 p2;","varying float r;","void main() {","    vColor = outlineColor;","    float rad = radius+sign(radius)*outlineWidth;","    r = abs(rad);","    vec4 to = modelViewMatrix*vec4(normal, 1.0);","    vec4 pt = modelViewMatrix*vec4(position, 1.0);","    to.xyz += normalize(to.xyz)*outlinePushback;","    pt.xyz += normalize(pt.xyz)*outlinePushback;","    vec4 mvPosition = pt;","    p1 = pt.xyz; p2 = to.xyz;","    vec3 norm = to.xyz-pt.xyz;","    float mult = 1.1;","    if(length(p1) > length(p2)) {","       mvPosition = to;","    }","    vec3 n = normalize(mvPosition.xyz);","    if(color.z >= 0.0) {","       vec3 pnorm = normalize(p1);","       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);","       mvPosition.xyz = p1+t*pnorm;","    } else {","       vec3 pnorm = normalize(p2);","       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);","       mvPosition.xyz = p2+t*pnorm;","       mult *= -1.0;","    }","    vec3 cr = normalize(cross(mvPosition.xyz,norm))*rad;","    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*rad;","    mvPosition.xy +=  mult*(cr + doublecr).xy;","    cposition = mvPosition.xyz;","    gl_Position = projectionMatrix * mvPosition;","    vLight = vec3(1.0,1.0,1.0);","}"].join("\n"),uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineColor:{type:"c",value:new n.Color(0,0,0)},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},lambertdouble:{fragmentShader:["uniform mat4 viewMatrix;","uniform float opacity;","uniform vec3 fogColor;","uniform float fogNear;","uniform float fogFar;","varying vec3 vLightFront;","varying vec3 vLightBack;","varying vec3 vColor;","void main() {","    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );","    #ifndef WIREFRAME","    if ( gl_FrontFacing )","       gl_FragColor.xyz *= vLightFront;","    else","       gl_FragColor.xyz *= vLightBack;","    #endif","    gl_FragColor = gl_FragColor * vec4( vColor, opacity );","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep( fogNear, fogFar, depth );","    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}"].join("\n"),vertexShader:["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 directionalLightColor[ 1 ];","uniform vec3 directionalLightDirection[ 1 ];","attribute vec3 position;","attribute vec3 normal;","attribute vec3 color;","varying vec3 vColor;","varying vec3 vLightFront;","varying vec3 vLightBack;","void main() {","    vColor = color;","    vec3 objectNormal = normal;","    vec3 transformedNormal = normalMatrix * objectNormal;","    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","    vLightFront = vec3( 0.0 );","    vLightBack = vec3( 0.0 );","    transformedNormal = normalize( transformedNormal );","    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );","    vec3 dirVector = normalize( lDirection.xyz );","    float dotProduct = dot( transformedNormal, dirVector );","    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );","    vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );","    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;","    vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;","    gl_Position = projectionMatrix * mvPosition;","}"].join("\n"),uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},sprite:{fragmentShader:["uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","    vec4 texture = texture2D(map, vUV);","    if (texture.a < alphaTest) discard;","    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);","    if (fogType > 0) {","        float depth = gl_FragCoord.z / gl_FragCoord.w;","        float fogFactor = 0.0;","        if (fogType == 1) {","            fogFactor = smoothstep(fogNear, fogFar, depth);","        }","        else {","            const float LOG2 = 1.442695;","            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);","            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);","        }","        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);","    }","}"].join("\n"),vertexShader:["uniform int useScreenCoordinates;","uniform vec3 screenPosition;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 alignment;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","    vUV = uvOffset + uv * uvScale;","    vec2 alignedPosition = position + alignment;","    vec2 rotatedPosition;","    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;","    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;","    vec4 finalPosition;","    if(useScreenCoordinates != 0) {","        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);","    }","    else {","        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0); finalPosition /= finalPosition.w;","        finalPosition.xy += rotatedPosition; ","    }","    gl_Position = finalPosition;","}"].join("\n"),uniforms:{}}},"undefined"==typeof console&&(console={log:function(){}}),n.ProteinSurface=function(){var e,t,r,o=1,a=2,s=4,l=0,c=0,u=0,p=1.4,f=2,d=f,h=0,m=0,y=0,g=0,v=null,b=null,w=null,C=0,T=0,S=0,x=0,A=0,E=0,M={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},_=function(e){return e.elem&&"undefined"!=typeof M[e.elem]?e.elem:"X"},P={},O={},I=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];this.getFacesAndVertices=function(n){var r,o,a={};for(r=0,o=n.length;r<o;r++)a[n[r]]=!0;var i=t;for(r=0,o=i.length;r<o;r++)i[r].x=i[r].x/d-l,i[r].y=i[r].y/d-c,i[r].z=i[r].z/d-u;var s=[];for(r=0,o=e.length;r<o;r+=3){var p=e[r],f=e[r+1],h=e[r+2],m=i[p].atomid,y=i[f].atomid,g=i[h].atomid,C=m;if(y<C&&(C=y),g<C&&(C=g),a[C]){i[e[r]],i[e[r+1]],i[e[r+2]];p!==f&&f!==h&&p!==h&&(s.push(p),s.push(f),s.push(h))}}return v=null,b=null,w=null,{vertices:i,faces:s}},this.initparm=function(e,t,n){n>1e6&&(d=f/2);var o=1/d*5.5;r=e,C=e[0][0],x=e[1][0],T=e[0][1],A=e[1][1],S=e[0][2],E=e[1][2],t?(C-=p+o,T-=p+o,S-=p+o,x+=p+o,A+=p+o,E+=p+o):(C-=o,T-=o,S-=o,x+=o,A+=o,E+=o),C=Math.floor(C*d)/d,T=Math.floor(T*d)/d,S=Math.floor(S*d)/d,x=Math.ceil(x*d)/d,A=Math.ceil(A*d)/d,E=Math.ceil(E*d)/d,l=-C,c=-T,u=-S,y=Math.ceil(d*(x-C))+1,m=Math.ceil(d*(A-T))+1,h=Math.ceil(d*(E-S))+1,this.boundingatom(t),g=p*d,v=new Uint8Array(y*m*h),b=new Float64Array(y*m*h),w=new Int32Array(y*m*h)},this.boundingatom=function(e){var t,n,r,o=[];flagradius=e;for(var a in M)if(M.hasOwnProperty(a)){var i=M[a];for(e?o[a]=(i+p)*d+.5:o[a]=i*d+.5,r=o[a]*o[a],O[a]=Math.floor(o[a])+1,P[a]=new Int32Array(O[a]*O[a]),indx=0,j=0;j<O[a];j++)for(k=0;k<O[a];k++)t=j*j+k*k,t>r?P[a][indx]=-1:(n=Math.sqrt(r-t),P[a][indx]=Math.floor(n)),indx++}},this.fillvoxels=function(e,t){var n,r;for(n=0,r=v.length;n<r;n++)v[n]=0,b[n]=-1,w[n]=-1;for(n in t){var i=e[t[n]];void 0!==i&&this.fillAtom(i,e)}for(n=0,r=v.length;n<r;n++)v[n]&o&&(v[n]|=a)},this.fillAtom=function(e,t){var n,r,a,i,s,p,f,g,b,C,T,S,x,A,k,E,M,I,R;n=Math.floor(.5+d*(e.x+l)),r=Math.floor(.5+d*(e.y+c)),a=Math.floor(.5+d*(e.z+u));var L=_(e),j=0,D=m*h;for(C=0,R=O[L];C<R;C++)for(T=0;T<R;T++){if(P[L][j]!=-1)for(E=-1;E<2;E++)for(M=-1;M<2;M++)for(I=-1;I<2;I++)if(0!==E&&0!==M&&0!==I)for(f=E*C,b=I*T,S=0;S<=P[L][j];S++)if(g=S*M,x=n+f,A=r+g,k=a+b,!(x<0||A<0||k<0||x>=y||A>=m||k>=h)){var N=x*D+A*h+k;if(v[N]&o){var G=t[w[N]];G.serial!=e.serial&&(i=n+f-Math.floor(.5+d*(G.x+l)),s=r+g-Math.floor(.5+d*(G.y+c)),p=a+b-Math.floor(.5+d*(G.z+u)),f*f+g*g+b*b<i*i+s*s+p*p&&(w[N]=e.serial))}else v[N]|=o,w[N]=e.serial}j++}},this.fillvoxelswaals=function(e,t){var n,r;for(n=0,r=v.length;n<r;n++)v[n]&=-3;for(n in t){var o=e[t[n]];void 0!==o&&this.fillAtomWaals(o,e)}},this.fillAtomWaals=function(e,t){var n,r,o,i,s,p,f,g,b,C,T,S,x,A,k,E,M,I,R,L=0;n=Math.floor(.5+d*(e.x+l)),r=Math.floor(.5+d*(e.y+c)),o=Math.floor(.5+d*(e.z+u));var j=_(e),D=m*h;for(x=0,R=O[j];x<R;x++)for(A=0;A<R;A++){if(P[j][L]!=-1)for(E=-1;E<2;E++)for(M=-1;M<2;M++)for(I=-1;I<2;I++)if(0!==E&&0!==M&&0!==I)for(f=E*x,b=I*A,k=0;k<=P[j][L];k++)if(g=k*M,C=n+f,T=r+g,S=o+b,!(C<0||T<0||S<0||C>=y||T>=m||S>=h)){var N=C*D+T*h+S;if(v[N]&a){var G=t[w[N]];G.serial!=e.serial&&(i=n+f-Math.floor(.5+d*(G.x+l)),s=r+g-Math.floor(.5+d*(G.y+c)),p=o+b-Math.floor(.5+d*(G.z+u)),f*f+g*g+b*b<i*i+s*s+p*p&&(w[N]=e.serial))}else v[N]|=a,w[N]=e.serial}L++}},this.buildboundary=function(){var e=m*h;for(i=0;i<y;i++)for(j=0;j<h;j++)for(k=0;k<m;k++){var t=i*e+k*h+j;if(v[t]&o)for(var n=0;n<26;){var r=i+I[n][0],a=j+I[n][2],l=k+I[n][1];if(r>-1&&r<y&&l>-1&&l<m&&a>-1&&a<h&&!(v[r*e+l*h+a]&o)){v[t]|=s;break}n++}}};var R=function(e,t,n){var r=new Int32Array(e*t*n*3);this.set=function(e,o,a,i){var s=3*((e*t+o)*n+a);r[s]=i.ix,r[s+1]=i.iy,r[s+2]=i.iz},this.get=function(e,o,a){var i=3*((e*t+o)*n+a);return{ix:r[i],iy:r[i+1],iz:r[i+2]}}};this.fastdistancemap=function(){var e,t,n,r,i,l=new R(y,m,h),c=m*h,u=g*g,p=[],f=[];for(e=0;e<y;e++)for(t=0;t<m;t++)for(n=0;n<h;n++)if(i=e*c+t*h+n,v[i]&=-3,v[i]&o&&v[i]&s){var w={ix:e,iy:t,iz:n};l.set(e,t,n,w),p.push(w),b[i]=0,v[i]|=a,v[i]&=-5}do for(f=this.fastoneshell(p,l),p=[],e=0,r=f.length;e<r;e++)i=c*f[e].ix+h*f[e].iy+f[e].iz,v[i]&=-5,b[i]<=1.0404*u&&p.push({ix:f[e].ix,iy:f[e].iy,iz:f[e].iz});while(0!==p.length);p=[],f=[],l=null;var C=d-.5;C<0&&(C=0);var T=u-.5/(.1+C);for(e=0;e<y;e++)for(t=0;t<m;t++)for(n=0;n<h;n++)i=e*c+t*h+n,v[i]&=-5,v[i]&o&&(v[i]&a&&!(v[i]&a&&b[i]>=T)||(v[i]|=s))},this.fastoneshell=function(e,t){var n,r,i,l,c,u,p,f,d,g,w,C,T=[];if(0===e.length)return T;tnv={ix:-1,iy:-1,iz:-1};var S=m*h;for(p=0,d=e.length;p<d;p++)for(n=e[p].ix,r=e[p].iy,i=e[p].iz,w=t.get(n,r,i),f=0;f<6;f++)tnv.ix=n+I[f][0],tnv.iy=r+I[f][1],tnv.iz=i+I[f][2],tnv.ix<y&&tnv.ix>-1&&tnv.iy<m&&tnv.iy>-1&&tnv.iz<h&&tnv.iz>-1&&(C=tnv.ix*S+h*tnv.iy+tnv.iz,v[C]&o&&!(v[C]&a)?(t.set(tnv.ix,tnv.iy,i+I[f][2],w),l=tnv.ix-w.ix,c=tnv.iy-w.iy,u=tnv.iz-w.iz,g=l*l+c*c+u*u,b[C]=g,v[C]|=a,v[C]|=s,T.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):v[C]&o&&v[C]&a&&(l=tnv.ix-w.ix,c=tnv.iy-w.iy,u=tnv.iz-w.iz,g=l*l+c*c+u*u,g<b[C]&&(t.set(tnv.ix,tnv.iy,tnv.iz,w),b[C]=g,v[C]&s||(v[C]|=s,T.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));for(p=0,d=e.length;p<d;p++)for(n=e[p].ix,r=e[p].iy,i=e[p].iz,w=t.get(n,r,i),f=6;f<18;f++)tnv.ix=n+I[f][0],tnv.iy=r+I[f][1],tnv.iz=i+I[f][2],tnv.ix<y&&tnv.ix>-1&&tnv.iy<m&&tnv.iy>-1&&tnv.iz<h&&tnv.iz>-1&&(C=tnv.ix*S+h*tnv.iy+tnv.iz,v[C]&o&&!(v[C]&a)?(t.set(tnv.ix,tnv.iy,i+I[f][2],w),l=tnv.ix-w.ix,c=tnv.iy-w.iy,u=tnv.iz-w.iz,g=l*l+c*c+u*u,b[C]=g,v[C]|=a,v[C]|=s,T.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):v[C]&o&&v[C]&a&&(l=tnv.ix-w.ix,c=tnv.iy-w.iy,u=tnv.iz-w.iz,g=l*l+c*c+u*u,g<b[C]&&(t.set(tnv.ix,tnv.iy,tnv.iz,w),b[C]=g,v[C]&s||(v[C]|=s,T.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));for(p=0,d=e.length;p<d;p++)for(n=e[p].ix,r=e[p].iy,i=e[p].iz,w=t.get(n,r,i),f=18;f<26;f++)tnv.ix=n+I[f][0],tnv.iy=r+I[f][1],tnv.iz=i+I[f][2],tnv.ix<y&&tnv.ix>-1&&tnv.iy<m&&tnv.iy>-1&&tnv.iz<h&&tnv.iz>-1&&(C=tnv.ix*S+h*tnv.iy+tnv.iz,v[C]&o&&!(v[C]&a)?(t.set(tnv.ix,tnv.iy,i+I[f][2],w),l=tnv.ix-w.ix,c=tnv.iy-w.iy,u=tnv.iz-w.iz,g=l*l+c*c+u*u,b[C]=g,v[C]|=a,v[C]|=s,T.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):v[C]&o&&v[C]&a&&(l=tnv.ix-w.ix,c=tnv.iy-w.iy,u=tnv.iz-w.iz,g=l*l+c*c+u*u,g<b[C]&&(t.set(tnv.ix,tnv.iy,tnv.iz,w),b[C]=g,v[C]&s||(v[C]|=s,T.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));return T},this.marchingcubeinit=function(e){for(var t=0,n=v.length;t<n;t++)1==e?v[t]&=-5:4==e?(v[t]&=-3,v[t]&s&&(v[t]|=a),v[t]&=-5):2==e?v[t]&s&&v[t]&a?v[t]&=-5:v[t]&s&&!(v[t]&a)&&(v[t]|=a):3==e&&(v[t]&=-5)};this.marchingcube=function(r){this.marchingcubeinit(r),t=[],e=[],n.MarchingCube.march(v,t,e,{smooth:1,nX:y,nY:m,nZ:h});for(var o=m*h,a=0,i=t.length;a<i;a++)t[a].atomid=w[t[a].x*o+h*t[a].y+t[a].z];n.MarchingCube.laplacianSmooth(1,t,e)}},n.autoload=function(e){if(void 0!==$(".viewer_3Dmoljs")[0]&&(n.autoinit=!0),n.autoinit){e=void 0!=e?e:null,n.viewers={};var t=0;$(".viewer_3Dmoljs").each(function(){var r=$(this),o=[];"static"==r.css("position")&&r.css("position","relative");var a="function"==typeof window[r.data("callback")]?window[r.data("callback")]:null,i=null;r.data("pdb")?(o.push("https://files.rcsb.org/view/"+r.data("pdb")+".pdb"),i="pdb"):r.data("cid")?(i="sdf",o.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+r.data("cid")+"/SDF?record_type=3d")):r.data("href")&&o.push(r.data("href"));var s=r.data();for(var l in s)"pdb"===l.substring(0,3)&&"pdb"!==l?o.push("https://files.rcsb.org/view/"+s[l]+".pdb"):"href"===l.substring(0,4)&&"href"!==l?o.push(s[l]):"cid"===l.substring(0,3)&&"cid"!==l&&o.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+s[l]+"/SDF?record_type=3d");var c={};r.data("options")&&(c=n.specStringToObject(r.data("options")));var u=n.CC.color(r.data("backgroundcolor")),p={line:{}};r.data("style")&&(p=n.specStringToObject(r.data("style")));var f={};r.data("select")&&(f=n.specStringToObject(r.data("select")));var d=[],h=[],m=[],y=r.data(),g=/style(.+)/,v=/surface(.*)/,b=/labelres(.*)/,w=[];for(var C in y)y.hasOwnProperty(C)&&w.push(C);w.sort();for(var l=0;l<w.length;l++){var C=w[l],T=g.exec(C);if(T){var S="select"+T[1],x=n.specStringToObject(y[S]),A=n.specStringToObject(y[C]);d.push([x,A])}if(T=v.exec(C)){var S="select"+T[1],x=n.specStringToObject(y[S]),A=n.specStringToObject(y[C]);h.push([x,A])}if(T=b.exec(C)){var S="select"+T[1],x=n.specStringToObject(y[S]),A=n.specStringToObject(y[C]);m.push([x,A])}}var k=function(e){e.setStyle(f,p);for(var t=0;t<d.length;t++){var r=d[t][0]||{},o=d[t][1]||{line:{}};e.setStyle(r,o)}for(var t=0;t<h.length;t++){var r=h[t][0]||{},o=h[t][1]||{};e.addSurface(n.SurfaceType.VDW,o,r,r)}for(var t=0;t<m.length;t++){var r=m[t][0]||{},o=m[t][1]||{};e.addResLabels(r,o)}e.zoomTo(),e.render()},E=e;try{null==E&&(E=n.viewers[this.id||t++]=n.createViewer(r,{defaultcolors:n.rasmolElementColors})),E.setBackgroundColor(u)}catch(e){console.log(e),window.location="http://get.webgl.org"}if(0!=o.length)for(var l=0;l<o.length;l++)val=l,uri=o[l],i=r.data("type")||r.data("datatype")||i,i||(i=uri.substr(uri.lastIndexOf(".")+1)),$.get(uri,function(e){E.addModel(e,i,c),k(E),a&&val==o.length-1&&a(E)},"text");else{if(r.data("element")){var M=$("#"+r.data("element")).val()||"",i=r.data("type")||r.data("datatype");i||(console.log("Warning: No type specified for embedded viewer with moldata from "+r.data("element")+"\n assuming type 'pdb'"),
i="pdb"),E.addModel(M,i,c)}k(E),a&&a(E)}})}},$(document).ready(function(){n.autoload()}),n.CC={cache:{0:new n.Color(0)},color:function e(t){if(!t)return this.cache[0];if("undefined"!=typeof this.cache[t])return this.cache[t];if(t&&t.constructor===Array)return t.map(e,this);if(t=this.getHex(t),"number"==typeof t){var r=new n.Color(t);return this.cache[t]=r,r}return t},colorTab:{white:16777215,silver:12632256,gray:8421504,grey:8421504,black:0,red:16711680,maroon:8388608,yellow:16776960,orange:16737792,olive:8421376,lime:65280,green:32768,aqua:65535,cyan:65535,teal:32896,blue:255,navy:128,fuchsia:16711935,magenta:16711935,purple:8388736},getHex:function(e){return isNaN(parseInt(e))?"string"==typeof e?(e=e.trim(),4==e.length&&"#"==e[0]&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),7==e.length&&"#"==e[0]?parseInt(e.substring(1),16):this.colorTab[e.toLowerCase()]||0):e:parseInt(e)}},n.CC=n.CC,n.CC.color=n.CC.color,n.ssColors=n.ssColors||{},n.ssColors.pyMol={h:16711680,s:16776960,c:65280},n.ssColors.Jmol={h:16711808,s:16762880,c:16777215},n.elementColors=n.elementColors||{},n.elementColors.defaultColor=16716947,n.elementColors.Jmol={H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578e4,SI:1578e4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ca:4062976,CA:4062976,Ti:12567239,TI:12567239,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Br:10889513,BR:10889513,Ag:12632256,AG:12632256,I:9699476,Ba:51456,BA:51456,Au:16765219,AU:16765219},n.elementColors.rasmol={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,Ba:16753920,BA:16753920,Au:14329120,AU:14329120},n.elementColors.defaultColors=n.elementColors.rasmol,n.elementColors.greenCarbon=$.extend({},n.elementColors.defaultColors),n.elementColors.greenCarbon.C=65280,n.elementColors.cyanCarbon=$.extend({},n.elementColors.defaultColors),n.elementColors.cyanCarbon.C=65535,n.elementColors.magentaCarbon=$.extend({},n.elementColors.defaultColors),n.elementColors.magentaCarbon.C=16711935,n.elementColors.yellowCarbon=$.extend({},n.elementColors.defaultColors),n.elementColors.yellowCarbon.C=16776960,n.elementColors.whiteCarbon=$.extend({},n.elementColors.defaultColors),n.elementColors.whiteCarbon.C=16777215,n.elementColors.orangeCarbon=$.extend({},n.elementColors.defaultColors),n.elementColors.orangeCarbon.C=16737792,n.elementColors.purpleCarbon=$.extend({},n.elementColors.defaultColors),n.elementColors.purpleCarbon.C=8388736,n.elementColors.blueCarbon=$.extend({},n.elementColors.defaultColors),n.elementColors.blueCarbon.C=255,n.residues={},n.residues.amino={Ala:13158600,Arg:1334015,Asn:56540,Asp:15075850,Cys:15132160,Gln:56540,Glu:15075850,Gly:15461355,His:8553170,Ile:1016335,Leu:1016335,Lys:1334015,Met:15132160,Phe:3289770,Pro:14456450,Ser:16422400,Thr:16422400,Trp:11819700,Tyr:3289770,Val:1016335,Asx:16738740,Glx:16738740,other:12492910},n.residues.shapely={Ala:9240460,Arg:124,Asn:16743536,Asp:10485826,Cys:16777072,Gln:16731212,Glu:6684672,Gly:16777215,His:7368959,Ile:19456,Leu:4546117,Lys:4671416,Met:12099650,Phe:5459026,Pro:5395026,Ser:16740418,Thr:12078080,Trp:5195264,Tyr:9203788,Val:16747775,Asx:16711935,Glx:16711935,other:16711935},n.residues.nucleic={A:10526975,G:16740464,I:8454143,C:16747595,T:10551200,U:16744576},n.chains={},n.chains.atom={A:12636415,B:11599792,C:16761032,D:16777088,E:16761087,F:11596016,G:16765040,H:15761536,I:16113331,J:49151,K:13458524,L:6737322,M:10145074,N:15631086,O:52945,P:65407,Q:3978097,R:139,S:12433259,T:25600,U:8388608,V:8421376,W:8388736,X:32896,Y:12092939,Z:11674146},n.chains.hetatm={A:9478351,B:8441752,C:13602992,D:13619056,E:13603023,F:8437952,G:13607008,H:12603504,I:12955267,J:42959,K:11881548,L:5682578,M:9090346,N:12481214,O:46753,P:53103,Q:3447649,R:187,S:10854235,T:37888,U:11534336,V:11579392,W:11534512,X:45232,Y:15250963,Z:12726834},n.builtinColorSchemes={ssPyMol:{prop:"ss",map:n.ssColors.pyMol},ssJmol:{prop:"ss",map:n.ssColors.Jmol},Jmol:{prop:"elem",map:n.elementColors.Jmol},default:{prop:"elem",map:n.elementColors.defaultColors},greenCarbon:{prop:"elem",map:n.elementColors.greenCarbon},cyanCarbon:{prop:"elem",map:n.elementColors.cyanCarbon},magentaCarbon:{prop:"elem",map:n.elementColors.magentaCarbon},yellowCarbon:{prop:"elem",map:n.elementColors.yellowCarbon},whiteCarbon:{prop:"elem",map:n.elementColors.whiteCarbon},orangeCarbon:{prop:"elem",map:n.elementColors.orangeCarbon},purpleCarbon:{prop:"elem",map:n.elementColors.purpleCarbon},blueCarbon:{prop:"elem",map:n.elementColors.blueCarbon},amino:{prop:"resAmino",map:n.residues.amino},shapely:{prop:"resShapely",map:n.residues.shapely},nucleic:{prop:"resNucleic",map:n.residues.nucleic},chain:{prop:"chain",map:n.chains.atom},chainHetatm:{prop:"chain",map:n.chains.hetatm}},n.getColorFromStyle=function(e,t){var r=t.colorscheme;"undefined"!=typeof n.builtinColorSchemes[r]&&(r=n.builtinColorSchemes[r]);var o=e.color;if("undefined"!=typeof t.color&&"spectrum"!=t.color&&(o=t.color),"undefined"!=typeof r)if("undefined"!=typeof n.builtinColorSchemes[r])"undefined"!=typeof r[e[r.prop]]&&(o=r.map[e[r.prop]]);else if("undefined"!=typeof n.elementColors[r]){var r=n.elementColors[r];"undefined"!=typeof r[e[r.prop]]&&(o=r.map[e[r.prop]])}else if("undefined"!=typeof r[e[r.prop]])o=r.map[e[r.prop]];else if("undefined"!=typeof r.prop&&"undefined"!=typeof r.gradient){var a=r.prop,i=r.gradient;"undefined"!=typeof n.Gradient.builtinGradients[i]&&(i=new n.Gradient.builtinGradients[i](r.min,r.max,r.mid));var s=i.range()||[-1,1],l=n.getAtomProperty(e,a);null!=l&&(o=i.valueToHex(l,s))}else if("undefined"!=typeof r.prop&&"undefined"!=typeof r.map){var a=r.prop,l=n.getAtomProperty(e,a);"undefined"!=typeof r.map[l]&&(o=r.map[l])}else"undefined"!=typeof t.colorscheme[e.elem]?o=t.colorscheme[e.elem]:console.log("Could not interpret colorscheme "+r);else"undefined"!=typeof t.colorfunc&&(o=t.colorfunc(e));var c=n.CC.color(o);return c};var n=n||{};n.drawCartoon=function(){var e=5,t=5,r=.5,o=1.3,a=.8,i=.4,s=function(e,t){var r=[],o=e;o=[],o.push(e[0]);var a,i,s,l,c,u,p,f,d;for(a=1,i=e.length-1;a<i;a++)if(c=e[a],u=e[a+1],c.smoothen){var h=new n.Vector3((c.x+u.x)/2,(c.y+u.y)/2,(c.z+u.z)/2);h.atom=c.atom,o.push(h)}else o.push(c);for(o.push(e[e.length-1]),a=-1,s=o.length;a<=s-3;a++)if(l=o[a===-1?0:a],c=o[a+1],u=o[a+2],p=o[a===s-3?s-1:a+3],f=(new n.Vector3).subVectors(u,l).multiplyScalar(.5),d=(new n.Vector3).subVectors(p,c).multiplyScalar(.5),!u.skip)for(var m=0;m<t;m++){var y=1/t*m,g=c.x+y*f.x+y*y*(-3*c.x+3*u.x-2*f.x-d.x)+y*y*y*(2*c.x-2*u.x+f.x+d.x),v=c.y+y*f.y+y*y*(-3*c.y+3*u.y-2*f.y-d.y)+y*y*y*(2*c.y-2*u.y+f.y+d.y),b=c.z+y*f.z+y*y*(-3*c.z+3*u.z-2*f.z-d.z)+y*y*y*(2*c.z-2*u.z+f.z+d.z),w=new n.Vector3(g,v,b);m<t/2?w.atom=c.atom:w.atom=u.atom,r.push(w)}return r.push(o[o.length-1]),r},l=function(e,t,r,o,a,i){for(var s,l,c,u,p=0,f=t.length;p<f;p++){u=Math.round(p*(o.length-1)/f),c=n.CC.color(o[u]),geoGroup=e.updateGeoGroup(2);var d=geoGroup.vertexArray,h=geoGroup.colorArray,m=geoGroup.faceArray;s=geoGroup.vertices,l=3*s,d[l]=t[p].x,d[l+1]=t[p].y,d[l+2]=t[p].z,d[l+3]=r[p].x,d[l+4]=r[p].y,d[l+5]=r[p].z;for(var y=0;y<6;++y)h[l+3*y]=c.r,h[l+1+3*y]=c.g,h[l+2+3*y]=c.b;if(p>0){var g=[s,s+1,s-1,s-2],v=geoGroup.faceidx;m[v]=g[0],m[v+1]=g[1],m[v+2]=g[3],m[v+3]=g[1],m[v+4]=g[2],m[v+5]=g[3],geoGroup.faceidx+=6}geoGroup.vertices+=2}},c=function(e,t,r,o,a,i,c){var u,p,f,d;if(f=t.length,!(f<2||t[0].length<2)){for(o=o||axisDIV,u=0;u<f;u++)t[u]=s(t[u],o);if(d=t[0].length,!a)return l(e,t[0],t[f-1],r,o,i);var h,m,y,g,v,b,w=[],C=[],T=[];for(p=0;p<f;p++)w.push(.25+1.5*Math.sqrt((f-1)*p-Math.pow(p,2))/(f-1)),C.push(.5),T.push(2*(Math.pow(p/f,2)-p/f)+.6);var S=[];for(p=0;p<2*f-1;p++)S[p]=[p,p+1,p+1-2*f,p-2*f];S[2*f-1]=[p,p+1-2*f,p+1-4*f,p-2*f];var x,A,k,E,M,_,P,O=e.updateGeoGroup(2*f*d);for(u=0;u<d;u++){P=Math.round(u*(r.length-1)/d),_=n.CC.color(r[P]),v=y,b=g,y=[],g=[],h=[],void 0!==t[0][u].atom&&(E=t[0][u].atom,"oval"===c?m=w:"rectangle"===c?m=C:"parabola"===c&&(m=T)),m||(m=C);var I,R;for(p=0;p<f;p++)I=u<d-1?t[p][u+1].clone().sub(t[p][u]):t[p][u-1].clone().sub(t[p][u]).negate(),R=p<f-1?t[p+1][u].clone().sub(t[p][u]):t[p-1][u].clone().sub(t[p][u]).negate(),h[p]=R.cross(I).normalize().multiplyScalar(a*m[p]);for(p=0;p<f;p++)y[p]=t[p][u].clone().add(h[p].clone().negate());for(p=0;p<f;p++)g[p]=t[p][u].clone().add(h[p]);var L=O.vertexArray,j=O.colorArray,D=O.faceArray;for(x=O.vertices,A=3*x,p=0;p<f;p++)L[A+3*p+0]=y[p].x,L[A+3*p+1]=y[p].y,L[A+3*p+2]=y[p].z;for(p=0;p<f;p++)L[A+3*p+0+3*f]=g[f-1-p].x,L[A+3*p+1+3*f]=g[f-1-p].y,L[A+3*p+2+3*f]=g[f-1-p].z;for(p=0;p<2*f;++p)j[A+3*p+0]=_.r,j[A+3*p+1]=_.g,j[A+3*p+2]=_.b;if(u>0){for(p=0;p<2*f;p++){var N=[x+S[p][0],x+S[p][1],x+S[p][2],x+S[p][3]];k=O.faceidx,D[k]=N[0],D[k+1]=N[1],D[k+2]=N[3],D[k+3]=N[1],D[k+4]=N[2],D[k+5]=N[3],O.faceidx+=6}if(E.clickable){var G=[];G.push(new n.Triangle(v[0],y[0],y[f-1])),G.push(new n.Triangle(v[0],y[f-1],v[f-1])),G.push(new n.Triangle(v[f-1],y[f-1],g[f-1])),G.push(new n.Triangle(v[f-1],g[f-1],b[f-1])),G.push(new n.Triangle(g[0],b[0],b[f-1])),G.push(new n.Triangle(g[f-1],g[0],b[f-1])),G.push(new n.Triangle(y[0],v[0],b[0])),G.push(new n.Triangle(g[0],y[0],b[0]));for(p in G)E.intersectionShape.triangle.push(G[p])}}O.vertices+=2*f,M=E}var L=O.vertexArray,j=O.colorArray,D=O.faceArray;for(x=O.vertices,A=3*x,k=O.faceidx,u=0;u<f-1;u++){var N=[u,u+1,2*f-2-u,2*f-1-u];k=O.faceidx,D[k]=N[0],D[k+1]=N[1],D[k+2]=N[3],D[k+3]=N[1],D[k+4]=N[2],D[k+5]=N[3],O.faceidx+=6}for(u=0;u<f-1;u++){var N=[x-1-u,x-2-u,x-2*f+u+1,x-2*f+u];k=O.faceidx,D[k]=N[0],D[k+1]=N[1],D[k+2]=N[3],D[k+3]=N[1],D[k+4]=N[2],D[k+5]=N[3],O.faceidx+=6}}},u=function(e,t,r,o,a,i){if(!(t.length<2)){var c,u;if(c=t[0],u=t[t.length-1],o=o||axisDIV,c=s(c,o),u=s(u,o),!a)return l(e,c,u,r,o,i);var p,f,d,h,m,y,g,v,b,w,C,T,S,x,A,k,E,M,_,P=[],O=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]];for(S=0,x=c.length;S<x;S++){if(w=Math.round(S*(r.length-1)/x),b=n.CC.color(r[w]),P.push(f=c[S]),P.push(f),P.push(d=u[S]),P.push(d),S<x-1){var I=c[S+1].clone().sub(c[S]),R=u[S].clone().sub(c[S]);p=R.cross(I).normalize().multiplyScalar(a)}P.push(h=c[S].clone().add(p)),P.push(h),P.push(m=u[S].clone().add(p)),P.push(m),void 0!==f.atom&&(C=f.atom),_=e.updateGeoGroup(8);var L=_.vertexArray,j=_.colorArray,D=_.faceArray;for(y=_.vertices,g=3*y,L[g]=f.x,L[g+1]=f.y,L[g+2]=f.z,L[g+3]=f.x,L[g+4]=f.y,L[g+5]=f.z,L[g+6]=d.x,L[g+7]=d.y,L[g+8]=d.z,L[g+9]=d.x,L[g+10]=d.y,L[g+11]=d.z,L[g+12]=h.x,L[g+13]=h.y,L[g+14]=h.z,L[g+15]=h.x,L[g+16]=h.y,L[g+17]=h.z,L[g+18]=m.x,L[g+19]=m.y,L[g+20]=m.z,L[g+21]=m.x,L[g+22]=m.y,L[g+23]=m.z,A=0;A<8;++A)j[g+3*A]=b.r,j[g+1+3*A]=b.g,j[g+2+3*A]=b.b;if(S>0){var N=void 0!==T&&void 0!==C&&T.serial!==C.serial;for(A=0;A<4;A++){var G=[y+O[A][0],y+O[A][1],y+O[A][2],y+O[A][3]];if(v=_.faceidx,D[v]=G[0],D[v+1]=G[1],D[v+2]=G[3],D[v+3]=G[1],D[v+4]=G[2],D[v+5]=G[3],_.faceidx+=6,C.clickable||T.clickable){var F=P[G[3]].clone(),q=P[G[0]].clone(),B=P[G[2]].clone(),z=P[G[1]].clone();if(F.atom=P[G[3]].atom||null,B.atom=P[G[2]].atom||null,q.atom=P[G[0]].atom||null,z.atom=P[G[1]].atom||null,N){var H=F.clone().add(q).multiplyScalar(.5),U=B.clone().add(z).multiplyScalar(.5),V=F.clone().add(z).multiplyScalar(.5);A%2===0?(T.clickable&&(k=new n.Triangle(H,V,F),E=new n.Triangle(U,B,V),M=new n.Triangle(V,B,F),T.intersectionShape.triangle.push(k),T.intersectionShape.triangle.push(E),T.intersectionShape.triangle.push(M)),C.clickable&&(k=new n.Triangle(q,z,V),E=new n.Triangle(z,U,V),M=new n.Triangle(q,V,H),C.intersectionShape.triangle.push(k),C.intersectionShape.triangle.push(E),C.intersectionShape.triangle.push(M))):(C.clickable&&(k=new n.Triangle(H,V,F),E=new n.Triangle(U,B,V),M=new n.Triangle(V,B,F),C.intersectionShape.triangle.push(k),C.intersectionShape.triangle.push(E),C.intersectionShape.triangle.push(M)),T.clickable&&(k=new n.Triangle(q,z,V),E=new n.Triangle(z,U,V),M=new n.Triangle(q,V,H),T.intersectionShape.triangle.push(k),T.intersectionShape.triangle.push(E),T.intersectionShape.triangle.push(M)))}else C.clickable&&(k=new n.Triangle(q,z,F),E=new n.Triangle(z,B,F),C.intersectionShape.triangle.push(k),C.intersectionShape.triangle.push(E))}}}_.vertices+=8,T=C}var K=P.length-8;_=e.updateGeoGroup(8);var L=_.vertexArray,j=_.colorArray,D=_.faceArray;for(y=_.vertices,g=3*y,v=_.faceidx,S=0;S<4;S++){P.push(P[2*S]),P.push(P[K+2*S]);var W=P[2*S],$=P[K+2*S];L[g+6*S]=W.x,L[g+1+6*S]=W.y,L[g+2+6*S]=W.z,L[g+3+6*S]=$.x,L[g+4+6*S]=$.y,L[g+5+6*S]=$.z,j[g+6*S]=b.r,j[g+1+6*S]=b.g,j[g+2+6*S]=b.b,j[g+3+6*S]=b.r,j[g+4+6*S]=b.g,j[g+5+6*S]=b.b}K+=8,k=[y,y+2,y+6,y+4],E=[y+1,y+5,y+7,y+3],D[v]=k[0],D[v+1]=k[1],D[v+2]=k[3],D[v+3]=k[1],D[v+4]=k[2],D[v+5]=k[3],D[v+6]=E[0],D[v+7]=E[1],D[v+8]=E[3],D[v+9]=E[1],D[v+10]=E[2],D[v+11]=E[3],_.faceidx+=12,_.vertices+=8}},p=function(e,t,r,o,a){if(0!==t.length){a=void 0===a?5:a;var i=new n.Geometry,l=(s(t,a),new n.LineBasicMaterial({linewidth:r}));l.vertexColors=!0;var c=new n.Line(i,l);c.type=n.LineStrip,e.add(c)}},f=function(e,t,n,r,o,a,i){i&&"default"!==i||(i="rectangle"),"edged"===i?u(e,t,n,r,o,a):"rectangle"!==i&&"oval"!==i&&"parabola"!==i||c(e,t,n,r,o,a,i)},d=function(e){return e&&"C"===e.elem&&"CA"===e.atom},h=function(e,t){if(e&&t&&e.chain===t.chain){if(e.reschain===t.reschain&&(e.resi===t.resi||e.resi===t.resi-1))return!0;if(e.resi<t.resi){var n=e.x-t.x,r=e.y-t.y,o=e.z-t.z,a=n*n+r*r+o*o;if(a<16)return!0}}return!1},m=function(e,t,r,o,a){if(null!=t&&0!=t.vertices){a&&(t.initTypedArrays(),t.setUpNormals());var i=new n.MeshDoubleLambertMaterial;i.vertexColors=n.FaceColors,"number"==typeof r&&r>=0&&r<1&&(i.transparent=!0,i.opacity=r),i.outline=o;var s=new n.Mesh(t,i);e.add(s)}},y={C:!0,CA:!0,O:!0,P:!0,OP2:!0,O2P:!0,"O5'":!0,"O3'":!0,"C5'":!0,"C2'":!0,"O5*":!0,"O3*":!0,"C5*":!0,"C2*":!0,N1:!0,N3:!0},g={DA:!0,DG:!0,A:!0,G:!0},v={DT:!0,DC:!0,U:!0,C:!0,T:!0},b={DA:!0,DG:!0,A:!0,G:!0,DT:!0,DC:!0,U:!0,C:!0,T:!0},w=function(r,o,a,s,l,c,u){c=c||e,u=u||t;var w,T,S,x,A,k,E,M,_,P,O,I,R,L,j,D,N,G,F=new n.Geometry(!0),q=new n.Geometry(!0),B=[],z=[],H=1,U=!1,V={};for(var K in n.Gradient.builtinGradients)n.Gradient.builtinGradients.hasOwnProperty(K)&&(V[K]=new n.Gradient.builtinGradients[K](a[0],a[1]));for(var W=(function(e,t){return a&&"spectrum"===t.color?t.colorscheme in V?V[t.colorscheme].valueToHex(e.resi):V.sinebow.valueToHex(e.resi):n.getColorFromStyle(e,t).getHex()}),M=0;M<c;M++)z[M]=[];var Y=!1,Q=!1;M=0;var X=[];for(M in o){if(x=o[M],"C"===x.elem&&"CA"===x.atom){var Z=h(S,x);Z&&"s"===x.ss?Y=!0:Y&&(S&&T&&S.style.cartoon.arrows&&T.style.cartoon.arrows&&(S.ss="arrow end",T.ss="arrow start"),Y=!1),Z&&"h"===S.ss?(!Q&&x.style.cartoon.tubes&&(x.ss="tube start"),Q=!0):Q&&"tube start"!==S.ss&&(T&&T.style.cartoon.tubes&&(T.ss="tube end"),Q=!1),T=S,S=x}x&&x.atom in y&&X.push(x)}var J=function(e){for(var t=0;!E&&t<c;t++)p(r,z[t],1,B,u,H);if(s&&z[0].length>0&&f(q,z,B,u,E,H,z.style),e){var o=[];for(t=0;t<c;t++)o[t]=z[t][z[t].length-1];var a=B[B.length-1]}for(z=[],t=0;t<c;t++)z[t]=[];if(B=[],e){for(t=0;t<c;t++)z[t].push(o[t]);B.push(a)}m(r,q,H,U,!0),m(r,F,H,U,!1),q=new n.Geometry(!0),F=new n.Geometry(!0)};S=void 0;for(var ee=0;ee<X.length;ee++){x=X[ee];var te=x.resn.trim(),ne=te in b;if(H=1,w=x.style.cartoon,S&&S.style.cartoon&&(H=S.style.cartoon.opacity),S&&S.style.cartoon&&S.style.cartoon.outline&&(U=S.style.cartoon.outline),!S||!S.style.cartoon||x.style.cartoon&&S.style.cartoon.opacity==x.style.cartoon.opacity||J(S.chain==x.chain),z.length&&z[0].length>3e4/c/u/2&&J(!0),"trace"===w.style){if(x.hetflag);else if("C"===x.elem&&"CA"===x.atom||ne&&"P"===x.atom){if(k=W(x,w),E=$.isNumeric(w.thickness)?w.thickness:i,h(S,x))if(k==A){var re=n.CC.color(k);n.GLDraw.drawCylinder(F,S,x,E,re,2,2)}else{var oe=(new n.Vector3).addVectors(S,x).multiplyScalar(.5),ae=n.CC.color(A),ie=n.CC.color(k);n.GLDraw.drawCylinder(F,S,oe,E,ae,2,0),n.GLDraw.drawCylinder(F,oe,x,E,ie,0,2)}S=x,A=k}}else{if(d(x)||ne&&("P"===x.atom||0==x.atom.indexOf("O5"))){if(G){if("tube end"!==x.ss)continue;G=!1,N=new n.Vector3(x.x,x.y,x.z),n.GLDraw.drawCylinder(F,D,N,2,n.CC.color(A),1,1),x.ss="h"}if(S&&(!h(S,x)||"tube start"===S.ss)){for("tube start"===S.ss&&(G=!0,D=new n.Vector3(S.x,S.y,S.z),S.ss="h"),j&&(L=I?(new n.Vector3).addVectors(S,I).multiplyScalar(.5):new n.Vector3(S.x,S.y,S.z),n.GLDraw.drawCylinder(F,L,j,.4,n.CC.color(j.color),0,2),C(z,c,!l,I,R,O,S,X,ee),B.push(k),L=null,j=null),M=0;!E&&M<c;M++)p(r,z[M],1,B,u,H);for(s&&z[0].length>0&&f(q,z,B,u,E,H,z.style),z=[],M=0;M<c;M++)z[M]=[];B=[]}if(void 0===S||S.rescode!=x.rescode||S.resi!=x.resi){if(j){L=(new n.Vector3).addVectors(S,x).multiplyScalar(.5);var se=L.clone().sub(j).multiplyScalar(.02);L.add(se),n.GLDraw.drawCylinder(F,L,j,.4,n.CC.color(j.color),0,2),L=null,j=null}k=W(x,w),B.push(k),E=$.isNumeric(w.thickness)?w.thickness:i,S=x,_=new n.Vector3(S.x,S.y,S.z),_.resi=S.resi,A=k}x.clickable!==!0||void 0!==x.intersectionShape&&void 0!==x.intersectionShape.triangle||(x.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else d(S)&&"O"===x.atom||ne&&"P"===S.atom&&("OP2"===x.atom||"O2P"===x.atom)||ne&&0==S.atom.indexOf("O5")&&0==x.atom.indexOf("C5")?(P=new n.Vector3(x.x,x.y,x.z),P.resi=x.resi,"OP2"!==x.atom&&"O2P"!==x.atom||(R=new n.Vector3(x.x,x.y,x.z))):ne&&0==x.atom.indexOf("O3")?I=new n.Vector3(x.x,x.y,x.z):("N1"===x.atom&&te in g||"N3"===x.atom&&te in v)&&(j=new n.Vector3(x.x,x.y,x.z),j.color=n.getColorFromStyle(x,w).getHex());P&&_&&P.resi===_.resi&&(C(z,c,!l,_,P,O,S,X,ee),O=P,_=null,P=null,B.push(k))}}j&&(L=I?(new n.Vector3).addVectors(S,I).multiplyScalar(.5):new n.Vector3(S.x,S.y,S.z),n.GLDraw.drawCylinder(F,L,j,.4,n.CC.color(j.color),0,2),C(z,c,!l,I,R,O,S,X,ee),B.push(k)),J()},C=function(e,t,s,l,c,u,p,f,d){var h,m,y,g,v,b;if(l&&c&&p){var w=c.sub(l);w.normalize();for(var C=f[d],m=d+1;m<f.length&&(C=f[m],C.atom!=p.atom);m++);if(C=C?new n.Vector3(C.x,C.y,C.z):new n.Vector3(0,0,0),C.sub(l),"arrow start"===p.ss){var T=C.clone().multiplyScalar(.3).cross(c);l.add(T);var S=C.clone().cross(w).normalize();w.rotateAboutVector(S,.43)}for(p.style.cartoon.ribbon?h=p.style.cartoon.thickness||i:p.style.cartoon.width?h=p.style.cartoon.width:"c"===p.ss?h="P"===p.atom?a:r:"arrow start"===p.ss?(h=o,v=!0):h="arrow end"===p.ss?r:"h"===p.ss&&p.style.cartoon.tubes||"tube start"===p.ss?r:o,null!=u&&w.dot(u)<0&&w.negate(),w.multiplyScalar(h),m=0;m<t;m++)y=-1+2*m/(t-1),g=new n.Vector3(l.x+y*w.x,l.y+y*w.y,l.z+y*w.z),g.atom=p,s&&"s"===p.ss&&(g.smoothen=!0),e[m].push(g);if(v)for(w.multiplyScalar(2),m=0;m<t;m++)y=-1+2*m/(t-1),g=new n.Vector3(l.x+y*w.x,l.y+y*w.y,l.z+y*w.z),g.atom=p,g.smoothen=!1,g.skip=!0,e[m].push(g);return b=p.style.cartoon.style||"default",e.style?e.style!=b&&(console.log("Warning: a cartoon chain's strand-style is ambiguous"),e.style="default"):e.style=b,"arrow start"!==p.ss&&"arrow end"!==p.ss||(p.ss="s"),v}},T=function(e,t,n,r){r=parseInt(5*parseFloat(r))||5,w(e,t,n,!0,!1,r,r)};return T}();var n=n||{};n.GLDraw=function(){var e={},t=function(){var e=new n.Vector3;return function(t){e.set(t[0],t[1],t[2]);var n,r,o,a,i,s=e.x,l=e.y,c=e.z,u=Math.sqrt(s*s+l*l);u<1e-4?(r=0,o=1):(r=-s/u,o=l/u),l=-r*s+o*l,n=Math.sqrt(l*l+c*c),n<1e-4?(a=0,i=1):(a=c/n,i=l/n);var p=new Float32Array(9);return p[0]=o,p[1]=r,p[2]=0,p[3]=-r*i,p[4]=o*i,p[5]=a,p[6]=r*a,p[7]=-o*a,p[8]=i,p}}(),r=function(){var e,t=[],r=4,o=Math.pow(2,r),a=2,i=Math.pow(2,a),s=o/i;for(t[0]=new n.Vector3(-1,0,0),t[s]=new n.Vector3(0,0,1),t[2*s]=new n.Vector3(1,0,0),t[3*s]=new n.Vector3(0,0,-1),a=3;a<=r;a++){for(i=Math.pow(2,a-1),s=o/i,e=0;e<i-1;e++)t[s/2+e*s]=t[e*s].clone().add(t[(e+1)*s]).normalize();e=i-1,t[s/2+e*s]=t[e*s].clone().add(t[0]).normalize()}return t}(),o={cache:{},getVerticesForRadius:function(e,t,o){if(void 0!==typeof this.chache&&void 0!==this.cache[e]&&void 0!==this.cache[e][t+o])return this.cache[e][t+o];for(var a,i=(new n.Vector3(0,1,0),r.length),s=[],l=[],c=0;c<i;c++)s.push(r[c].clone().multiplyScalar(e)),s.push(r[c].clone().multiplyScalar(e)),a=r[c].clone().normalize(),l.push(a),l.push(a);var u=[],p=10,f=i;if(p%2!==0||!p)return console.error("heightSegments must be even"),null;var d,h,m=0,y=2*Math.PI,g=0,v=Math.PI,b=!1,w=!1;for(h=0;h<=p;h++){b=0===h||h===p,w=h===p/2;var C=[],T=[];for(d=0;d<=f;d++)if(w){var S=d<f?2*d:0;T.push(S+1),C.push(S)}else{var x=d/f,A=h/p;if(b&&0!==d)b&&C.push(s.length-1);else if(d<f){var k=new n.Vector3;k.x=-e*Math.cos(m+x*y)*Math.sin(g+A*v),1==t?k.y=0:k.y=e*Math.cos(g+A*v),k.z=e*Math.sin(m+x*y)*Math.sin(g+A*v),Math.abs(k.x)<1e-5&&(k.x=0),Math.abs(k.y)<1e-5&&(k.y=0),Math.abs(k.z)<1e-5&&(k.z=0),1===t?(a=new n.Vector3(0,Math.cos(g+A*v),0),a.normalize()):(a=new n.Vector3(k.x,k.y,k.z),a.normalize()),s.push(k),l.push(a),C.push(s.length-1)}else C.push(s.length-f)}w&&u.push(T),u.push(C)}var E={vertices:s,normals:l,verticesRows:u,w:f,h:p};return this.cache[e]={},this.cache[e][t+o]=E,E}};this.caps={NONE:0,FLAT:1,ROUND:2};var a=0;e.drawCylinder=function(e,n,r,i,s,l,c){if(n&&r){a++;var u=c||l;s=s||{r:0,g:0,b:0};var p=[r.x,r.y,r.z];p[0]-=n.x,p[1]-=n.y,p[2]-=n.z;var f,d,h,m,y,g,v=t(p),b=o.getVerticesForRadius(i,c,"to"),w=b.w,C=b.h,T=u?C*w+2:2*w,S=e.updateGeoGroup(T),x=b.vertices,A=b.normals,k=b.verticesRows,E=k[C/2],M=k[C/2+1],_=S.vertices,P=S.vertexArray,O=S.normalArray,I=S.colorArray,R=S.faceArray;for(h=0;h<w;++h){var L=2*h;m=v[0]*x[L].x+v[3]*x[L].y+v[6]*x[L].z,y=v[1]*x[L].x+v[4]*x[L].y+v[7]*x[L].z,g=v[5]*x[L].y+v[8]*x[L].z,f=3*(_+L),d=S.faceidx,P[f]=m+n.x,P[f+1]=y+n.y,P[f+2]=g+n.z,P[f+3]=m+r.x,P[f+4]=y+r.y,P[f+5]=g+r.z,O[f]=m,O[f+3]=m,O[f+1]=y,O[f+4]=y,O[f+2]=g,O[f+5]=g,I[f]=s.r,I[f+3]=s.r,I[f+1]=s.g,I[f+4]=s.g,I[f+2]=s.b,I[f+5]=s.b,R[d]=M[h]+_,R[d+1]=M[h+1]+_,R[d+2]=E[h]+_,R[d+3]=E[h]+_,R[d+4]=M[h+1]+_,R[d+5]=E[h+1]+_,S.faceidx+=6}if(u){var j,D,N,G,F,q,B,z,H,U,V,K,W,$,Y,Q,X,Z,J,ee,te,ne,re,oe,ae,ie,se,le,ce,ue,pe,fe,de=c?0:C/2,he=l?C+1:C/2+1;for(y=de;y<he;y++)if(y!==C/2){var me=y<=C/2?r:n,ye=o.getVerticesForRadius(i,c,"to"),ge=o.getVerticesForRadius(i,l,"from");for(me===r?(x=ye.vertices,A=ye.normals,k=ye.verticesRows):me==n&&(x=ge.vertices,A=ge.normals,k=ge.verticesRows),m=0;m<w;m++)d=S.faceidx,j=k[y][m+1],ce=3*(j+_),D=k[y][m],ue=3*(D+_),N=k[y+1][m],pe=3*(N+_),G=k[y+1][m+1],fe=3*(G+_),F=v[0]*x[j].x+v[3]*x[j].y+v[6]*x[j].z,q=v[0]*x[D].x+v[3]*x[D].y+v[6]*x[D].z,B=v[0]*x[N].x+v[3]*x[N].y+v[6]*x[N].z,z=v[0]*x[G].x+v[3]*x[G].y+v[6]*x[G].z,H=v[1]*x[j].x+v[4]*x[j].y+v[7]*x[j].z,U=v[1]*x[D].x+v[4]*x[D].y+v[7]*x[D].z,V=v[1]*x[N].x+v[4]*x[N].y+v[7]*x[N].z,K=v[1]*x[G].x+v[4]*x[G].y+v[7]*x[G].z,W=v[5]*x[j].y+v[8]*x[j].z,$=v[5]*x[D].y+v[8]*x[D].z,Y=v[5]*x[N].y+v[8]*x[N].z,Q=v[5]*x[G].y+v[8]*x[G].z,P[ce]=F+me.x,P[ue]=q+me.x,P[pe]=B+me.x,P[fe]=z+me.x,P[ce+1]=H+me.y,P[ue+1]=U+me.y,P[pe+1]=V+me.y,P[fe+1]=K+me.y,P[ce+2]=W+me.z,P[ue+2]=$+me.z,P[pe+2]=Y+me.z,P[fe+2]=Q+me.z,I[ce]=s.r,I[ue]=s.r,I[pe]=s.r,I[fe]=s.r,I[ce+1]=s.g,I[ue+1]=s.g,I[pe+1]=s.g,I[fe+1]=s.g,I[ce+2]=s.b,I[ue+2]=s.b,I[pe+2]=s.b,I[fe+2]=s.b,X=v[0]*A[j].x+v[3]*A[j].y+v[6]*A[j].z,Z=v[0]*A[D].x+v[3]*A[D].y+v[6]*A[D].z,J=v[0]*A[N].x+v[3]*A[N].y+v[6]*A[N].z,ee=v[0]*A[G].x+v[3]*A[G].y+v[6]*A[G].z,te=v[1]*A[j].x+v[4]*A[j].y+v[7]*A[j].z,ne=v[1]*A[D].x+v[4]*A[D].y+v[7]*A[D].z,re=v[1]*A[N].x+v[4]*A[N].y+v[7]*A[N].z,oe=v[1]*A[G].x+v[4]*A[G].y+v[7]*A[G].z,ae=v[5]*A[j].y+v[8]*A[j].z,ie=v[5]*A[D].y+v[8]*A[D].z,se=v[5]*A[N].y+v[8]*A[N].z,le=v[5]*A[G].y+v[8]*A[G].z,0===y?(O[ce]=X,O[pe]=J,O[fe]=ee,O[ce+1]=te,O[pe+1]=re,O[fe+1]=oe,O[ce+2]=ae,O[pe+2]=se,O[fe+2]=le,R[d]=j+_,R[d+1]=N+_,R[d+2]=G+_,S.faceidx+=3):y===he-1?(O[ce]=X,O[ue]=Z,O[pe]=J,O[ce+1]=te,O[ue+1]=ne,O[pe+1]=re,O[ce+2]=ae,O[ue+2]=ie,O[pe+2]=se,R[d]=j+_,R[d+1]=D+_,R[d+2]=N+_,S.faceidx+=3):(O[ce]=X,O[ue]=Z,O[fe]=ee,O[ce+1]=te,O[ue+1]=ne,O[fe+1]=oe,O[ce+2]=ae,O[ue+2]=ie,O[fe+2]=le,O[ue]=Z,O[pe]=J,O[fe]=ee,O[ue+1]=ne,O[pe+1]=re,O[fe+1]=oe,O[ue+2]=ie,O[pe+2]=se,O[fe+2]=le,R[d]=j+_,R[d+1]=D+_,R[d+2]=G+_,R[d+3]=D+_,R[d+4]=N+_,R[d+5]=G+_,S.faceidx+=6)}}S.vertices+=T}},e.drawCone=function(e,o,a,i,s){if(o&&a){s=s||{r:0,g:0,b:0};var l=[a.x,a.y,a.z];l.x-=o.x,l.y-=o.y,l.z-=o.z;var c,u,p,f,d,h,m=t(l),y=r.length,g=r,v=y+2,b=e.updateGeoGroup(v),w=b.vertices,C=b.vertexArray,T=b.normalArray,S=b.colorArray,x=b.faceArray,c=3*w,A=new n.Vector3(l[0],l[1],l[2]).normalize();for(C[c]=o.x,C[c+1]=o.y,C[c+2]=o.z,T[c]=-A.x,T[c+1]=-A.y,T[c+2]=-A.z,S[c]=s.r,S[c+1]=s.g,S[c+2]=s.b,C[c+3]=a.x,C[c+4]=a.y,C[c+5]=a.z,T[c+3]=A.x,T[c+4]=A.y,T[c+5]=A.z,S[c+3]=s.r,S[c+4]=s.g,S[c+5]=s.b,c+=6,p=0;p<y;++p){var k=g[p].clone();k.multiplyScalar(i),f=m[0]*k.x+m[3]*k.y+m[6]*k.z,d=m[1]*k.x+m[4]*k.y+m[7]*k.z,h=m[5]*k.y+m[8]*k.z,C[c]=f+o.x,C[c+1]=d+o.y,C[c+2]=h+o.z,T[c]=f,T[c+1]=d,T[c+2]=h,S[c]=s.r,S[c+1]=s.g,S[c+2]=s.b,c+=3}b.vertices+=y+2;var u=b.faceidx;for(p=0;p<y;p++){var E=w+2+p,M=w+2+(p+1)%y;x[u]=E,x[u+1]=M,x[u+2]=w,u+=3,x[u]=E,x[u+1]=M,x[u+2]=w+1,u+=3}b.faceidx+=6*y}};var i={cache:{},getVerticesForRadius:function(e){if("undefined"!=typeof this.cache[e])return this.cache[e];var t={vertices:[],verticesRows:[],normals:[]},r=1,o=16*r,a=10*r;e<1&&(o=10*r,a=8*r);var i,s,l=0,c=2*Math.PI,u=0,p=Math.PI;for(s=0;s<=a;s++){var f=[];for(i=0;i<=o;i++){var d=i/o,h=s/a,m={};m.x=-e*Math.cos(l+d*c)*Math.sin(u+h*p),m.y=e*Math.cos(u+h*p),m.z=e*Math.sin(l+d*c)*Math.sin(u+h*p);var y=new n.Vector3(m.x,m.y,m.z);y.normalize(),t.vertices.push(m),t.normals.push(y),f.push(t.vertices.length-1)}t.verticesRows.push(f)}return this.cache[e]=t,t}};return e.drawSphere=function(e,t,r,o){for(var a,s,l=(new n.Vector3(t.x,t.y,t.z),i.getVerticesForRadius(r)),c=l.vertices,u=l.normals,p=e.updateGeoGroup(c.length),f=p.vertices,d=p.vertexArray,h=p.colorArray,m=p.faceArray,y=p.lineArray,g=p.normalArray,v=0,b=c.length;v<b;++v){var w=3*(f+v),C=c[v];d[w]=C.x+t.x,d[w+1]=C.y+t.y,d[w+2]=C.z+t.z,h[w]=o.r,h[w+1]=o.g,h[w+2]=o.b}p.vertices+=c.length;var T=l.verticesRows,S=T.length-1;for(s=0;s<S;s++){var x=T[s].length-1;for(a=0;a<x;a++){var A=p.faceidx,k=p.lineidx,E=T[s][a+1]+f,M=3*E,_=T[s][a]+f,P=3*_,O=T[s+1][a]+f,I=3*O,R=T[s+1][a+1]+f,L=3*R,j=u[E-f],D=u[_-f],N=u[O-f],G=u[R-f];Math.abs(c[E-f].y)===r?(g[M]=j.x,g[I]=N.x,g[L]=G.x,g[M+1]=j.y,g[I+1]=N.y,g[L+1]=G.y,g[M+2]=j.z,g[I+2]=N.z,g[L+2]=G.z,m[A]=E,m[A+1]=O,m[A+2]=R,y[k]=E,y[k+1]=O,y[k+2]=E,y[k+3]=R,y[k+4]=O,y[k+5]=R,p.faceidx+=3,p.lineidx+=6):Math.abs(c[O-f].y)===r?(g[M]=j.x,g[P]=D.x,g[I]=N.x,g[M+1]=j.y,g[P+1]=D.y,g[I+1]=N.y,g[M+2]=j.z,g[P+2]=D.z,g[I+2]=N.z,m[A]=E,m[A+1]=_,m[A+2]=O,y[k]=E,y[k+1]=_,y[k+2]=E,y[k+3]=O,y[k+4]=_,y[k+5]=O,p.faceidx+=3,p.lineidx+=6):(g[M]=j.x,g[P]=D.x,g[L]=G.x,g[M+1]=j.y,g[P+1]=D.y,g[L+1]=G.y,g[M+2]=j.z,g[P+2]=D.z,g[L+2]=G.z,g[P]=D.x,g[I]=N.x,g[L]=G.x,g[P+1]=D.y,g[I+1]=N.y,g[L+1]=G.y,g[P+2]=D.z,g[I+2]=N.z,g[L+2]=G.z,m[A]=E,m[A+1]=_,m[A+2]=R,m[A+3]=_,m[A+4]=O,m[A+5]=R,y[k]=E,y[k+1]=_,y[k+2]=E,y[k+3]=R,y[k+4]=_,y[k+5]=O,y[k+6]=O,y[k+7]=R,p.faceidx+=6,p.lineidx+=8)}}},e}();var n=n||{};n.GLModel=function(){function e(s,p){var f=[],d=[],h=s,m=!1,y=null,g=null,v=null,b={},w=new n.Matrix4,C=!0,T=n.elementColors.defaultColor,S=p?p:n.elementColors.defaultColors,x=1.5,A=function(e,t){var n=x;return"undefined"!=typeof t.radius?n=t.radius:o[e.elem]&&(n=o[e.elem]),"undefined"!=typeof t.scale&&(n*=t.scale),n},k=function(e,t){if(e.style.cross){var o=e.style.cross;if(!o.hidden){var a=o.linewidth||r;t[a]||(t[a]=new n.Geometry);var i=t[a].updateGeoGroup(6),s=A(e,o),l=[[s,0,0],[-s,0,0],[0,s,0],[0,-s,0],[0,0,s],[0,0,-s]],c=e.clickable||e.hoverable;c&&void 0===e.intersectionShape&&(e.intersectionShape={sphere:[],cylinder:[],line:[]});for(var u=n.getColorFromStyle(e,o),p=i.vertexArray,f=i.colorArray,d=0;d<6;d++){var h=3*i.vertices;if(i.vertices++,p[h]=e.x+l[d][0],p[h+1]=e.y+l[d][1],p[h+2]=e.z+l[d][2],f[h]=u.r,f[h+1]=u.g,f[h+2]=u.b,c){var m=new n.Vector3(l[d][0],l[d][1],l[d][2]);m.multiplyScalar(.1),m.set(m.x+e.x,m.y+e.y,m.z+e.z),e.intersectionShape.line.push(m)}}}}},E=function(e,t,r){var o=new n.Vector3(e.x,e.y,e.z),a=new n.Vector3(t.x,t.y,t.z),i=a.clone(),s=null;i.sub(o);var l,c,u,p,d;return 1===e.bonds.length?1===t.bonds.length?(s=i.clone(),Math.abs(s.x)>1e-4?s.y+=1:s.x+=1):(l=(r+1)%t.bonds.length,c=t.bonds[l],u=f[c],p=new n.Vector3(u.x,u.y,u.z),d=p.clone(),d.sub(o),s=d.clone(),s.cross(i)):(l=(r+1)%e.bonds.length,c=e.bonds[l],u=f[c],p=new n.Vector3(u.x,u.y,u.z),d=p.clone(),d.sub(o),s=d.clone(),s.cross(i)),s.lengthSq()<.01&&(s=i.clone(),Math.abs(s.x)>1e-4?s.y+=1:s.x+=1),s.cross(i),s.normalize(),s},M=function(e,t,n,r,o,a){e[n]=r.x,e[n+1]=r.y,e[n+2]=r.z,t[n]=a.r,t[n+1]=a.g,t[n+2]=a.b,e[n+3]=o.x,e[n+4]=o.y,e[n+5]=o.z,t[n+3]=a.r,t[n+4]=a.g,t[n+5]=a.b},_=function(e,t,o){if(e.style.line){var a=e.style.line;if(!a.hidden){var i,s,l,c,u=a.linewidth||r;o[u]||(o[u]=new n.Geometry);for(var p=o[u].updateGeoGroup(6*e.bonds.length),f=p.vertexArray,d=p.colorArray,h=0;h<e.bonds.length;h++){var m=e.bonds[h],y=t[m];if(y.style.line&&!(e.serial>=y.serial)){var g=new n.Vector3(e.x,e.y,e.z),v=new n.Vector3(y.x,y.y,y.z),b=g.clone().add(v).multiplyScalar(.5),w=!1;(e.clickable||e.hoverable)&&(void 0===e.intersectionShape&&(e.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),e.intersectionShape.line.push(g),e.intersectionShape.line.push(b),y.intersectionShape.line.push(b),y.intersectionShape.line.push(v));var C=n.getColorFromStyle(e,e.style.line),T=n.getColorFromStyle(y,y.style.line);if(e.bondStyles&&e.bondStyles[h]){var S=e.bondStyles[h];if(!S.iswire)continue;S.radius&&(bondR=S.radius),S.singleBond&&(w=!0),"undefined"!=typeof S.color1&&(C=n.CC.color(S.color1)),"undefined"!=typeof S.color2&&(T=n.CC.color(S.color2))}var x=3*p.vertices;if(e.bondOrder[h]>1&&e.bondOrder[h]<4&&!w){var A=E(e,y,h),k=v.clone();if(k.sub(g),2==e.bondOrder[h])if(A.multiplyScalar(.1),i=g.clone(),i.add(A),s=g.clone(),s.sub(A),l=i.clone(),l.add(k),c=s.clone(),c.add(k),C==T)p.vertices+=4,M(f,d,x,i,l,C),M(f,d,x+6,s,c,C);else{p.vertices+=8,k.multiplyScalar(.5);var _=i.clone();_.add(k);var P=s.clone();P.add(k),M(f,d,x,i,_,C),M(f,d,x+6,_,l,T),M(f,d,x+12,s,P,C),M(f,d,x+18,P,c,T)}else if(3==e.bondOrder[h])if(A.multiplyScalar(.1),i=g.clone(),i.add(A),s=g.clone(),s.sub(A),l=i.clone(),l.add(k),c=s.clone(),c.add(k),C==T)p.vertices+=6,M(f,d,x,g,v,C),M(f,d,x+6,i,l,C),M(f,d,x+12,s,c,C);else{p.vertices+=12,k.multiplyScalar(.5);var _=i.clone();_.add(k);var P=s.clone();P.add(k),M(f,d,x,g,b,C),M(f,d,x+6,b,v,T),M(f,d,x+12,i,_,C),M(f,d,x+18,_,l,T),M(f,d,x+24,s,P,C),M(f,d,x+30,P,c,T)}}else C==T?(p.vertices+=2,M(f,d,x,g,v,C)):(p.vertices+=4,M(f,d,x,g,b,C),M(f,d,x+6,b,v,T))}}}}},P=.25,O=function(e,t){if(e.style.sphere){var r=e.style.sphere;if(!r.hidden){var o=n.getColorFromStyle(e,r),a=A(e,r);if((e.clickable===!0||e.hoverable)&&void 0!==e.intersectionShape){var i=new n.Vector3(e.x,e.y,e.z);e.intersectionShape.sphere.push(new n.Sphere(i,a))}n.GLDraw.drawSphere(t,e,a,o)}}},I=function(e,t){if(e.style.sphere){var r=e.style.sphere;if(!r.hidden){var o=A(e,r),a=n.getColorFromStyle(e,r),i=t.updateGeoGroup(1),s=i.vertices,l=3*s,c=i.vertexArray,u=i.colorArray,p=i.radiusArray;c[l]=e.x,c[l+1]=e.y,c[l+2]=e.z;var u=(i.normalArray,i.colorArray);if(u[l]=a.r,u[l+1]=a.g,u[l+2]=a.b,p[s]=o,(e.clickable===!0||e.hoverable)&&void 0!==e.intersectionShape){var f=new n.Vector3(e.x,e.y,e.z);e.intersectionShape.sphere.push(new n.Sphere(f,o))}i.vertices+=1}}},R=function(e,t,n,r){for(var o=e.updateGeoGroup(4),a=o.vertices,i=3*a,s=o.vertexArray,l=o.colorArray,c=0;c<4;c++)s[i+3*c]=t.x,s[i+3*c+1]=t.y,s[i+3*c+2]=t.z;for(var u=o.normalArray,l=o.colorArray,c=0;c<4;c++)l[i+3*c]=r.r,l[i+3*c+1]=r.g,l[i+3*c+2]=r.b;u[i+0]=-n,u[i+1]=n,u[i+2]=0,u[i+3]=-n,u[i+4]=-n,u[i+5]=0,u[i+6]=n,u[i+7]=-n,u[i+8]=0,u[i+9]=n,u[i+10]=n,u[i+11]=0,o.vertices+=4;var p=o.faceArray,f=o.faceidx;p[f+0]=a,p[f+1]=a+1,p[f+2]=a+2,p[f+3]=a+2,p[f+4]=a+3,p[f+5]=a,o.faceidx+=6},L=function(e,t){if(e.style.sphere){
var r=e.style.sphere;if(!r.hidden){var o=A(e,r),a=n.getColorFromStyle(e,r);if((e.clickable===!0||e.hoverable)&&void 0!==e.intersectionShape){var i=new n.Vector3(e.x,e.y,e.z);e.intersectionShape.sphere.push(new n.Sphere(i,o))}R(t,e,o,a)}}},j=function(e,t,n,r,o,a,i){for(var s=e.updateGeoGroup(4),l=s.vertices,c=3*l,u=s.vertexArray,p=s.colorArray,f=s.radiusArray,d=s.normalArray,h=o.r,m=o.g,y=o.b,g=function(e){var t=-e;return 0==t&&(t=-1e-4),t},v=c,b=0;b<4;b++)u[v]=t.x,d[v]=n.x,p[v]=h,v++,u[v]=t.y,d[v]=n.y,p[v]=m,v++,u[v]=t.z,d[v]=n.z,b<2?p[v]=y:p[v]=g(y),v++;s.vertices+=4,f[l]=-r,f[l+1]=r,f[l+2]=-r,f[l+3]=r;var w=s.faceArray,C=s.faceidx;w[C+0]=l,w[C+1]=l+1,w[C+2]=l+2,w[C+3]=l+2,w[C+4]=l+3,w[C+5]=l,s.faceidx+=6},D=function(e,t,r){if(e.style.stick){var o=e.style.stick;if(!o.hidden){var a,i,s=o.radius||P,l=s,c=o.singleBonds||!1,u=0,p=0,f=n.getColorFromStyle(e,o);!e.capDrawn&&e.bonds.length<4&&(u=2);var d=n.GLDraw.drawCylinder;r.imposter&&(d=j);for(var h=0;h<e.bonds.length;h++){var m=e.bonds[h],y=t[m];if(e.serial<y.serial){var g=y.style;if(!g.stick)continue;var v=n.getColorFromStyle(y,g.stick);l=s;var b=c;if(e.bondStyles&&e.bondStyles[h]){var w=e.bondStyles[h];if(w.iswire)continue;w.radius&&(l=w.radius),w.singleBond&&(b=!0),"undefined"!=typeof w.color1&&(f=n.CC.color(w.color1)),"undefined"!=typeof w.color2&&(v=n.CC.color(w.color2))}var C=new n.Vector3(e.x,e.y,e.z),T=new n.Vector3(y.x,y.y,y.z);if(1===e.bondOrder[h]||b){if(!y.capDrawn&&y.bonds.length<4&&(p=2),f!=v?(a=(new n.Vector3).addVectors(C,T).multiplyScalar(.5),d(r,C,a,l,f,u,0),d(r,a,T,l,v,0,p)):d(r,C,T,l,f,u,p),e.clickable||y.clickable){if(a=(new n.Vector3).addVectors(C,T).multiplyScalar(.5),e.clickable||e.hoverable){var S=new n.Cylinder(C,a,l),x=new n.Sphere(C,l);e.intersectionShape.cylinder.push(S),e.intersectionShape.sphere.push(x)}if(y.clickable||y.hoverable){var A=new n.Cylinder(T,a,l),k=new n.Sphere(T,l);y.intersectionShape.cylinder.push(A),y.intersectionShape.sphere.push(k)}}}else if(e.bondOrder[h]>1){var M=0,_=0;l!=s&&(M=2,_=2);var O=T.clone(),I=null;O.sub(C);var L,D,N,G,F,I=E(e,y,h);if(2==e.bondOrder[h]){var L=l/2.5,I=E(e,y,h);if(I.multiplyScalar(1.5*L),D=C.clone(),D.add(I),N=C.clone(),N.sub(I),G=D.clone(),G.add(O),F=N.clone(),F.add(O),f!=v?(a=(new n.Vector3).addVectors(D,G).multiplyScalar(.5),i=(new n.Vector3).addVectors(N,F).multiplyScalar(.5),d(r,D,a,L,f,M,0),d(r,a,G,L,v,0,_),d(r,N,i,L,f,M,0),d(r,i,F,L,v,0,_)):(d(r,D,G,L,f,M,_),d(r,N,F,L,f,M,_)),e.clickable||y.clickable){if(a=(new n.Vector3).addVectors(D,G).multiplyScalar(.5),i=(new n.Vector3).addVectors(N,F).multiplyScalar(.5),e.clickable||e.hoverable){var q=new n.Cylinder(D,a,L),B=new n.Cylinder(N,i,L);e.intersectionShape.cylinder.push(q),e.intersectionShape.cylinder.push(B)}if(y.clickable||y.hoverable){var z=new n.Cylinder(G,a,L),H=new n.Cylinder(F,i,L);y.intersectionShape.cylinder.push(z),y.intersectionShape.cylinder.push(H)}}}else if(3==e.bondOrder[h]&&(L=l/4,I.cross(O),I.normalize(),I.multiplyScalar(3*L),D=C.clone(),D.add(I),N=C.clone(),N.sub(I),G=D.clone(),G.add(O),F=N.clone(),F.add(O),f!=v?(a=(new n.Vector3).addVectors(D,G).multiplyScalar(.5),i=(new n.Vector3).addVectors(N,F).multiplyScalar(.5),mp3=(new n.Vector3).addVectors(C,T).multiplyScalar(.5),d(r,D,a,L,f,M,0),d(r,a,G,L,v,0,_),d(r,C,mp3,L,f,u,0),d(r,mp3,T,L,v,0,p),d(r,N,i,L,f,M,0),d(r,i,F,L,v,0,_)):(d(r,D,G,L,f,M,_),d(r,C,T,L,f,u,p),d(r,N,F,L,f,M,_)),e.clickable||y.clickable)){if(a=(new n.Vector3).addVectors(D,G).multiplyScalar(.5),i=(new n.Vector3).addVectors(N,F).multiplyScalar(.5),mp3=(new n.Vector3).addVectors(C,T).multiplyScalar(.5),e.clickable||e.hoverable){var q=new n.Cylinder(D.clone(),a.clone(),L),B=new n.Cylinder(N.clone(),i.clone(),L),U=new n.Cylinder(C.clone(),mp3.clone(),L);e.intersectionShape.cylinder.push(q),e.intersectionShape.cylinder.push(B),e.intersectionShape.cylinder.push(U)}if(y.clickable||y.hoverable){var z=new n.Cylinder(G.clone(),a.clone(),L),H=new n.Cylinder(F.clone(),i.clone(),L),V=new n.Cylinder(T.clone(),mp3.clone(),L);y.intersectionShape.cylinder.push(z),y.intersectionShape.cylinder.push(H),y.intersectionShape.cylinder.push(V)}}}}}for(var K=!1,W=0,$=!1,h=0;h<e.bonds.length;h++){var b=c;if(e.bondStyles&&e.bondStyles[h]){var w=e.bondStyles[h];w.singleBond&&(b=!0),w.radius&&w.radius!=s&&($=!0)}(b||1==e.bondOrder[h])&&W++}if($?W>0&&(K=!0):0==W&&e.bonds.length>0&&(K=!0),K){e.style;l=s,r.imposter?R(r.sphereGeometry,e,l,f):n.GLDraw.drawSphere(r,e,l,f)}}}},N=function(e,t){t=t||{};var r=new n.Object3D,o=[],a={},i={},s=O,l=null,c=null;t.supportsImposters?(s=L,l=new n.Geometry(!0),l.imposter=!0,c=new n.Geometry(!0,!0),c.imposter=!0,c.sphereGeometry=l,c.drawnCaps={}):t.supportsAIA?(s=I,l=new n.Geometry(!1,!0,!0),l.instanced=!0,c=new n.Geometry(!0)):(l=new n.Geometry(!0),c=new n.Geometry(!0));var u,p,f,d,h={},m=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(u=0,f=e.length;u<f;u++){var y=e[u];if(y&&y.style){(y.clickable||y.hoverable)&&void 0===y.intersectionShape&&(y.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),d={line:void 0,cross:void 0,stick:void 0,sphere:void 0};for(p in d)y.style[p]?y.style[p].opacity?d[p]=parseFloat(y.style[p].opacity):d[p]=1:d[p]=void 0,h[p]?void 0!=d[p]&&h[p]!=d[p]&&(console.log("Warning: "+p+" opacity is ambiguous"),h[p]=1):h[p]=d[p];s(y,l),k(y,i),_(y,e,a),D(y,e,c),"undefined"==typeof y.style.cartoon||y.style.cartoon.hidden||("spectrum"!==y.style.cartoon.color||"number"!=typeof y.resi||y.hetflag||(y.resi<m[0]&&(m[0]=y.resi),y.resi>m[1]&&(m[1]=y.resi)),o.push(y))}}if(o.length>0&&n.drawCartoon(r,o,m),l&&l.vertices>0){l.initTypedArrays();var g=null;if(l.imposter)g=new n.SphereImposterMaterial({ambient:0,vertexColors:!0,reflectivity:0});else if(l.instanced){var v=new n.Geometry(!0);n.GLDraw.drawSphere(v,{x:0,y:0,z:0},1,new n.Color(.5,.5,.5)),v.initTypedArrays(),g=new n.InstancedMaterial({sphereMaterial:new n.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),sphere:v})}else var g=new n.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0});h.sphere<1&&h.sphere>=0&&(g.transparent=!0,g.opacity=h.sphere);var v=new n.Mesh(l,g);r.add(v)}if(c.vertices>0)if(c.imposter){var w=new n.StickImposterMaterial({ambient:0,vertexColors:!0,reflectivity:0});c.initTypedArrays();var T=new n.Mesh(c,w);r.add(T)}else{var S=new n.MeshLambertMaterial({vertexColors:!0,ambient:0,reflectivity:0});h.stick<1&&h.stick>=0&&(S.transparent=!0,S.opacity=h.stick),c.initTypedArrays(),S.wireframe&&c.setUpWireframe();var T=new n.Mesh(c,S);r.add(T)}for(u in a)if(a.hasOwnProperty(u)){var x=u,A=new n.LineBasicMaterial({linewidth:x,vertexColors:!0});h.line<1&&h.line>=0&&(A.transparent=!0,A.opacity=h.line),a[u].initTypedArrays();var E=new n.Line(a[u],A,n.LinePieces);r.add(E)}for(u in i)if(i.hasOwnProperty(u)){var x=u,M=new n.LineBasicMaterial({linewidth:x,vertexColors:!0});h.cross<1&&h.cross>=0&&(M.transparent=!0,M.opacity=h.cross),i[u].initTypedArrays();var P=new n.Line(i[u],M,n.LinePieces);r.add(P)}if(C&&b.symmetries&&b.symmetries.length>0){var R,j=new n.Object3D;for(R=0;R<b.symmetries.length;R++){var N=new n.Object3D;N=r.clone(),N.matrix.copy(b.symmetries[R]),N.matrixAutoUpdate=!1,j.add(N)}return j}return r};this.getCrystData=function(){return b.cryst?b.cryst:null},this.getSymmetries=function(){return"undefined"==typeof b.symmetries&&(b.symmetries=[w]),b.symmetries},this.setSymmetries=function(e){"undefined"==typeof e?b.symmetries=[w]:b.symmetries=e},this.getID=function(){return h},this.getFrames=function(){return d},this.setFrame=function(e){0!=d.length&&(f=e>=0&&e<d.length?d[e]:d[d.length-1],y=null)},this.addFrame=function(e){d.push(e)},this.vibrate=function(e,t){var t=t||1,e=e||10;e--;for(var r=1;r<=e;r++){for(var o=[],a=0;a<f.length;a++){var i=new n.Vector3(n.getAtomProperty(f[a],"dx"),n.getAtomProperty(f[a],"dy"),n.getAtomProperty(f[a],"dz")),s=new n.Vector3(f[a].x,f[a].y,f[a].z);i.multiplyScalar(r*t/e),s.add(i);var l={};for(var c in f[a])l[c]=f[a][c];l.x=s.x,l.y=s.y,l.z=s.z,o.push(l)}d.push(o)}d.unshift(f)},this.setAtomDefaults=function(e){for(var n=0;n<e.length;n++){var r=e[n];r&&(r.style=r.style||t,r.color=r.color||S[r.elem]||T,r.model=h,(r.clickable||r.hoverable)&&(r.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}))}},this.addMolData=function(e,t,r){r=r||{};var o=n.GLModel.parseMolData(e,t,r);C=!r.duplicateAssemblyAtoms;var a=o.modelData;if(a&&(b=Array.isArray(a)?a[0]:a),0==d.length){for(var i=0;i<o.length;i++)0!=o[i].length&&d.push(o[i]);d[0]&&(f=d[0])}else if(r.frames)for(var i=0;i<o.length;i++)d.push(o[i]);else for(var i=0;i<o.length;i++)this.addAtoms(o[i]);for(var i=0;i<d.length;i++)this.setAtomDefaults(d[i],h);r.vibrate&&r.vibrate.frames&&r.vibrate.amplitude&&this.vibrate(r.vibrate.frames,r.vibrate.amplitude),r.style&&this.setStyle({},r.style)},this.setDontDuplicateAtoms=function(e){C=e},this.setModelData=function(e){b=e},this.atomIsSelected=function(e,t){if("undefined"==typeof t)return!0;var n=!!t.invert,r=!0;for(var o in t)if("and"==o||"or"==o||"not"==o){if("not"==o){if(this.atomIsSelected(e,t[o])){r=!1;break}}else if("and"==o){for(var a=t[o],i=0;i<a.length;i++)if(!this.atomIsSelected(e,a[i])){r=!1;break}}else if("or"==o){for(var s=t[o],l=!0,i=0;i<s.length;i++){if(this.atomIsSelected(e,s[i])){l=!0;break}l=!1}r=l}}else if("predicate"===o){if(!t.predicate(e)){r=!1;break}}else if("properties"==o&&e[o])for(var c in t.properties){if("undefined"==typeof e.properties[c]){r=!1;break}if(e.properties[c]!=t.properties[c]){r=!1;break}}else if(t.hasOwnProperty(o)&&"props"!=o&&"invert"!=o&&"model"!=o&&"byres"!=o&&"expand"!=o&&"within"!=o&&"and"!=o&&"or"!=o&&"not"!=o){if("undefined"==typeof e[o]){r=!1;break}var u=!1;if("bonds"===o){var p=t[o];if(p!=e.bonds.length){r=!1;break}}else if($.isArray(t[o])){for(var f=t[o],i=0;i<f.length;i++)if(e[o]==f[i]){u=!0;break}if(!u){r=!1;break}}else{var p=t[o];if(e[o]!=p){r=!1;break}}}return n?!r:r},this.selectedAtoms=function(e,t){var n=[];e=e||{},t||(t=f);for(var r=t.length,o=0;o<r;o++){var a=t[o];a&&this.atomIsSelected(a,e)&&n.push(a)}if(e.hasOwnProperty("expand"))for(var i=F(n,parseFloat(e.expand)),s=n.length,o=0;o<i.length;o++)for(var l=0;l<s;l++){var c=G(i[o],n[l]),u=Math.pow(e.expand,2);c<u&&c>0&&n.push(i[o])}if(e.hasOwnProperty("within")&&e.within.hasOwnProperty("sel")&&e.within.hasOwnProperty("distance")){for(var p=this.selectedAtoms(e.within.sel,f),d={},o=0;o<p.length;o++)for(var l=0;l<n.length;l++){var c=G(p[o],n[l]),u=Math.pow(parseFloat(e.within.distance),2);c<u&&c>0&&(d[l]=1)}var h=[];if(e.within.invert)for(var l=0;l<n.length;l++)d[l]||h.push(n[l]);else for(l in d)h.push(n[l]);n=h}if(e.hasOwnProperty("byres"))for(var m={},y=[],g=[],o=0;o<n.length;o++){var a=n[o],v=a.chain,b=a.resi;if(void 0===m[v]&&(m[v]={}),a.hasOwnProperty("resi")&&void 0===m[v][b])for(m[v][b]=!0,g.push(a);g.length>0;)if(a=g.pop(),v=a.chain,b=a.resi,void 0===y[a.index]){y[a.index]=!0;for(var l=0;l<a.bonds.length;l++){var w=f[a.bonds[l]];void 0===y[w.index]&&w.hasOwnProperty("resi")&&w.chain==v&&w.resi==b&&(g.push(w),n.push(w))}}}return n};var G=function(e,t){var n=t.x-e.x,r=t.y-e.y,o=t.z-e.z;return Math.pow(n,2)+Math.pow(r,2)+Math.pow(o,2)},F=function(e,t){if(t<=0)return e;for(var r=n.getExtent(e),o=[[],[],[]],a=0;a<3;a++)o[0][a]=r[0][a]-t,o[1][a]=r[1][a]+t,o[2][a]=r[2][a];for(var i=[],a=0;a<f.length;a++){var s=f[a].x,l=f[a].y,c=f[a].z;s>=o[0][0]&&s<=o[1][0]&&l>=o[0][1]&&l<=o[1][1]&&c>=o[0][2]&&c<=o[1][2]&&(s>=r[0][0]&&s<=r[1][0]&&l>=r[0][1]&&l<=r[1][1]&&c>=r[0][2]&&c<=r[1][2]||i.push(f[a]))}return i};this.addAtoms=function(e){y=null;var n,r=f.length,o=[];for(n=0;n<e.length;n++)"undefined"==typeof e[n].index&&(e[n].index=n),"undefined"==typeof e[n].serial&&(e[n].serial=n),o[e[n].index]=r+n;for(n=0;n<e.length;n++){var a=e[n],i=o[a.index],s=$.extend(!1,{},a);s.index=i,s.bonds=[],s.bondOrder=[],s.model=h,s.style=s.style||t,"undefined"==typeof s.color&&(s.color=S[s.elem]||T);for(var l=a.bonds?a.bonds.length:0,c=0;c<l;c++){var u=o[a.bonds[c]];"undefined"!=typeof u&&(s.bonds.push(u),s.bondOrder.push(a.bondOrder?a.bondOrder[c]:1))}f.push(s)}},this.removeAtoms=function(e){y=null;var t,n=[];for(t=0;t<e.length;t++)n[e[t].index]=!0;var r=[];for(t=0;t<f.length;t++){var o=f[t];n[o.index]||r.push(o)}f=[],this.addAtoms(r)},this.setStyle=function(e,t,n){"undefined"==typeof t&&"undefined"==typeof n&&(t=e,e={});var r;for(r in e)l.indexOf(r)===-1&&console.log("Unknown selector "+r);for(r in t)c.indexOf(r)===-1&&console.log("Unknown style "+r);var o=!1,a=function(a){for(var s=i.selectedAtoms(e,a),l=0;l<a.length;l++)a[l]&&(a[l].capDrawn=!1);for(var l=0;l<s.length;l++){o=!0,(s[l].clickable||s[l].hoverable)&&(s[l].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),n||(s[l].style={});for(r in t)if(t.hasOwnProperty(r)){s[l].style[r]=s[l].style[r]||{};for(var c in t[r])s[l].style[r][c]=t[r][c]}}},i=this;a(f);for(var s=0;s<d.length;s++)a(d[s]);o&&(y=null)},this.setClickable=function(e,t,n){var r;for(r in e)l.indexOf(r)===-1&&console.log("Unknown selector "+r);if(t=!!t,n&&"function"!=typeof n)return void console.log("Callback is not a function");var o,a=this.selectedAtoms(e,f),i=a.length;for(o=0;o<i;o++)a[o].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},a[o].clickable=t,n&&(a[o].callback=n);i>0&&(y=null)},this.setHoverable=function(e,t,n,r){var o;for(o in e)l.indexOf(o)===-1&&console.log("Unknown selector "+o);if(t=!!t,n&&"function"!=typeof n)return void console.log("Hover_callback is not a function");if(r&&"function"!=typeof r)return void console.log("Unhover_callback is not a function");var a,i=this.selectedAtoms(e,f),s=i.length;for(a=0;a<s;a++)i[a].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},i[a].hoverable=t,n&&(i[a].hover_callback=n),r&&(i[a].unhover_callback=r);s>0&&(y=null)},this.setColorByElement=function(e,t){if(null===y||!u(t,v)){v=t;var n=this.selectedAtoms(e,n);n.length>0&&(y=null);for(var r=0;r<n.length;r++){var o=n[r];"undefined"!=typeof t[o.elem]&&(o.color=t[o.elem])}}},this.setColorByProperty=function(e,t,r,o){var a,i,s=this.selectedAtoms(e,s);for(v=null,s.length>0&&(y=null),"undefined"!=typeof n.Gradient.builtinGradients[r]&&(r=new n.Gradient.builtinGradients[r]),o||(o=r.range()),o||(o=n.getPropertyRange(s,t)),a=0;a<s.length;a++){i=s[a];var l=n.getAtomProperty(i,t);null!=l&&(i.color=r.valueToHex(parseFloat(i.properties[t]),o))}},this.setColorByFunction=function(e,t){var n=this.selectedAtoms(e,n);if("function"==typeof t)for(v=null,n.length>0&&(y=null),i=0;i<n.length;i++)a=n[i],a.color=t(a)},this.toCDObject=function(e){var t={a:[],b:[]};e&&(t.s=[]);for(var n=0;n<f.length;n++){var r={},o=f[n];if(r.x=o.x,r.y=o.y,r.z=o.z,"C"!=o.elem&&(r.l=o.elem),e){for(var a=0;a<t.s.length&&JSON.stringify(o.style)!==JSON.stringify(t.s[a]);)a++;a===t.s.length&&t.s.push(o.style),0!==a&&(r.s=a)}t.a.push(r);for(var i=0;i<o.bonds.length;i++){var s=n,l=o.bonds[i];if(!(s>=l)){var c={b:s,e:l},u=o.bondOrder[i];1!=u&&(c.o=u),t.b.push(c)}}}return t},this.globj=function(e,t){new Date;if(null===y){y=N(f,t);new Date;g&&(e.remove(g),g=null),g=y.clone(),m&&(g.setVisible(!1),y.setVisible(!1)),e.add(g)}},this.removegl=function(e){g&&(void 0!==g.geometry&&g.geometry.dispose(),void 0!==g.material&&g.material.dispose(),e.remove(g),g=null),y=null},this.hide=function(){m=!0,g&&g.setVisible(!1),y&&y.setVisible(!1)},this.show=function(){m=!1,g&&g.setVisible(!0),y&&y.setVisible(!0)},this.addResLabels=function(e,t,r){for(var o=this.selectedAtoms(e,o),a={},i=0;i<o.length;i++){var s=o[i],l=s.chain,c=s.resn,u=s.resi,p=c+""+u;a[l]||(a[l]={}),a[l][p]||(a[l][p]=[]),a[l][p].push(s)}var f=$.extend(!0,{},r);for(var l in a)if(a.hasOwnProperty(l)){var d=a[l];for(var p in d)if(d.hasOwnProperty(p)){for(var o=d[p],h=new n.Vector3(0,0,0),i=0;i<o.length;i++){var s=o[i];h.x+=s.x,h.y+=s.y,h.z+=s.z}h.divideScalar(o.length),f.position=h,t.addLabel(p,f)}}},this.setCoordinates=function(t,n){if(n=n||"",!t)return[];if(/\.gz$/.test(n)){n=n.replace(/\.gz$/,"");try{t=pako.inflate(t,{to:"string"})}catch(e){console.log(e)}}if("mdcrd"==n||"inpcrd"==n||"pdb"==n){d=[];for(var r=f.length,o=e.parseCrd(t,n),a=0;a<o.length;){for(var i=[],s=0;s<r;s++){var l={};for(var c in f[s])l[c]=f[s][c];i[s]=l,i[s].x=o[a++],i[s].y=o[a++],i[s].z=o[a++]}d.push(i)}return f=d[0],d}return[]},this.addAtomSpecs=function(e){for(var t=0;t<e.length;t++)l.indexOf(e[t])==-1&&l.push(e[t])}}var t={line:{}},r=1,o={H:1.2,Li:1.82,LI:1.82,Na:2.27,NA:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,Cl:1.75,BR:1.85,Br:1.85,SE:1.9,Se:1.9,ZN:1.39,Zn:1.39,CU:1.4,Cu:1.4,NI:1.63,Ni:1.63},s=["resn","x","y","z","color","surfaceColor","elem","hetflag","chain","resi","icode","rescode","serial","atom","bonds","ss","singleBonds","bondOrder","properties","b","pdbline","clickable","callback","invert","reflectivity","altLoc"],l=s.concat(["model","bonds","predicate","invert","byres","expand","within","and","or","not"]),c=["line","cross","stick","sphere","cartoon","colorfunc"],u=function(e,t){return e&&t?JSON.stringify(e)==JSON.stringify(t):e==t};return e.parseCrd=function(e,t){var n=[],r=0;if("pdb"==t){for(var o=e.indexOf("\nATOM");o!=-1;){for(;"\nATOM"==e.slice(o,o+5)||"\nHETATM"==e.slice(o,o+7);)n[r++]=parseFloat(e.slice(o+31,o+39)),n[r++]=parseFloat(e.slice(o+39,o+47)),n[r++]=parseFloat(e.slice(o+47,o+55)),o=e.indexOf("\n",o+54),"\nTER"==e.slice(o,o+4)&&(o=e.indexOf("\n",o+5));o=e.indexOf("\nATOM",o)}return n}var o=e.indexOf("\n");return"inpcrd"==t&&(o=e.indexOf("\n",o+1)),e=e.slice(o+1),n=e.match(/\S+/g).map(parseFloat)},e.parseMolData=function(e,t,r){if(t=t||"",!e)return[];if(/\.gz$/.test(t)){t=t.replace(/\.gz$/,"");try{e=pako.inflate(e,{to:"string"})}catch(e){console.log(e)}}"undefined"==typeof n.Parsers[t]&&(t=t.split(".").pop(),"undefined"==typeof n.Parsers[t]&&(console.log("Unknown format: "+t),t=e.match(/^@<TRIPOS>MOLECULE/gm)?"mol2":e.match(/^HETATM/gm)||e.match(/^ATOM/gm)?"pdb":e.match(/^.*\n.*\n.\s*(\d+)\s+(\d+)/gm)?"sdf":e.match(/^%VERSION\s+\VERSION_STAMP/gm)?"prmtop":"xyz",console.log("Best guess: "+t)));var o=n.Parsers[t],a=o(e,r);return a},e.setAtomDefaults=function(e,n){for(var r=0;r<e.length;r++){var o=e[r];o&&(o.style=o.style||t,o.color=o.color||ElementColors[o.elem]||defaultColor,o.model=n,(o.clickable||o.hoverable)&&(o.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}))}},e}(),n.GLShape=function(){function e(e){e=e||{},n.ShapeIDCount++,this.boundingSphere=new n.Sphere,this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},c(this,e);var i=[],u=null,p=null,f=new n.Geometry(!0),d=new n.Geometry(!0);this.updateStyle=function(t){for(var n in t)e[n]=t[n];c(this,e)},this.addCustom=function(e){e.vertexArr=e.vertexArr||[],e.faceArr=e.faceArr||[],e.normalArr=e.normalArr||[];f.geometryGroups.length;s(this,f,e)},this.addSphere=function(e){e.center=e.center||{x:0,y:0,z:0},e.radius=e.radius?n.Math.clamp(e.radius,0,1/0):1.5,e.color=n.CC.color(e.color),this.intersectionShape.sphere.push(new n.Sphere(e.center,e.radius)),n.GLDraw.drawSphere(f,e.center,e.radius,e.color),i.push({centroid:new n.Vector3(e.center.x,e.center.y,e.center.z)});var t=f.updateGeoGroup(0);l(this.boundingSphere,i,t.vertexArray)},this.addCylinder=function(e){e.start=e.start||{},e.end=e.end||{};var t=new n.Vector3(e.start.x||0,e.start.y||0,e.start.z||0),r=new n.Vector3(e.end.x,e.end.y||0,e.end.z||0);"undefined"==typeof r.x&&(r.x=3);var o=e.radius||.1,a=n.CC.color(e.color);this.intersectionShape.cylinder.push(new n.Cylinder(t,r,o)),n.GLDraw.drawCylinder(f,t,r,o,a,e.fromCap,e.toCap);var s=new n.Vector3;i.push({centroid:s.addVectors(t,r).multiplyScalar(.5)});var c=f.updateGeoGroup(0);l(this.boundingSphere,i,c.vertexArray)},this.addDashedCylinder=function(e){console.log("addDashedCylinder"),e.start=e.start||{},e.end=e.end||{},e.dashLength=e.dashLength||.25,e.gapLength=e.gapLength||.25;var t=new n.Vector3(e.start.x||0,e.start.y||0,e.start.z||0),r=new n.Vector3(e.end.x,e.end.y||0,e.end.z||0);"undefined"==typeof r.x&&(r.x=3);for(var o=e.radius||.1,a=n.CC.color(e.color),s=Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)+Math.pow(t.z-r.z,2)),c=s/(e.gapLength+e.dashLength),u=new n.Vector3(e.start.x||0,e.start.y||0,e.start.z||0),p=new n.Vector3(e.end.x,e.end.y||0,e.end.z||0),d=new n.Vector3((r.x-t.x)/(s/e.gapLength),(r.y-t.y)/(s/e.gapLength),(r.z-t.z)/(s/e.gapLength)),h=new n.Vector3((r.x-t.x)/(s/e.dashLength),(r.y-t.y)/(s/e.dashLength),(r.z-t.z)/(s/e.dashLength)),m=0;m<c;m++)p=new n.Vector3(u.x+h.x,u.y+h.y,u.z+h.z),this.intersectionShape.cylinder.push(new n.Cylinder(u,p,o)),n.GLDraw.drawCylinder(f,u,p,o,a,e.fromCap,e.toCap),u=new n.Vector3(p.x+d.x,p.y+d.y,p.z+d.z);var y=new n.Vector3;i.push({centroid:y.addVectors(t,r).multiplyScalar(.5)});var g=f.updateGeoGroup(0);l(this.boundingSphere,i,g.vertexArray)},this.addLine=function(e){e.start=e.start||{},e.end=e.end||{};var t=new n.Vector3(e.start.x||0,e.start.y||0,e.start.z||0),r=new n.Vector3(e.end.x,e.end.y||0,e.end.z||0);"undefined"==typeof r.x&&(r.x=3);var o=f.updateGeoGroup(2),a=o.vertices,i=3*a,s=o.vertexArray;s[i]=t.x,s[i+1]=t.y,s[i+2]=t.z,s[i+3]=r.x,s[i+4]=r.y,s[i+5]=r.z,o.vertices+=2;var l=o.lineArray,c=o.lineidx;l[c]=a,l[c+1]=a+1,o.lineidx+=2},this.addArrow=function(e){if(e.start=e.start||{},e.end=e.end||{},e.start=new n.Vector3(e.start.x||0,e.start.y||0,e.start.z||0),e.dir instanceof n.Vector3&&e.length instanceof number){var t=e.dir.clone().multiplyScalar(e.length).add(start);e.end=t}else e.end=new n.Vector3(e.end.x,e.end.y||0,e.end.z||0),"undefined"==typeof e.end.x&&(e.end.x=3);e.radius=e.radius||.1,e.radiusRatio=e.radiusRatio||1.618034,e.mid=0<e.mid&&e.mid<1?e.mid:.618034,a(this,f,e);var r=new n.Vector3;i.push({centroid:r.addVectors(e.start,e.end).multiplyScalar(.5)});var o=f.updateGeoGroup(0);l(this.boundingSphere,i,o.vertexArray)},this.addIsosurface=function(e,r,o){var a,i,l=void 0!==r.isoval&&"number"==typeof r.isoval?r.isoval:0,c=!!r.voxel,u=void 0===r.smoothness?1:r.smoothness,p=e.size.x,d=e.size.y,m=e.size.z,y=new Int16Array(p*d*m),g=e.data;for(a=0,i=y.length;a<i;++a)y[a]=-1;var v=new Uint8Array(p*d*m);for(a=0,i=g.length;a<i;++a){var b=l>=0?g[a]-l:l-g[a];b>0&&(v[a]|=t)}var w=[],C=[];n.MarchingCube.march(v,w,C,{fulltable:!0,voxel:c,unitCube:e.unit,origin:e.origin,matrix:e.matrix,nX:p,nY:d,nZ:m}),!c&&u>0&&n.MarchingCube.laplacianSmooth(u,w,C);var T=[],S=[],x=[];if(void 0!==r.selectedRegion){for(var A=r.selectedRegion[0],k=r.selectedRegion[0],E=r.selectedRegion[0],M=r.selectedRegion[0],_=r.selectedRegion[0],P=r.selectedRegion[0],a=0;a<r.selectedRegion.length;a++)r.selectedRegion[a].x>A.x?A=r.selectedRegion[a]:r.selectedRegion[a].x<M.x&&(M=r.selectedRegion[a]),r.selectedRegion[a].y>k.y?k=r.selectedRegion[a]:r.selectedRegion[a].y<_.y&&(_=r.selectedRegion[a]),r.selectedRegion[a].z>E.z?E=r.selectedRegion[a]:r.selectedRegion[a].z<P.z&&(P=r.selectedRegion[a]);var O=r.radius;A.x=A.x+O,M.x=M.x-O,_.y=_.y-O,k.y=k.y+O,P.z=P.z-O,E.z=E.z+O;for(var a=0;a<w.length;a++)w[a].x>M.x&&w[a].x<A.x&&w[a].y>_.y&&w[a].y<k.y&&w[a].z>P.z&&w[a].z<E.z&&h(w[a],r.selectedRegion,r.selectedOffset,r.radius)?(T.push(S.length),S.push(w[a])):T.push(-1);for(var a=0;a+2<C.length;a+=3)T[C[a]]!==-1&&T[C[a+1]]!==-1&&T[C[a+2]]!==-1&&(x.push(C[a]-(C[a]-T[C[a]])),x.push(C[a+1]-(C[a+1]-T[C[a+1]])),x.push(C[a+2]-(C[a+2]-T[C[a+2]])));w=S,C=x}s(this,f,{vertexArr:w,faceArr:C,normalArr:[],clickable:r.clickable,hoverable:r.hoverable}),this.updateStyle(r);for(var I=new n.Vector3(e.origin.x,e.origin.y,e.origin.z),R=new n.Vector3(e.size.x*e.unit.x,e.size.y*e.unit.y,e.size.z*e.unit.z),L=new n.Vector3(0,0,0),j=I.clone(),D=I.clone().add(R),a=0;a<w.length;a++)L.add(w[a]),j.max(w[a]),D.min(w[a]);L.divideScalar(w.length);var N=L.distanceTo(D),G=L.distanceTo(j);this.boundingSphere.center=L,this.boundingSphere.radius=Math.max(N,G),"function"==typeof o&&o()};var h=function(e,t,n,r){for(var o=0;o<t.length;o++)if(m(t[o],e)<=r)return!0;return!1},m=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2))};this.addVolumetricData=function(e,t,r){var e=new n.VolumeData(e,t);this.addIsosurface(e,r)},this.globj=function(e){if(p&&(e.remove(p),p=null),!this.hidden){r(f),f.initTypedArrays(),"undefined"!=typeof this.color&&o(f,this.color),u=new n.Object3D;var t=null;if(this.side==n.DoubleSide)var t=new n.MeshDoubleLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth});else var t=new n.MeshLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth});var a=new n.Mesh(f,t);u.add(a);var i=new n.LineBasicMaterial({linewidth:this.linewidth,color:this.color}),s=new n.Line(d,i,n.LinePieces);u.add(s),p=u.clone(),e.add(p)}},this.removegl=function(e){p&&(void 0!==p.geometry&&p.geometry.dispose(),void 0!==p.material&&p.material.dispose(),e.remove(p),p=null),u=null}}var t=2,r=function(e){var t=e.updateGeoGroup(0);t.vertices>0&&t.truncateArrayBuffers(!0,!0)},o=function(e,t){t||n.CC.color(t);e.colorsNeedUpdate=!0;var r,o,a;t.constructor!==Array&&(r=t.r,o=t.g,a=t.b);for(var i in e.geometryGroups)for(var s=e.geometryGroups[i],l=s.colorArray,c=0,u=s.vertices;c<u;++c){if(t.constructor===Array){var p=t[c];r=p.r,o=p.g,a=p.b}l[3*c]=r,l[3*c+1]=o,l[3*c+2]=a}},a=function(e,t,r){var o=r.start,a=r.end,i=r.radius,s=r.radiusRatio,l=r.mid;if(o&&a){var c=t.updateGeoGroup(51),u=a.clone();u.sub(o).multiplyScalar(l);var p=o.clone().add(u),f=u.clone().negate();e.intersectionShape.cylinder.push(new n.Cylinder(o.clone(),p.clone(),i)),e.intersectionShape.sphere.push(new n.Sphere(o.clone(),i));var d=[];d[0]=u.clone(),Math.abs(d[0].x)>1e-4?d[0].y+=1:d[0].x+=1,d[0].cross(u),d[0].normalize(),d[0]=d[0],d[4]=d[0].clone(),d[4].crossVectors(d[0],u),d[4].normalize(),d[8]=d[0].clone().negate(),d[12]=d[4].clone().negate(),d[2]=d[0].clone().add(d[4]).normalize(),d[6]=d[4].clone().add(d[8]).normalize(),d[10]=d[8].clone().add(d[12]).normalize(),d[14]=d[12].clone().add(d[0]).normalize(),d[1]=d[0].clone().add(d[2]).normalize(),d[3]=d[2].clone().add(d[4]).normalize(),d[5]=d[4].clone().add(d[6]).normalize(),d[7]=d[6].clone().add(d[8]).normalize(),d[9]=d[8].clone().add(d[10]).normalize(),d[11]=d[10].clone().add(d[12]).normalize(),d[13]=d[12].clone().add(d[14]).normalize(),d[15]=d[14].clone().add(d[0]).normalize();var h,m,y,g=c.vertices,v=c.vertexArray,b=(c.colorArray,c.faceArray),w=c.normalArray,C=c.lineArray;for(m=0,y=d.length;m<y;++m){h=3*(g+3*m);var T=d[m].clone().multiplyScalar(i).add(o),S=d[m].clone().multiplyScalar(i).add(p),x=d[m].clone().multiplyScalar(i*s).add(p);if(v[h]=T.x,v[h+1]=T.y,v[h+2]=T.z,v[h+3]=S.x,v[h+4]=S.y,v[h+5]=S.z,v[h+6]=x.x,v[h+7]=x.y,v[h+8]=x.z,m>0){var A=v[h-3],k=v[h-2],E=v[h-1],M=new n.Vector3(A,k,E),_=a.clone(),P=p.clone(),O=new n.Vector3(x.x,x.y,x.z);e.intersectionShape.triangle.push(new n.Triangle(O,_,M)),e.intersectionShape.triangle.push(new n.Triangle(M.clone(),P,O.clone()))}}c.vertices+=48,h=3*c.vertices,v[h]=o.x,v[h+1]=o.y,v[h+2]=o.z,v[h+3]=p.x,v[h+4]=p.y,v[h+5]=p.z,v[h+6]=a.x,v[h+7]=a.y,v[h+8]=a.z,c.vertices+=3;var I,R,L,j,D,N,G,F,q,B,z,H,U,V,K,W,$,Y,Q,X,Z=c.vertices-3,J=c.vertices-2,ee=c.vertices-1,te=3*Z,ne=3*J,re=3*ee;for(m=0,y=d.length-1;m<y;++m){var oe=g+3*m;h=3*oe,L=c.faceidx,j=c.lineidx,D=oe,z=3*D,N=oe+1,H=3*N,G=oe+2,U=3*G,F=oe+4,V=3*F,q=oe+5,K=3*q,B=oe+3,W=3*B,R=[d[m],d[m],d[m+1],d[m+1]],$=Y=d[m],Q=X=d[m+1],w[z]=$.x,w[H]=Y.x,w[W]=X.x,w[z+1]=$.y,w[H+1]=Y.y,w[W+1]=X.y,w[z+2]=$.z,w[H+2]=Y.z,w[W+2]=X.z,w[H]=Y.x,w[V]=Q.x,w[W]=X.x,w[H+1]=Y.y,w[V+1]=Q.y,w[W+1]=X.y,w[H+2]=Y.z,w[V+2]=Q.z,w[W+2]=X.z,w[U]=Y.x,w[K]=Q.x,w[U+1]=Y.y,w[K+1]=Q.y,w[U+2]=Y.z,w[K+2]=Q.z,b[L]=D,b[L+1]=N,b[L+2]=B,b[L+3]=N,b[L+4]=F,b[L+5]=B,b[L+6]=D,b[L+7]=B,b[L+8]=Z,b[L+9]=G,b[L+10]=J,b[L+11]=q,b[L+12]=G,b[L+13]=ee,b[L+14]=q,C[j]=D,C[j+1]=N,C[j+2]=D,C[j+3]=B,C[j+4]=F,C[j+5]=B,C[j+6]=D,C[j+7]=B,C[j+8]=G,C[j+9]=N,C[j+10]=G,C[j+11]=q,C[j+12]=F,C[j+13]=q,C[j+14]=G,C[j+15]=ee,C[j+16]=G,C[j+17]=q,C[j+18]=ee,C[j+19]=q,c.faceidx+=15,c.lineidx+=20}I=[g+45,g+46,g+1,g,g+47,g+2],R=[d[15],d[15],d[0],d[0]],L=c.faceidx,j=c.lineidx,D=I[0],z=3*D,N=I[1],H=3*N,G=I[4],U=3*G,F=I[2],V=3*F,q=I[5],K=3*q,B=I[3],W=3*B,$=Y=d[15],Q=X=d[0],w[z]=$.x,w[H]=Y.x,w[W]=X.x,w[z+1]=$.y,w[H+1]=Y.y,w[W+1]=X.y,w[z+2]=$.z,w[H+2]=Y.z,w[W+2]=X.z,w[H]=Y.x,w[V]=Q.x,w[W]=X.x,w[H+1]=Y.y,w[V+1]=Q.y,w[W+1]=X.y,w[H+2]=Y.z,w[V+2]=Q.z,w[W+2]=X.z,w[U]=Y.x,w[K]=Q.x,w[U+1]=Y.y,w[K+1]=Q.y,w[U+2]=Y.z,w[K+2]=Q.z,u.normalize(),f.normalize(),w[te]=f.x,w[ne]=w[re]=u.x,w[te+1]=f.y,w[ne+1]=w[re+1]=u.y,w[te+2]=f.z,w[ne+2]=w[re+2]=u.z,b[L]=D,b[L+1]=N,b[L+2]=B,b[L+3]=N,b[L+4]=F,b[L+5]=B,b[L+6]=D,b[L+7]=B,b[L+8]=Z,b[L+9]=G,b[L+10]=J,b[L+11]=q,b[L+12]=G,b[L+13]=ee,b[L+14]=q,C[j]=D,C[j+1]=N,C[j+2]=D,C[j+3]=B,C[j+4]=F,C[j+5]=B,C[j+6]=D,C[j+7]=B,C[j+8]=G,C[j+9]=N,C[j+10]=G,C[j+11]=q,C[j+12]=F,C[j+13]=q,C[j+14]=G,C[j+15]=ee,C[j+16]=G,C[j+17]=q,C[j+18]=ee,C[j+19]=q,c.faceidx+=15,c.lineidx+=20}},i=function(e,t,r,o,a){var i=t.addGeoGroup(),s=r.vertexArr,c=r.normalArr,u=r.faceArr;i.vertices=s.length,i.faceidx=u.length;var p,f,d,h,m,y,g,v=i.vertexArray,b=i.colorArray;if(o.constructor!==Array)var w=o.r,C=o.g,h=o.b;for(y=0,g=i.vertices;y<g;++y){if(p=3*y,f=s[y],v[p]=f.x,v[p+1]=f.y,v[p+2]=f.z,o.constructor===Array)var m=o[y],w=m.r,C=m.g,h=m.b;b[p]=w,b[p+1]=C,b[p+2]=h}if(a)for(y=0,g=i.faceidx/3;y<g;++y){p=3*y,d=u[p],h=u[p+1],m=u[p+2];var T=new n.Vector3,S=new n.Vector3,x=new n.Vector3;e.intersectionShape.triangle.push(new n.Triangle(T.copy(s[d]),S.copy(s[h]),x.copy(s[m])))}if(a){for(var A=new n.Vector3(0,0,0),k=0,C=0;C<t.geometryGroups.length;C++)A.add(t.geometryGroups[C].getCentroid()),k++;A.divideScalar(k),l(e.boundingSphere,{centroid:A},v)}if(i.faceArray=new Uint16Array(u),i.truncateArrayBuffers(!0,!0),c.length<i.vertices)i.setNormals();else{var E,M=i.normalArray=new Float32Array(3*i.vertices);for(y=0,g=i.vertices;y<g;++y)p=3*y,E=c[y],M[p]=E.x,M[p+1]=E.y,M[p+2]=E.z}i.setLineIndices(),i.lineidx=i.lineArray.length},s=function(e,t,r){var o=r,a=o.vertexArr,s=(o.normalArr,o.faceArr);0!==a.length&&0!==s.length||console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");var l=r.color;"undefined"==typeof l&&(l=e.color),l=n.CC.color(l);for(var c=n.splitMesh(o),u=0,p=c.length;u<p;u++)i(e,t,c[u],c[u].colorArr?c[u].colorArr:l,r.clickable)},l=function(e,t,n){e.center.set(0,0,0);var r,o;if(t.length>0){for(r=0,o=t.length;r<o;++r){var a=t[r].centroid;e.center.add(a)}e.center.divideScalar(t.length)}var i=e.radius*e.radius;for(r=0,o=n.length/3;r<o;r++){var s=n[3*r],l=n[3*r+1],c=n[3*r+2],u=e.center.distanceToSquared({x:s,y:l,z:c});i=Math.max(i,u)}e.radius=Math.sqrt(i)},c=function(e,t){"undefined"!=typeof t.color?(e.color=t.color||new n.Color,t.color instanceof n.Color||(e.color=n.CC.color(t.color))):e.color=n.CC.color(0),e.wireframe=!!t.wireframe,e.opacity=t.alpha?n.Math.clamp(t.alpha,0,1):1,"undefined"!=typeof t.opacity&&(e.opacity=n.Math.clamp(t.opacity,0,1)),e.side=void 0!==t.side?t.side:n.DoubleSide,e.linewidth="undefined"==typeof t.linewidth?1:t.linewidth,e.clickable=!!t.clickable,e.callback="function"==typeof t.callback?t.callback:null,e.hoverable=!!t.hoverable,e.hover_callback="function"==typeof t.hover_callback?t.hover_callback:null,e.unhover_callback="function"==typeof t.unhover_callback?t.unhover_callback:null,e.hidden=t.hidden};return Object.defineProperty(e.prototype,"position",{get:function(){return this.boundingSphere.center}}),Object.defineProperty(e.prototype,"x",{get:function(){return this.boundingSphere.center.x}}),Object.defineProperty(e.prototype,"y",{get:function(){return this.boundingSphere.center.y}}),Object.defineProperty(e.prototype,"z",{get:function(){return this.boundingSphere.center.z}}),e}(),n.ShapeIDCount=0,n.splitMesh=function(e){var t=64e3;if(e.vertexArr.length<t)return[e];var n=(e.vertexArr.length,[{vertexArr:[],normalArr:[],faceArr:[]}]);e.colorArr&&(n.colorArr=[]);for(var r=[],o=[],a=0,i=e.faceArr,s=0,l=i.length;s<l;s+=3){for(var c=n[a],u=0;u<3;u++){var p=i[s+u];r[p]!==a&&(r[p]=a,o[p]=c.vertexArr.length,c.vertexArr.push(e.vertexArr[p]),e.normalArr&&e.normalArr[p]&&c.normalArr.push(e.normalArr[p]),e.colorArr&&e.colorArr[p]&&c.colorArr.push(e.colorArr[p])),
c.faceArr.push(o[p])}c.vertexArr.length>=t&&(n.push({vertexArr:[],normalArr:[],faceArr:[]}),e.colorArr&&(n.colorArr=[]),a++)}return n},n.GLViewer=function(){function e(e,o){function a(e){var t=[];"undefined"==typeof e&&(e={});var n,r=[];if("undefined"==typeof e.model)for(n=0;n<v.length;n++)v[n]&&r.push(v[n]);else r=e.model,$.isArray(r)||(r=[r]);for(n=0;n<r.length;n++)t=t.concat(r[n].selectedAtoms(e));return t}function i(e,t){"undefined"==typeof t&&(t={});var n,r=[];if("undefined"==typeof t.model)for(n=0;n<v.length;n++)v[n]&&r.push(v[n]);else r=t.model,$.isArray(r)||(r=[r]);for(n=0;n<r.length;n++)if(r[n].atomIsSelected(e,t))return!0;return!1}function s(e,t){e.dashLength=e.dashLength||.5,e.gapLength=e.gapLength||.5,e.start=e.start||{},e.end=e.end||{};var r,o,a,i=new n.Vector3(e.start.x||0,e.start.y||0,e.start.z||0),s=new n.Vector3(e.end.x,e.end.y||0,e.end.z||0),l=new n.Vector3,c=new n.Vector3,u=new n.Vector3,p=i.clone(),f=0;for(l.subVectors(s,i),r=l.length(),l.normalize(),c=l.clone(),u=l.clone(),c.multiplyScalar(e.dashLength),u.multiplyScalar(e.gapLength),o=c.length(),a=u.length();f<r;){if(f+o>r){e.start=i,e.end=s,t.addLine(e);break}p.addVectors(i,c),e.start=i,e.end=p,t.addLine(e),i=p.clone(),f+=o,p.addVectors(i,u),i=p.clone(),f+=a}return t}function l(e,t,n,r,o){var a=[];if("undefined"==typeof t.model)for(i=0;i<v.length;i++)v[i]&&a.push(v[i]);else a=t.model,$.isArray(a)||(a=[a]);for(var i=0;i<a.length;i++)a[i]&&("number"==typeof a[i]?v[a[i]][e](t,n,r,o):a[i][e](t,n,r,o))}function c(e){var t=new n.MeshLambertMaterial;t.vertexColors=n.VertexColors;for(var r in e)"color"===r||"map"===r||e.hasOwnProperty(r)&&(t[r]=e[r]);return void 0!==e.opacity&&(1===e.opacity?t.transparent=!1:t.transparent=!0),t}o=o||{};var u=o.callback,p=o.defaultcolors;p||(p=n.elementColors.defaultColors);var f=o.nomouse,d=0;o.backgroundColor=o.backgroundColor||"#ffffff",void 0!=typeof o.backgroundColor&&(d=n.CC.color(o.backgroundColor).getHex());var h=0;void 0!=typeof o.camerax&&(h=parseFloat(o.camerax));var m=this,y=e,g=(y.id,null),v=[],b={},w=[],C=[],T=[],S=[],x=[],A=null,k=500;void 0!=typeof o.hoverDuration&&(k=o.hoverDuration);var E=y.width(),M=y.height(),_=E/M,P=1,O=800,I=150,R=20,L=[],j=new n.Renderer({antialias:!0,preserveDrawingBuffer:!0,premultipliedAlpha:!1,id:o.id});j.domElement.style.width="100%",j.domElement.style.height="100%",j.domElement.style.padding="0",j.domElement.style.position="absolute",j.domElement.style.top="0px",j.domElement.style.left="0px",j.domElement.style.zIndex="0";var D=new n.Camera(R,_,P,O,o.orthographic);D.position=new n.Vector3(h,0,I);var N=new n.Vector3;D.lookAt(N);var G=new n.Raycaster(new n.Vector3(0,0,0),new n.Vector3(0,0,0)),F=new n.Projector,q=new n.Vector3(0,0,0),B=null,z=null,H=null,U=.4,V=-50,K=50,W=new n.Quaternion(0,0,0,1),Y=new n.Quaternion(0,0,0,1),Q=!1,X=!1,Z=0,J=0,ee=0,te=0,ne=0,re=0,oe=0,ae=function(){var e=0;for(var t in b)b.hasOwnProperty(t)&&t>e&&(e=t);return e+1},ie=function(){var e=D.position.z-z.position.z;e<1&&(e=1),D.near=e+V,D.near<1&&(D.near=1),D.far=e+K,D.near+1>D.far&&(D.far=D.near+1),D.fov=R,D.right=e*Math.tan(Math.PI/180*R),D.left=-D.right,D.top=D.right/_,D.bottom=-D.top,D.updateProjectionMatrix(),B.fog.near=D.near+U*(D.far-D.near),B.fog.far=D.far,o.disableFog&&(B.fog.near=B.fog.far)},se=function(e){if(B&&(ie(),j.render(B,D),!e&&L.length>0))for(var t=m.getView(),n=0;n<L.length;n++){var r=L[n];r.setView(t,!0)}},le=function(){B=new n.Scene,B.fog=new n.Fog(d,100,200),H=new n.Object3D,z=new n.Object3D,z.useQuaternion=!0,z.quaternion=new n.Quaternion(0,0,0,1),z.add(H),B.add(z);var e=new n.Light(16777215);e.position=new n.Vector3(.2,.2,1).normalize(),e.intensity=1,B.add(e)};le(),j.setClearColorHex(d,1),B.fog.color=n.CC.color(d);var ce=null,ue=function(){S.splice(0,S.length),x.splice(0,x.length);var e,t;for(e=0,t=v.length;e<t;e++){var n=v[e];if(n){var r=n.selectedAtoms({clickable:!0}),o=n.selectedAtoms({hoverable:!0});Array.prototype.push.apply(x,o),Array.prototype.push.apply(S,r)}}for(e=0,t=w.length;e<t;e++){var a=w[e];a&&a.clickable&&S.push(a),a&&a.hoverable&&x.push(a)}},pe=function(e,t,n){if(0!=S.length){var r={x:e,y:t,z:-1};q.set(r.x,r.y,r.z),F.unprojectVector(q,D),q.sub(D.position).normalize(),G.set(D.position,q);var o=[];if(o=G.intersectObjects(H,S),o.length){var a=o[0].clickable;void 0!==a.callback&&"function"==typeof a.callback&&a.callback(a,m,n,y)}}},fe=function(e,t,n){if(0!=x.length){var r={x:e,y:t,z:-1};q.set(r.x,r.y,r.z),F.unprojectVector(q,D),q.sub(D.position).normalize(),G.set(D.position,q);var o=[];if(o=G.intersectObjects(H,x),o.length){var a=o[0].clickable;A=a,void 0!==a.hover_callback&&"function"==typeof a.hover_callback&&a.hover_callback(a,m,n,y)}else A=null}},de=function(e,t,n){var r={x:e,y:t,z:-1};q.set(r.x,r.y,r.z),F.unprojectVector(q,D),q.sub(D.position).normalize(),G.set(D.position,q);var o=[];o=G.intersectObjects(H,x),void 0===o[0]&&(A.unhover_callback(A,m,n,y),A=null),void 0!==o[0]&&o[0].clickable!==A&&(A.unhover_callback(A,m,n,y),A=null)},he=function(e){var t=e.originalEvent.targetTouches[0].pageX-e.originalEvent.targetTouches[1].pageX,n=e.originalEvent.targetTouches[0].pageY-e.originalEvent.targetTouches[1].pageY;return Math.sqrt(t*t+n*n)},me=function(e){var t=e.pageX,n=e.pageY;return e.originalEvent.targetTouches&&e.originalEvent.targetTouches[0]?(t=e.originalEvent.targetTouches[0].pageX,n=e.originalEvent.targetTouches[0].pageY):e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(t=e.originalEvent.changedTouches[0].pageX,n=e.originalEvent.changedTouches[0].pageY),[t,n]},ye=function(e,t){var r=e/E,o=t/M,a=z.position.z,i=z.quaternion,s=new n.Vector3(0,0,a);return F.projectVector(s,D),s.x+=2*r,s.y-=2*o,F.unprojectVector(s,D),s.z=0,s.applyQuaternion(i),s};$("body").bind("mouseup touchend",function(e){if(X&&B){var t=me(e),n=t[0],r=t[1];if(n==Z&&r==J){var o=$("canvas",y).offset(),a=(n-o.left)/E*2-1,i=2*-((r-o.top)/M)+1;pe(a,i,e,y)}}X=!1});var ge,ve=this._handleMouseDown=function(e){if(e.preventDefault(),B){var t=me(e),n=t[0],r=t[1];void 0!==n&&(X=!0,ce=null,ge=e.which,Z=n,J=r,ee=0,e.originalEvent.targetTouches&&2==e.originalEvent.targetTouches.length&&(ee=he(e)),W=z.quaternion,ne=z.position.z,te=H.position.clone(),re=V,oe=K)}},be=this._handleMouseScroll=function(e){if(e.preventDefault(),B){var t=.85*(I-z.position.z),n=1;e.originalEvent.ctrlKey&&(n=-1),e.originalEvent.detail?z.position.z+=n*t*e.originalEvent.detail/10:e.originalEvent.wheelDelta&&(z.position.z-=n*t*e.originalEvent.wheelDelta/400),z.position.z>I&&(z.position.z=.999*I),se()}};this.pngURI=function(){return $("canvas",y)[0].toDataURL("image/png")},this.setHoverDuration=function(e){k=e};var we,Ce=this._handleMouseMove=function(e){clearTimeout(we);var t=$("canvas",y).offset(),r=(me(e)[0]-t.left)/E*2-1,o=2*-((me(e)[1]-t.top)/M)+1;if(null!==A&&de(r,o,e),we=setTimeout(function(){fe(r,o,e)},k),E=y.width(),M=y.height(),e.preventDefault(),B&&X){var a=0,i=me(e),s=i[0],l=i[1];if(void 0!==s){var c=(s-Z)/E,u=(l-J)/M;if(0!=ee&&e.originalEvent.targetTouches&&2==e.originalEvent.targetTouches.length){var p=he(e);a=2,u=2*(p-ee)/(E+M),console.log("pinch "+ee+" dy "+u)}else e.originalEvent.targetTouches&&3==e.originalEvent.targetTouches.length&&(a=1);var f,d=Math.sqrt(c*c+u*u);if(3==a||3==ge&&e.ctrlKey)V=re+100*c,K=oe+100*u;else if(2==a||3==ge||e.shiftKey)f=.85*(I-z.position.z),f<80&&(f=80),z.position.z=ne+u*f,z.position.z>I&&(z.position.z=.999*I);else if(1==a||2==ge||e.ctrlKey){var h=ye(s-Z,l-J);H.position.addVectors(te,h)}else if((0===a||1==ge)&&0!==d){var m=Math.sin(d*Math.PI)/d;Y.x=Math.cos(d*Math.PI),Y.y=0,Y.z=m*c,Y.w=-m*u,z.quaternion=new n.Quaternion(1,0,0,0),z.quaternion.multiply(Y),z.quaternion.multiply(W)}se()}}},Te=function(e){y=e,E=y.width(),M=y.height(),_=E/M,j.setSize(E,M),y.append(j.domElement),g=$(j.domElement),f||(g.bind("mousedown touchstart",ve),g.bind("DOMMouseScroll mousewheel",be),g.bind("mousemove touchmove",Ce),g.bind("contextmenu",function(e){e.preventDefault()}))};Te(y),this.setContainer=function(e){return"string"===$.type(e)&&(e=$("#"+e)),e||(e=y),Te(e),this},this.setBackgroundColor=function(e,t){"undefined"==typeof t?t=1:(t<0||t>1)&&(t=1);var r=n.CC.color(e);return B.fog.color=r,d=r.getHex(),j.setClearColorHex(r.getHex(),t),se(),this},this.setProjection=function(e){D.ortho="orthographic"===e,ie()},this.setViewStyle=function(e){if("outline"===e.style){var t={};e.color&&(t.color=n.CC.color(e.color)),e.width&&(t.width=e.width),j.enableOutline(t)}else j.disableOutline();return this},o.style&&this.setViewStyle(o),this.setWidth=function(e){return E=e||E,j.setSize(E,M),this},this.setHeight=function(e){return M=e||M,j.setSize(E,M),this},this.resize=function(){return E=y.width(),M=y.height(),_=E/M,j.setSize(E,M),D.aspect=_,D.updateProjectionMatrix(),se(),this},$(window).resize(this.resize),this.getModel=function(e){return e in v?v[e]:0==v.length?null:v[v.length-1]},this.rotate=function(e,t,r,o){r=void 0!==r?r:0,"undefined"==typeof t&&(t="y");var a=function(e){var r=Math.sin(e/2),o=Math.cos(e/2),a=0,i=0,s=0;return"x"==t&&(a=r),"y"==t&&(i=r),"z"==t&&(s=r),new n.Quaternion(a,i,s,o).normalize()},i=Math.PI*e/180,s=a(i);if(r){var l=(new n.Quaternion).copy(z.quaternion).multiply(s);xe(r,o,H.position,z.position.z,l,N)}else z.quaternion.multiply(s),se();return this},this.surfacesFinished=function(){for(var e in b)if(!b[e][0].done)return!1;return!0},this.getView=function(){if(!H)return[0,0,0,0,0,0,0,1];var e=H.position,t=z.quaternion;return[e.x,e.y,e.z,z.position.z,t.x,t.y,t.z,t.w]},this.setView=function(e,t){return void 0!==e&&(e instanceof Array||8!==e.length)&&H&&z?(H.position.x=e[0],H.position.y=e[1],H.position.z=e[2],z.position.z=e[3],z.quaternion.x=e[4],z.quaternion.y=e[5],z.quaternion.z=e[6],z.quaternion.w=e[7],"undefined"!=typeof e[8]&&(z.position.x=e[8],z.position.y=e[9]),se(t),this):this},this.render=function(e){new Date;ue();var t,r,o=this.getView(),a=j.supportedExtensions();for(t=0;t<v.length;t++)v[t]&&v[t].globj(H,a);for(t=0;t<w.length;t++)w[t]&&w[t].globj(H,a);for(t in b)if(b.hasOwnProperty(t)){var i=b[t];for(r=0;r<i.length;r++)if(i.hasOwnProperty(r)){var s=i[r].geo;if(!i[r].finished){s.verticesNeedUpdate=!0,s.elementsNeedUpdate=!0,s.normalsNeedUpdate=!0,s.colorsNeedUpdate=!0,s.buffersNeedUpdate=!0,s.boundingSphere=null,i[r].done&&(i[r].finished=!0),i[r].lastGL&&H.remove(i[r].lastGL);var l=null;if(l=i[r].mat instanceof n.LineBasicMaterial?new n.Line(s,i[r].mat):new n.Mesh(s,i[r].mat),i[r].mat.transparent&&0==i[r].mat.opacity?l.visible=!1:l.visible=!0,i[r].symmetries.length>1||1==i[r].symmetries.length&&!i[r].symmetries[r].isIdentity()){var c,u=new n.Object3D;for(c=0;c<i[r].symmetries.length;c++){var p=l.clone();p.matrix=i[r].symmetries[c],p.matrixAutoUpdate=!1,u.add(p)}i[r].lastGL=u,H.add(u)}else i[r].lastGL=l,H.add(l)}}}this.setView(o);new Date;return"function"==typeof e&&e(),this},this.autoload=function(e,t){n.autoload(e,t)},this.selectedAtoms=function(e){return a(e)},this.pdbData=function(e){for(var t=a(e),n="",r=0,o=t.length;r<o;++r)n+=t[r].pdbline+"\n";return n};var Se=function(e,t,r){if(1==r)return t;if(0==r)return e;var o=e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w;if(o>.9995){var a=new n.Quaternion(e.x+r*(t.x-e.x),e.y+r*(t.y-e.y),e.z+r*(t.z-e.z),e.w+r*(t.w-e.w));return a.normalize(),a}o<0&&(t=t.clone().multiplyScalar(-1),o=-o),o>1?o=1:o<-1&&(o=-1);var i=Math.acos(o),s=i*r,l=t.clone();l.sub(e.clone().multiplyScalar(o)),l.normalize();var c=Math.cos(s),u=Math.sin(s),p=new n.Quaternion(e.x*c+l.x*u,e.y*c+l.y*u,e.z*c+l.z*u,e.w*c+l.w*u);return p.normalize(),p},xe=function(e,t,n,r,o,a){var i=20,s=Math.ceil(e/i);s<1&&(s=1);var l={mpos:H.position.clone(),rz:z.position.z,rot:z.quaternion.clone(),cam:N.clone()};if(t){for(var s=new Array(s),c=s.length,u=0;u<c;u++){var p=(u+1)/c,f={mpos:l.mpos,rz:l.rz,rot:l.rot};n&&(f.mpos=n.clone().sub(l.mpos).multiplyScalar(p).add(l.mpos)),"undefined"!=typeof r&&null!=r&&(f.rz=l.rz+p*(r-l.rz)),o&&(f.rot=Se(l.rot,o,p)),a&&(f.cam=a.clone().sub(l.cam).multiplyScalar(p).add(l.cam)),s[u]=f}var d=0,h=function(){var e=s[d];d+=1,e.mpos&&(H.position=e.mpos),e.rz&&(z.position.z=e.rz),e.rot&&(z.quaternion=e.rot),e.cam&&D.lookAt(e.cam),d<s.length&&setTimeout(h,i),se()};setTimeout(h,i)}else{var m={},p=1/s;if(n&&(m.mpos=n.clone().sub(l.mpos).multiplyScalar(p)),"undefined"!=typeof r&&null!=r&&(m.rz=p*(r-l.rz)),o){var f=Se(l.rot,o,p);m.rot=l.rot.clone().inverse().multiply(f)}a&&(m.cam=a.clone().sub(l.cam).multiplyScalar(p));var d=0,h=function(){d+=1,m.mpos&&H.position.add(m.mpos),m.rz&&(z.position.z+=m.rz),m.rot&&z.quaternion.multiply(m.rot),m.cam&&(N.add(m.cam),D.lookAt(N)),d<s&&setTimeout(h,i),se()};setTimeout(h,i)}};this.zoom=function(e,t,n){var e=e||2,t=void 0!==t?t:0,r=(I-z.position.z)/e,o=I-r;return t>0?xe(t,n,H.position,o,z.quaternion,N):(z.position.z=o,se()),this},this.translate=function(e,t,r,o){var r=void 0!==r?r:0,a=e/E,i=t/M,s=new n.Vector3(0,0,-I);F.projectVector(s,D),s.x-=a,s.y-=i,F.unprojectVector(s,D),s.z=0;var l=N.clone().add(s);return r>0?xe(r,o,H.position,z.position.z,z.quaternion,l):(N=l,D.lookAt(N),se()),this},this.fitSlab=function(e){e=e||{};var t=a(e),r=n.getExtent(t),o=r[1][0]-r[0][0],i=r[1][1]-r[0][1],s=r[1][2]-r[0][2],l=Math.sqrt(o*o+i*i+s*s);return l<5&&(l=5),V=-l/1.9,K=l/2,this},this.center=function(e,t,r){t=void 0!==t?t:0;var o,i;e=e||{};var s=a(e),l=n.getExtent(s);$.isEmptyObject(e)?($.each(w,function(e,t){if(t&&t.boundingSphere&&t.boundingSphere.center){var r=t.boundingSphere.center,o=t.boundingSphere.radius;o>0?(s.push(new n.Vector3(r.x+o,r.y,r.z)),s.push(new n.Vector3(r.x-o,r.y,r.z)),s.push(new n.Vector3(r.x,r.y+o,r.z)),s.push(new n.Vector3(r.x,r.y-o,r.z)),s.push(new n.Vector3(r.x,r.y,r.z+o)),s.push(new n.Vector3(r.x,r.y,r.z-o))):s.push(r)}}),l=n.getExtent(s),o=s,i=l):(o=a({}),i=n.getExtent(o));var c=new n.Vector3(l[2][0],l[2][1],l[2][2]),u=i[1][0]-i[0][0],p=i[1][1]-i[0][1],f=i[1][2]-i[0][2],d=Math.sqrt(u*u+p*p+f*f);d<5&&(d=5),V=-d/1.9,K=d/2,u=l[1][0]-l[0][0],p=l[1][1]-l[0][1],f=l[1][2]-l[0][2],d=Math.sqrt(u*u+p*p+f*f),d<5&&(d=5);for(var h=25,m=0;m<s.length;m++)if(s[m]){var y=c.distanceToSquared(s[m]);y>h&&(h=y)}var d=2*Math.sqrt(h),g=c.clone().multiplyScalar(-1);return t>0?xe(t,r,g,z.position.z,z.quaternion,N):(H.position=g,se()),this},this.zoomTo=function(e,t,r){t=void 0!==t?t:0;var o,i;e=e||{};var s=a(e),l=n.getExtent(s);$.isEmptyObject(e)?($.each(w,function(e,t){if(t&&t.boundingSphere&&t.boundingSphere.center){var r=t.boundingSphere.center,o=t.boundingSphere.radius;o>0?(s.push(new n.Vector3(r.x+o,r.y,r.z)),s.push(new n.Vector3(r.x-o,r.y,r.z)),s.push(new n.Vector3(r.x,r.y+o,r.z)),s.push(new n.Vector3(r.x,r.y-o,r.z)),s.push(new n.Vector3(r.x,r.y,r.z+o)),s.push(new n.Vector3(r.x,r.y,r.z-o))):s.push(r)}}),l=n.getExtent(s),o=s,i=l):(o=a({}),i=n.getExtent(o));var c=new n.Vector3(l[2][0],l[2][1],l[2][2]),u=i[1][0]-i[0][0],p=i[1][1]-i[0][1],f=i[1][2]-i[0][2],d=Math.sqrt(u*u+p*p+f*f);d<5&&(d=5),V=-d/1.9,K=d/2,u=l[1][0]-l[0][0],p=l[1][1]-l[0][1],f=l[1][2]-l[0][2],d=Math.sqrt(u*u+p*p+f*f),d<5&&(d=5);for(var h=25,m=0;m<s.length;m++)if(s[m]){var y=c.distanceToSquared(s[m]);y>h&&(h=y)}var d=2*Math.sqrt(h),g=c.clone().multiplyScalar(-1),v=-(.5*d/Math.tan(Math.PI/180*D.fov/2)-I);return t>0?xe(t,r,g,v,z.quaternion,N):(H.position=g,z.position.z=v,se()),this},this.setSlab=function(e,t){V=e,K=t},this.getSlab=function(e){return{near:V,far:K}},this.addLabel=function(e,t,r){if(t=t||{},r){var o=n.getExtent(a(r));t.position={x:o[2][0],y:o[2][1],z:o[2][2]}}var i=new n.Label(e,t);return i.setContext(),H.add(i.sprite),t.fixed&&T.push(C.length),C.push(i),se(),i},this.addResLabels=function(e,t){return l("addResLabels",e,this,t),this},this.removeLabel=function(e){for(var t=0;t<C.length;t++)if(C[t]==e){C.splice(t,1),e.dispose(),H.remove(e.sprite);break}return this},this.removeAllLabels=function(){for(var e=0;e<C.length;e++)H.remove(C[e].sprite);return C.splice(0,C.length),this},this.setLabelStyle=function(e,t){return H.remove(e.sprite),e.dispose(),e.stylespec=t,e.setContext(),H.add(e.sprite),se(),e},this.setLabelText=function(e,t){return H.remove(e.sprite),e.dispose(),e.text=t,e.setContext(),H.add(e.sprite),se(),e};this.addShape=function(e){e=e||{};var t=new n.GLShape(e);return t.shapePosition=w.length,w.push(t),t},this.removeShape=function(e){if(!e)return this;for(e.removegl(H),delete w[e.shapePosition];w.length>0&&"undefined"==typeof w[w.length-1];)w.pop();return this},this.removeAllShapes=function(){for(var e=0;e<w.length;e++){var t=w[e];t.removegl(H)}return w.splice(0,w.length),this},this.addSphere=function(e){e=e||{};var t=new n.GLShape(e);return t.shapePosition=w.length,t.addSphere(e),w.push(t),t},this.addArrow=function(e){e=e||{};var t=new n.GLShape(e);return t.shapePosition=w.length,t.addArrow(e),w.push(t),t},this.addCylinder=function(e){e=e||{};var t=new n.GLShape(e);return t.shapePosition=w.length,e.dashed?t.addDashedCylinder(e):t.addCylinder(e),w.push(t),t},this.addLine=function(e){e=e||{},e.wireframe=!0;var t=new n.GLShape(e);return t.shapePosition=w.length,e.dashed?t=s(e,t):t.addLine(e),w.push(t),t},this.addUnitCell=function(e){var t=new n.GLShape({wireframe:!0});t.shapePosition=w.length;var r=e.getCrystData();if(r){if(r.matrix)var o=r.matrix;else{var a=r.a,i=r.b,s=r.c,l=r.alpha,c=r.beta,u=r.gamma;l=l*Math.PI/180,c=c*Math.PI/180,u=u*Math.PI/180;var p,f,d;p=Math.cos(c),f=(Math.cos(l)-Math.cos(c)*Math.cos(u))/Math.sin(u),d=Math.sqrt(Math.max(0,1-p*p-f*f));var o=new n.Matrix4(a,i*Math.cos(u),s*p,0,0,i*Math.sin(u),s*f,0,0,0,s*d,0,0,0,0,1)}for(var h=[new n.Vector3(0,0,0),new n.Vector3(1,0,0),new n.Vector3(0,1,0),new n.Vector3(0,0,1),new n.Vector3(1,1,0),new n.Vector3(0,1,1),new n.Vector3(1,0,1),new n.Vector3(1,1,1)],m=0;m<h.length;m++)h[m]=h[m].applyMatrix4(o);t.addLine({start:h[0],end:h[1]}),t.addLine({start:h[0],end:h[2]}),t.addLine({start:h[1],end:h[4]}),t.addLine({start:h[2],end:h[4]}),t.addLine({start:h[0],end:h[3]}),t.addLine({start:h[3],end:h[5]}),t.addLine({start:h[2],end:h[5]}),t.addLine({start:h[1],end:h[6]}),t.addLine({start:h[4],end:h[7]}),t.addLine({start:h[6],end:h[7]}),t.addLine({start:h[3],end:h[6]}),t.addLine({start:h[5],end:h[7]})}return w.push(t),t},this.addCustom=function(e){e=e||{};var t=new n.GLShape(e);return t.shapePosition=w.length,t.addCustom(e),w.push(t),t},this.addVolumetricData=function(e,t,r){r=r||{};var o=new n.GLShape(r);return o.shapePosition=w.length,o.addVolumetricData(e,t,r),w.push(o),o},this.addIsosurface=function(e,t,r){t=t||{};var o=new n.GLShape(t);return o.shapePosition=w.length,o.addIsosurface(e,t,r),w.push(o),o},this.enableFog=function(e){e?B.fog=new n.Fog(d,100,200):(o.disableFog=!0,se())},this.setFrame=function(e){for(var t=0;t<v.length;t++)v[t].setFrame(e);return this},this.getFrames=function(){for(var e=0,t=0,n=0;n<v.length;n++)v[n].getFrames().length>e&&(t=n,e=v[n].getFrames().length);return e},this.animate=function(e){Q=!0;var t=100,n="forward",r=0;e=e||{},e.interval&&(t=e.interval),e.loop&&(n=e.loop),e.reps&&(r=e.reps);var o=this.getFrames(),a=this,i=0,s=1,l=0,c=o*r,u=function(e){"forward"==e?(a.setFrame(i),i=(i+s)%o):"backward"==e?(a.setFrame(o-1-i),i=(i+s)%o):(a.setFrame(i),i+=s,s*=i%(o-1)==0?-1:1),a.render(),++l!=c&&a.isAnimated()||clearInterval(p)},p=setInterval(function(){u(n)},t);return this},this.stopAnimate=function(){return Q=!1,this},this.isAnimated=function(){return Q},this.addModel=function(e,t,r){var o=new n.GLModel(v.length,p);return o.addMolData(e,t,r),v.push(o),o},this.addModels=function(e,t,r){r=r||{},r.multimodel=!0,r.frames=!0;for(var o=n.GLModel.parseMolData(e,t,r),a=0;a<o.length;a++){var i=new n.GLModel(v.length,p);i.setAtomDefaults(o[a]),i.addFrame(o[a]),i.setFrame(0),o.modelData&&i.setModelData(o.modelData[a]),i.setDontDuplicateAtoms(!r.duplicateAssemblyAtoms),v.push(i)}return v},this.addModelsAsFrames=function(e,t,r){r=r||{},r.multimodel=!0,r.frames=!0;var o=new n.GLModel(v.length,p);return o.addMolData(e,t,r),v.push(o),o},this.addAsOneMolecule=function(e,t,r){r=r||{},r.multimodel=!0,r.onemol=!0;var o=new n.GLModel(v.length,p);return o.addMolData(e,t,r),v.push(o),o},this.removeModel=function(e){if(e){for(e.removegl(H),delete v[e.getID()];v.length>0&&"undefined"==typeof v[v.length-1];)v.pop();return this}},this.removeAllModels=function(){for(var e=0;e<v.length;e++){var t=v[e];t.removegl(H)}return v.splice(0,v.length),this},this.exportJSON=function(e,t){var n={};return void 0===t?n.m=v.map(function(t){return t.toCDObject(e)}):n.m=[model[t].toCDObject()],JSON.stringify(n)},this.createModelFrom=function(e,t){for(var r=new n.GLModel(v.length,p),o=0;o<v.length;o++)if(v[o]){var a=v[o].selectedAtoms(e);r.addAtoms(a),t&&v[o].removeAtoms(a)}return v.push(r),r},this.setStyle=function(e,t){return"undefined"==typeof t&&(t=e,e={}),l("setStyle",e,t,!1),this},this.addStyle=function(e,t){return"undefined"==typeof t&&(t=e,e={}),l("setStyle",e,t,!0),this},this.setClickable=function(e,t,n){return l("setClickable",e,t,n),this},this.setHoverable=function(e,t,n,r){return l("setHoverable",e,t,n,r),this},this.vibrate=function(e,t){return l("vibrate",e,t),this},this.setColorByProperty=function(e,t,n,r){return l("setColorByProperty",e,t,n,r),this},this.setColorByElement=function(e,t){return l("setColorByElement",e,t),this};var Ae=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];"undefined"!=typeof o&&(o.x<t[0][0]||o.x>t[1][0]||o.y<t[0][1]||o.y>t[1][1]||o.z<t[0][2]||o.z>t[1][2]||n.push(o))}return n},ke=function(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1],r=e[1][2]-e[0][2];return t*n*r},Ee=function(e,t,n){for(var o=[],a={},i=0,s=t.length;i<s;i++)a[t[i].index]=i;for(var l=(function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n].index in a&&t.push(a[e[n].index]);return t}),c=function(e){var t=[];return t[0]=[e[0][0],e[0][1],e[0][2]],t[1]=[e[1][0],e[1][1],e[1][2]],t},u=function(e){if(ke(e)<r)return[e];var t,n=e[1][0]-e[0][0],o=e[1][1]-e[0][1],a=e[1][2]-e[0][2];t=n>o&&n>a?0:o>n&&o>a?1:2;var i=c(e),s=c(e),l=(e[1][t]-e[0][t])/2+e[0][t];i[1][t]=l,s[0][t]=l;var p=u(i),f=u(s);return p.concat(f)},p=u(e),f=6,i=0,s=p.length;i<s;i++){var d=c(p[i]);d[0][0]-=f,d[0][1]-=f,d[0][2]-=f,d[1][0]+=f,d[1][1]+=f,d[1][2]+=f;var h=Ae(t,d),m=Ae(n,p[i]);o.push({extent:p[i],atoms:l(h),toshow:l(m)})}return o},Me=function(e,t,r){var o=new n.Geometry(!0),a=o.updateGeoGroup(0),i=[];for(c=0,u=e.length;c<u;c++){var s=e[c];s&&("undefined"!=typeof s.surfaceColor?i[c]=s.surfaceColor:s.color&&(i[c]=n.CC.color(s.color)))}var l,c,u,p=a.vertexArray,f=t.vertices;for(c=0,u=f.length;c<u;c++)l=3*a.vertices,p[l]=f[c].x,p[l+1]=f[c].y,p[l+2]=f[c].z,a.vertices++;var d=a.colorArray;if(r.voldata&&r.volscheme){var h=r.volscheme,m=r.voldata,y=h.range()||[-1,1];for(c=0,u=f.length;c<u;c++){var g=m.getVal(f[c].x,f[c].y,f[c].z),v=n.CC.color(h.valueToHex(g,y)),l=3*c;d[l]=v.r,d[l+1]=v.g,d[l+2]=v.b}}else if(i.length>0)for(c=0,u=f.length;c<u;c++){var b=f[c].atomid,w=3*c;d[w]=i[b].r,d[w+1]=i[b].g,d[w+2]=i[b].b}var C=t.faces;a.faceidx=C.length,o.initTypedArrays();var T,S,x,A,k=a.vertexArray,E=a.normalArray;for(c=0,u=C.length;c<u;c+=3){var M=C[c],_=C[c+1],P=C[c+2],b=f[M].atomid,w=(f[_].atomid,f[P].atomid,3*M),O=3*_,I=3*P;T=new n.Vector3(k[w],k[w+1],k[w+2]),S=new n.Vector3(k[O],k[O+1],k[O+2]),x=new n.Vector3(k[I],k[I+1],k[I+2]),x.subVectors(x,S),T.subVectors(T,S),x.cross(T),A=x,A.normalize(),E[w]+=A.x,E[O]+=A.x,E[I]+=A.x,E[w+1]+=A.y,E[O+1]+=A.y,E[I+1]+=A.y,E[w+2]+=A.z,E[O+2]+=A.z,E[I+2]+=A.z}a.faceArray=new Uint16Array(C);var R=new n.Mesh(o,r);return R.doubleSided=!0,R},_e=function(e,t,r,o,a,i){var s=(new Date,new n.ProteinSurface);s.initparm(t,1!==e,i);new Date;s.fillvoxels(a,r);new Date;s.buildboundary(),e!=n.SurfaceType.SES&&e!=n.SurfaceType.MS||(s.fastdistancemap(),s.boundingatom(!1),s.fillvoxelswaals(a,r));new Date;s.marchingcube(e);new Date;return s.getFacesAndVertices(o)};this.addMesh=function(e){var t={geo:e.geometry,mat:e.material,done:!0,finished:!1},n=ae();return b[n]=t,n};var Pe=function(e){var t=[];return $.each(e,function(e,n){t[e]=$.extend({},n)}),t},Oe={VDW:n.SurfaceType.VDW,MS:n.SurfaceType.MS,SAS:n.SurfaceType.SAS,SES:n.SurfaceType.SES};this.addSurface=function(e,r,o,i,s,l){var u=ae();"string"==typeof e?void 0!==Oe[e]?e=Oe[e]:console.log("Surface type : "+e+" is not recognized"):void 0===e&&console.log("Surface type : "+e+" is not recognized");var p=null,f=null,d=Pe(a(o));p=i?Pe(a(i)):d;var h,y=!1;for(h=0;h<v.length;h++)if(v[h]){var g=v[h].getSymmetries();if(g.length>1||1==g.length&&!g[0].isIdentity()){y=!0;break}}var w=function(o,i,c){f=s?Pe(a(s)):c;var p,d,h,y=(new Date,n.getExtent(c,!0));if(r.map&&r.map.prop){var g=r.map.prop,v=r.map.scheme||r.map.gradient||new n.Gradient.RWB,b=v.range();b||(b=n.getPropertyRange(c,g)),r.colorscheme={prop:g,gradient:v}}for(d=0,h=i.length;d<h;d++)p=i[d],p.surfaceColor=n.getColorFromStyle(p,r);var w=ke(y),T=Ee(y,i,c);if(f&&f.length&&f.length>0){var S=n.getExtent(f,!0),x=function(e,t){var n=function(e,t){var n=e.extent,r=n[1][0]-n[0][0],o=n[1][1]-n[0][1],a=n[1][2]-n[0][2],i=r-t[2][0];i*=i;var s=o-t[2][1];s*=s;var l=a-t[2][2];return l*=l,i+s+l},r=n(e,S),o=n(t,S);return r-o};T.sort(x)}var A=[];for(d=0,h=i.length;d<h;d++)p=i[d],A[d]={x:p.x,y:p.y,z:p.z,serial:d,elem:p.elem};var k=!!n.syncSurface;if(k){var E=function t(r){if(r>=T.length)return void(l&&"function"==typeof l&&l(u));for(var a=_e(e,T[r].extent,T[r].atoms,T[r].toshow,A,w),s=n.splitMesh({vertexArr:a.vertices,faceArr:a.faces}),c=0,p=s.length;c<p;c++){var a={vertices:s[c].vertexArr,faces:s[c].faceArr},f=Me(i,a,C);n.mergeGeos(o.geo,f)}m.render(),setTimeout(t,1,r+1)};setTimeout(E,1,0)}else{var M=[];for(e<0&&(e=0),d=0,h=t;d<h;d++){var _=new Worker(n.SurfaceWorker);M.push(_),_.postMessage({type:-1,atoms:A,volume:w})}var P=0,O=function(e){for(var t=n.splitMesh({vertexArr:e.data.vertices,faceArr:e.data.faces}),r=0,a=t.length;r<a;r++){var s={vertices:t[r].vertexArr,faces:t[r].faceArr},c=Me(i,s,C);n.mergeGeos(o.geo,c)}m.render(),P++,P==T.length&&(o.done=!0,l&&"function"==typeof l&&l(u))},I=function(e){console.log(e.message+" ("+e.filename+":"+e.lineno+")")};for(d=0;d<T.length;d++){var R=M[d%M.length];R.onmessage=O,R.onerror=I,R.postMessage({type:e,expandedExtent:T[d].extent,extendedAtoms:T[d].atoms,atomsToShow:T[d].toshow})}}};r=r||{};var C=c(r),T=[];if(y){var S={},x={};for(h=0;h<v.length;h++)S[h]=[],x[h]=[];for(h=0;h<p.length;h++)S[p[h].model].push(p[h]);for(h=0;h<d.length;h++)x[d[h].model].push(d[h]);for(h=0;h<v.length;h++)x[h].length>0&&(T.push({geo:new n.Geometry(!0),mat:C,done:!1,finished:!1,symmetries:v[h].getSymmetries()}),w(T[h],S[h],x[h]))}else T.push({geo:new n.Geometry(!0),mat:C,done:!1,finished:!1,symmetries:[new n.Matrix4]}),w(T[T.length-1],p,d);return b[u]=T,u},this.setSurfaceMaterialStyle=function(e,t){if(b[e])for(var r=b[e],o=0;o<r.length;o++){var a=r[o].mat=c(t);if(r[o].mat.side=n.FrontSide,t.color){r[o].mat.color=t.color,r[o].geo.colorsNeedUpdate=!0;var i=n.CC.color(t.color);r[o].geo.setColors(function(){return i})}else if(a.voldata&&a.volscheme){var s=a.volscheme,l=a.voldata,u=s.range()||[-1,1];r[o].geo.setColors(function(e,t,r){var o=l.getVal(e,t,r),a=n.CC.color(s.valueToHex(o,u));return a})}r[o].finished=!1}return this},this.removeSurface=function(e){for(var t=b[e],n=0;n<t.length;n++)t[n]&&t[n].lastGL&&(void 0!==t[n].geo&&t[n].geo.dispose(),void 0!==t[n].mat&&t[n].mat.dispose(),H.remove(t[n].lastGL));return delete b[e],se(),this},this.removeAllSurfaces=function(){for(var e in b)if(b.hasOwnProperty(e)){for(var t=b[e],n=0;n<t.length;n++)t[n]&&t[n].lastGL&&(void 0!==t[n].geo&&t[n].geo.dispose(),void 0!==t[n].mat&&t[n].mat.dispose(),H.remove(t[n].lastGL));delete b[e]}return se(),this},this.jmolMoveTo=function(){var e=H.position,t="center { "+-e.x+" "+-e.y+" "+-e.z+" }; ",n=z.quaternion;return t+="moveto .5 quaternion { "+n.x+" "+n.y+" "+n.z+" "+n.w+" };"},this.clear=function(){return this.removeAllSurfaces(),this.removeAllModels(),this.removeAllLabels(),this.removeAllShapes(),se(),this},this.mapAtomProperties=function(e,t){t=t||{};var n=a(t);if("function"==typeof e)for(var r=0,o=n.length;r<o;r++){var s=n[r];e(s)}else for(var r=0,o=n.length;r<o;r++)for(var s=n[r],l=0,c=e.length;l<c;l++){var u=e[l];if(u.props)for(var p in u.props)u.props.hasOwnProperty(p)&&i(s,u)&&(s.properties||(s.properties={}),s.properties[p]=u.props[p])}return this},this.linkViewer=function(e){return L.push(e),this};try{"function"==typeof u&&u(this)}catch(e){console.log("error with glviewer callback: "+e)}}var t=4,r=64e3;return e}(),n.glmolViewer=n.GLViewer;var n=n||{};n.Gradient=function(e,t){},n.Gradient.valueToHex=function(e,t){},n.Gradient.range=function(){},n.Gradient.RWB=function(e,t,n){var r=1;"undefined"==typeof t&&$.isArray(e)&&e.length>=2&&(t=e[1],e=e[0]),this.valueToHex=function(o,a){var i,s;if(o*=r,a?(i=a[0],s=a[1]):(i=e,s=t),void 0===o)return 16777215;s>i?(o<i&&(o=i),o>s&&(o=s)):(o>i&&(o=i),o<s&&(o=s));var l=(s+i)/2;l=a&&"undefined"!=typeof a[2]?a[2]:"undefined"!=typeof n?n:(i+s)/2;var c,u;return i<s?o<=l?(c=Math.floor(255*Math.sqrt((o-i)/(l-i))),u=16711680+256*c+c):(c=Math.floor(255*Math.sqrt(1-(o-l)/(s-l))),u=65536*c+256*c+255):i>s?o<=l?(c=Math.floor(255*Math.sqrt(1-(o-l)/(s-l))),u=65536*c+256*c+255):(c=Math.floor(255*Math.sqrt((o-i)/(l-i))),u=16711680+256*c+c):void 0},this.range=function(){return"undefined"!=typeof e&&"undefined"!=typeof t?[e,t]:null}},n.Gradient.ROYGB=function(e,t){var n=1;"undefined"==typeof t&&$.isArray(e)&&e.length>=2&&(t=e[1],e=e[0]),this.valueToHex=function(r,o){var a,i;if(r*=n,o?(a=o[0],i=o[1]):(a=e,i=t),"undefined"==typeof r)return 16777215;if(i>a)r<a&&(r=a),r>i&&(r=i);else{r>a&&(r=a),r<i&&(r=i),r=a-r;var s=a;a=i,i=s}var l,c,u=(a+i)/2,p=(a+u)/2,f=(u+i)/2;return r<p?(l=Math.floor(255*Math.sqrt((r-a)/(p-a))),c=16711680+256*l+0):r<u?(l=Math.floor(255*Math.sqrt(1-(r-p)/(u-p))),c=65536*l+65280+0):r<f?(l=Math.floor(255*Math.sqrt((r-u)/(f-u))),c=65280+1*l):(l=Math.floor(255*Math.sqrt(1-(r-f)/(i-f))),c=0+256*l+255)},this.range=function(){return"undefined"!=typeof e&&"undefined"!=typeof t?[e,t]:null}},n.Gradient.Sinebow=function(e,t){var n=1;"undefined"==typeof t&&$.isArray(e)&&e.length>=2&&(t=e[1],e=e[0]),t<e&&(n=-1,e*=-1,t*=-1),this.valueToHex=function(r,o){var a,i;if(r*=n,o?(a=o[0],i=o[1]):(a=e,i=t),"undefined"==typeof r)return 16777215;i>a?(r<a&&(r=a),r>i&&(r=i)):(r>a&&(r=a),r<i&&(r=i));var s=(r-a)/(i-a),l=5*s/6+.5,c=Math.sin(Math.PI*l);c*=255*c;var u=Math.sin(Math.PI*(l+1/3));u*=255*u;var p=Math.sin(Math.PI*(l+2/3));return p*=255*p,65536*Math.floor(c)+256*Math.floor(p)+1*Math.floor(u)},this.range=function(){return"undefined"!=typeof e&&"undefined"!=typeof t?[e,t]:null}},n.Gradient.builtinGradients={rwb:n.Gradient.RWB,roygb:n.Gradient.ROYGB,sinebow:n.Gradient.Sinebow},n.LabelCount=0,n.Label=function(e,t){this.id=n.LabelCount++,this.stylespec=t||{},this.canvas=document.createElement("canvas"),this.canvas.width=134,this.canvas.height=35,this.context=this.canvas.getContext("2d"),this.sprite=new n.Sprite,this.text=e},n.Label.prototype={constructor:n.Label,getStyle:function(){return this.stylespec},setContext:function(){var e=function(e,t,n,r,o,a,i){e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+a),e.lineTo(t+r,n+o-a),e.quadraticCurveTo(t+r,n+o,t+r-a,n+o),e.lineTo(t+a,n+o),e.quadraticCurveTo(t,n+o,t,n+o-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath(),e.fill(),i&&e.stroke()},t=function(e,t,r){var o=r;return"undefined"!=typeof e&&(o=e instanceof n.Color?e.scaled():n.CC.color(e).scaled()),"undefined"!=typeof t&&(o.a=parseFloat(t)),o};return function(){var r=this.stylespec,o="undefined"!=typeof r.useScreen&&r.useScreen,a=r.showBackground;"0"!==a&&"false"!==a||(a=!1),"undefined"==typeof a&&(a=!0);var i=r.font?r.font:"sans-serif",s=parseInt(r.fontSize)?parseInt(r.fontSize):18,l=t(r.fontColor,r.fontOpacity,{r:255,g:255,b:255,a:1}),c=r.padding?r.padding:4,u=r.borderThickness?r.borderThickness:0,p=t(r.backgroundColor,r.backgroundOpacity,{r:0,g:0,b:0,a:1}),f=t(r.borderColor,r.borderOpacity,p),d=r.position?r.position:{x:-10,y:1,z:1},h=void 0===r.inFront||r.inFront;"false"!==h&&"0"!==h||(h=!1);var m=r.alignment||n.SpriteAlignment.topLeft;"string"==typeof m&&m in n.SpriteAlignment&&(m=n.SpriteAlignment[m]);var y="";
r.bold&&(y="bold "),this.context.font=y+s+"px  "+i;var g=this.context.measureText(this.text),v=g.width;a||(u=0);var b=v+2.5*u+2*c,w=1.25*s+2*u+2*c;if(r.backgroundImage){var C=r.backgroundImage,T=r.backgroundWidth?r.backgroundWidth:C.width,S=r.backgroundHeight?r.backgroundHeight:C.height;T>b&&(b=T),S>w&&(w=S)}this.canvas.width=b,this.canvas.height=w,this.context.clearRect(0,0,this.canvas.width,this.canvas.height);var y="";if(r.bold&&(y="bold "),this.context.font=y+s+"px  "+i,this.context.fillStyle="rgba("+p.r+","+p.g+","+p.b+","+p.a+")",this.context.strokeStyle="rgba("+f.r+","+f.g+","+f.b+","+f.a+")",this.context.lineWidth=u,a&&e(this.context,u,u,b-2*u,w-2*u,6,u>0),r.backgroundImage){var C=r.backgroundImage,T=r.backgroundWidth?r.backgroundWidth:C.width,S=r.backgroundHeight?r.backgroundHeight:C.height;this.context.drawImage(C,0,0,T,S)}this.context.fillStyle="rgba("+l.r+","+l.g+","+l.b+","+l.a+")",this.context.fillText(this.text,u+c,s+u+c,v);var x=new n.Texture(this.canvas);x.needsUpdate=!0,this.sprite.material=new n.SpriteMaterial({map:x,useScreenCoordinates:o,alignment:m,depthTest:!h}),this.sprite.scale.set(1,1,1),this.sprite.position.set(d.x,d.y,d.z)}}(),dispose:function(){void 0!==this.sprite.material.map&&this.sprite.material.map.dispose(),void 0!==this.sprite.material&&this.sprite.material.dispose()}},n=n||{},n.MarchingCubeInitializer=function(){var e=2,t={};t.march=function(t,s,l,c){var u=!!c.fulltable,p=c.hasOwnProperty("origin")&&c.origin.hasOwnProperty("x")?c.origin:{x:0,y:0,z:0},f=!!c.voxel,d=c.matrix,h=c.nX||0,m=c.nY||0,y=c.nZ||0,g=c.scale||1,v=null;v=c.unitCube?c.unitCube:{x:g,y:g,z:g};var b,w,C=new Int32Array(h*m*y);for(b=0,w=C.length;b<w;++b)C[b]=-1;var T=function(e,t,r,o,a,i){var l={x:0,y:0,z:0},c=!!(o&1<<a),u=!!(o&1<<i),h=a;!c&&u&&(h=i),1&h&&r++,2&h&&t++,4&h&&e++,d?(l=new n.Vector3(e,t,r),l=l.applyMatrix4(d),l={x:l.x,y:l.y,z:l.z}):(l.x=p.x+v.x*e,l.y=p.y+v.y*t,l.z=p.z+v.z*r);var g=(m*e+t)*y+r;return f?(s.push(l),s.length-1):(C[g]<0&&(C[g]=s.length,s.push(l)),C[g])},S=new Int32Array(12),x=u?a:r,A=u?i:o;for(b=0;b<h-1;++b)for(var k=0;k<m-1;++k)for(var E=0;E<y-1;++E){for(var M=0,_=0;_<8;++_){var P=(m*(b+((4&_)>>2))+k+((2&_)>>1))*y+E+(1&_),O=!!(t[P]&e);M|=O<<_}if(0!==M&&255!==M){var I=x[M];if(0!==I){var R=A[M];1&I&&(S[0]=T(b,k,E,M,0,1)),2&I&&(S[1]=T(b,k,E,M,1,3)),4&I&&(S[2]=T(b,k,E,M,3,2)),8&I&&(S[3]=T(b,k,E,M,2,0)),16&I&&(S[4]=T(b,k,E,M,4,5)),32&I&&(S[5]=T(b,k,E,M,5,7)),64&I&&(S[6]=T(b,k,E,M,7,6)),128&I&&(S[7]=T(b,k,E,M,6,4)),256&I&&(S[8]=T(b,k,E,M,0,4)),512&I&&(S[9]=T(b,k,E,M,1,5)),1024&I&&(S[10]=T(b,k,E,M,3,7)),2048&I&&(S[11]=T(b,k,E,M,2,6));for(var L=0;L<R.length;L+=3){var j=S[R[L]],D=S[R[L+1]],N=S[R[L+2]];f&&L>=3&&(s.push(s[j]),j=s.length-1,s.push(s[D]),D=s.length-1,s.push(s[N]),N=s.length-1),l.push(j),l.push(D),l.push(N)}}}}},t.laplacianSmooth=function(e,t,n){var r,o,a,i,s,l=new Array(t.length);for(r=0,o=t.length;r<o;r++)l[r]={x:0,y:0,z:0};var c,u=new Array(20);for(r=0;r<20;r++)u[r]=new Array(t.length);for(r=0,o=t.length;r<o;r++)u[0][r]=0;for(r=0,o=n.length/3;r<o;r++){var p=3*r,f=3*r+1,d=3*r+2;for(c=!0,a=0,i=u[0][n[p]];a<i;a++)if(n[f]==u[a+1][n[p]]){c=!1;break}for(c&&(u[0][n[p]]++,u[u[0][n[p]]][n[p]]=n[f]),c=!0,a=0,i=u[0][n[p]];a<i;a++)if(n[d]==u[a+1][n[p]]){c=!1;break}for(c&&(u[0][n[p]]++,u[u[0][n[p]]][n[p]]=n[d]),c=!0,a=0,i=u[0][n[f]];a<i;a++)if(n[p]==u[a+1][n[f]]){c=!1;break}for(c&&(u[0][n[f]]++,u[u[0][n[f]]][n[f]]=n[p]),c=!0,a=0,i=u[0][n[f]];a<i;a++)if(n[d]==u[a+1][n[f]]){c=!1;break}for(c&&(u[0][n[f]]++,u[u[0][n[f]]][n[f]]=n[d]),c=!0,a=0;a<u[0][n[d]];a++)if(n[p]==u[a+1][n[d]]){c=!1;break}for(c&&(u[0][n[d]]++,u[u[0][n[d]]][n[d]]=n[p]),c=!0,a=0,i=u[0][n[d]];a<i;a++)if(n[f]==u[a+1][n[d]]){c=!1;break}c&&(u[0][n[d]]++,u[u[0][n[d]]][n[d]]=n[f])}var h=1,m=.5;for(s=0;s<e;s++){for(r=0,o=t.length;r<o;r++)if(u[0][r]<3)l[r].x=t[r].x,l[r].y=t[r].y,l[r].z=t[r].z;else if(3==u[0][r]||4==u[0][r]){for(l[r].x=0,l[r].y=0,l[r].z=0,a=0,i=u[0][r];a<i;a++)l[r].x+=t[u[a+1][r]].x,l[r].y+=t[u[a+1][r]].y,l[r].z+=t[u[a+1][r]].z;l[r].x+=m*t[r].x,l[r].y+=m*t[r].y,l[r].z+=m*t[r].z,l[r].x/=m+u[0][r],l[r].y/=m+u[0][r],l[r].z/=m+u[0][r]}else{for(l[r].x=0,l[r].y=0,l[r].z=0,a=0,i=u[0][r];a<i;a++)l[r].x+=t[u[a+1][r]].x,l[r].y+=t[u[a+1][r]].y,l[r].z+=t[u[a+1][r]].z;l[r].x+=h*t[r].x,l[r].y+=h*t[r].y,l[r].z+=h*t[r].z,l[r].x/=h+u[0][r],l[r].y/=h+u[0][r],l[r].z/=h+u[0][r]}for(r=0,o=t.length;r<o;r++)t[r].x=l[r].x,t[r].y=l[r].y,t[r].z=l[r].z}},t.edgeTable=[0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0];var r=new Uint32Array(t.edgeTable),o=t.triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],a=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],i=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]];return t},n.MarchingCube=n.MarchingCubeInitializer(),n.Parsers=function(){var e={},t=function(e){for(var t=0,n=e.length;t<n;t++)e[t].index||(e[t].index=t);for(var r={},o=4.95,a=0;a<e.length;a++){var i=e[a],s=Math.floor(i.x/o),l=Math.floor(i.y/o),c=Math.floor(i.z/o);r[s]||(r[s]={}),r[s][l]||(r[s][l]={}),r[s][l][c]||(r[s][l][c]=[]),r[s][l][c].push(i)}var p=function(e,t){for(var n=0;n<e.length;n++)for(var r=e[n],o=0;o<t.length;o++){var a=t[o];if(u(r,a)){var i=r.bonds.indexOf(a.index),s=a.bonds.indexOf(r.index);i==-1&&s==-1?(r.bonds.push(a.index),r.bondOrder.push(1),a.bonds.push(r.index),a.bondOrder.push(1)):i==-1?(r.bonds.push(a.index),r.bondOrder.push(a.bondOrder[s])):s==-1&&(a.bonds.push(r.index),a.bondOrder.push(r.bondOrder[i]))}}},f=[{x:0,y:0,z:1},{x:0,y:1,z:-1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:-1,z:-1},{x:1,y:-1,z:0},{x:1,y:-1,z:1},{x:1,y:0,z:-1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:-1},{x:1,y:1,z:0},{x:1,y:1,z:1}];for(var s in r){s=parseInt(s);for(var l in r[s]){l=parseInt(l);for(var c in r[s][l]){c=parseInt(c);for(var d=r[s][l][c],t=0;t<d.length;t++)for(var h=d[t],m=t+1;m<d.length;m++){var y=d[m];u(h,y)&&h.bonds.indexOf(y.index)==-1&&(h.bonds.push(y.index),h.bondOrder.push(1),y.bonds.push(h.index),y.bondOrder.push(1))}for(var g=0;g<f.length;g++){var v=f[g];if(r[s+v.x]&&r[s+v.x][l+v.y]&&r[s+v.x][l+v.y][c+v.z]){var b=r[s+v.x][l+v.y][c+v.z];p(d,b)}}}}}},r=function(e){var n,r,o=[],a=[];for(n=0,r=e.length;n<r;n++){var i=e[n];i.index=n,i.hetflag?a.push(i):o.push(i)}t(a),o.sort(function(e,t){return e.chain!=t.chain?e.chain<t.chain?-1:1:e.resi-t.resi});var s,l=-1,c=-1;for(n=0,r=o.length;n<r;n++){var p=o[n];p.resi!==l&&(l=p.resi,s||c++,s=!1),p.reschain=c;for(var f=n+1;f<o.length;f++){var d=o[f];if(d.chain!=p.chain)break;if(d.resi-p.resi>1)break;u(p,d)&&(p.bonds.indexOf(d.index)===-1&&(p.bonds.push(d.index),p.bondOrder.push(1),d.bonds.push(p.index),d.bondOrder.push(1)),p.resi!==d.resi&&(s=!0))}}},o=function(e){var t,n,r,o=3.2,a=10.24,i=[];for(t=0,r=e.length;t<r;t++){e[t].index=t;var s=e[t];s.hetflag||"N"!==s.atom&&"O"!==s.atom||(i.push(s),s.hbondOther=null,s.hbondDistanceSq=Number.POSITIVE_INFINITY)}for(i.sort(function(e,t){return e.z-t.z}),t=0,r=i.length;t<r;t++){var l=i[t];for(n=t+1;n<r;n++){var c=i[n],u=c.z-l.z;if(u>o)break;if(c.atom!=l.atom){var p=Math.abs(c.y-l.y);if(!(p>o)){var f=Math.abs(c.x-l.x);if(!(f>o)){var d=f*f+p*p+u*u;d>a||c.chain==l.chain&&Math.abs(c.resi-l.resi)<4||(d<l.hbondDistanceSq&&(l.hbondOther=c,l.hbondDistanceSq=d),d<c.hbondDistanceSq&&(c.hbondOther=l,c.hbondDistanceSq=d))}}}}}},a=function(e){o(e);var t,n,r,a,i,s,l={};for(t=0,n=e.length;t<n;t++)if(i=e[t],"undefined"==typeof l[i.chain]&&(l[i.chain]=[]),isFinite(i.hbondDistanceSq)){var c=i.hbondOther;"undefined"==typeof l[c.chain]&&(l[c.chain]=[]),4===Math.abs(c.resi-i.resi)&&(l[i.chain][i.resi]="h")}for(r in l)for(a=1;a<l[r].length-1;a++){var u=l[r][a-1],p=l[r][a+1];s=l[r][a],"h"==u&&u==p&&s!=u&&(l[r][a]=u)}for(t=0,n=e.length;t<n;t++)i=e[t],isFinite(i.hbondDistanceSq)&&"h"!=l[i.chain][i.resi]&&"h"!=i.ss&&(l[i.chain][i.resi]="maybesheet");for(t=0,n=e.length;t<n;t++)if(i=e[t],isFinite(i.hbondDistanceSq)&&"maybesheet"==l[i.chain][i.resi]){var c=i.hbondOther,f=l[c.chain][c.resi];"maybesheet"!=f&&"s"!=f||(l[i.chain][i.resi]="s",l[c.chain][c.resi]="s")}for(r in l){for(a=1;a<l[r].length-1;a++){var u=l[r][a-1],p=l[r][a+1];s=l[r][a],"s"==u&&u==p&&s!=u&&(l[r][a]=u)}for(a=0;a<l[r].length;a++)s=l[r][a],"h"!=s&&"s"!=s||l[r][a-1]!=s&&l[r][a+1]!=s&&delete l[r][a]}for(t=0,n=e.length;t<n;t++)i=e[t],s=l[i.chain][i.resi],"undefined"!=typeof s&&"maybesheet"!=s&&(i.ss=s,l[i.chain][i.resi-1]!=s&&(i.ssbegin=!0),l[i.chain][i.resi+1]!=s&&(i.ssend=!0))},s=function(e,t){for(var n=0,r=e.length;n<r;n++)for(var o=e[n],a=0;a<o.bonds.length;a++){var i=o.bonds[a],s=e[i],l=t[o.serial];if(s&&l){var c=s.bonds.indexOf(l);c<0&&(s.bonds.push(l),s.bondOrder.push(o.bondOrder[a]))}}};e.vasp=e.VASP=function(e,t){var r=[[]],o={},a=e.replace(/^\s+/,"").split(/[\n\r]/);if(a.length<3)return r;if(!a[1].match(/\d+/))return console.log("Warning: second line of the vasp structure file must be a number"),r;if(o.length=parseFloat(a[1]),o.length<0)return console.log("Warning: Vasp implementation for negative lattice lengths is not yet available"),r;o.xVec=new Float32Array(a[2].replace(/^\s+/,"").split(/\s+/)),o.yVec=new Float32Array(a[3].replace(/^\s+/,"").split(/\s+/)),o.zVec=new Float32Array(a[4].replace(/^\s+/,"").split(/\s+/));var i=new n.Matrix4(o.xVec[0],o.xVec[1],o.xVec[2],0,o.yVec[0],o.yVec[1],o.yVec[2],0,o.zVec[0],o.zVec[1],o.zVec[2],0,0,0,0,1);i.multiplyScalar(o.length);var s=(r.modelData=[{symmetries:[],cryst:{matrix:i}}],a[5].replace(/\s+/,"").replace(/\s+$/,"").split(/\s+/)),l=new Int16Array(a[6].replace(/^\s+/,"").split(/\s+/)),c=a[7].replace(/\s+/,"");if(c.match(/C/))c="cartesian";else{if(!c.match(/D/))return console.log("Warning: Unknown vasp mode in POSCAR file: mode must be either C(artesian) or D(irect)"),r;c="direct"}if(s.length!=l.length)return console.log("Warning: declaration of atomary species wrong:"),console.log(s),console.log(l),r;a.splice(0,8);for(var u=0,p=0,f=s.length;p<f;p++){for(var d=s[p],h=0,m=l[p];h<m;h++){var y=new Float32Array(a[u+h].replace(/^\s+/,"").split(/\s+/));atom={},atom.elem=d,"cartesian"==c?(atom.x=o.length*y[0],atom.y=o.length*y[1],atom.z=o.length*y[2]):(atom.x=o.length*(y[0]*o.xVec[0]+y[1]*o.yVec[0]+y[2]*o.zVec[0]),atom.y=o.length*(y[0]*o.xVec[1]+y[1]*o.yVec[1]+y[2]*o.zVec[1]),atom.z=o.length*(y[0]*o.xVec[2]+y[1]*o.yVec[2]+y[2]*o.zVec[2])),atom.bonds=[],r[0].push(atom)}u+=l[p]}return r},e.cube=e.CUBE=function(e,n){var r=[[]],o=e.replace(/^\s+/,"").split(/\n\r|\r+/);if(o.length<6)return r;var a=o[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),i=Math.abs(parseFloat(a[0]));a=o[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var s=parseFloat(a[0])>0?.529177:1;o=o.splice(6,i);for(var l=r[r.length-1].length,c=l+o.length,u=l;u<c;++u){var p={};p.serial=u;var f=o[u-l],d=f.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");6==d[0]?p.elem="C":1==d[0]?p.elem="H":8==d[0]?p.elem="O":17==d[0]&&(p.elem="Cl"),p.x=parseFloat(d[2])*s,p.y=parseFloat(d[3])*s,p.z=parseFloat(d[4])*s,p.hetflag=!0,p.bonds=[],p.bondOrder=[],p.properties={},r[r.length-1].push(p)}for(var u=0;u<r.length;u++)t(r[u]);return r},e.xyz=e.XYZ=function(e,n){for(var r=[[]],o=e.split(/\r?\n|\r/);o.length>0&&!(o.length<3);){var a=parseInt(o[0]);if(isNaN(a)||a<=0)break;if(o.length<a+2)break;for(var i=2,s=r[r.length-1].length,l=s+a,c=s;c<l;c++){var u=o[i++],p=u.replace(/^\s+/,"").replace(/\s+/g," ").split(" "),f={};f.serial=c;var d=p[0];f.atom=f.elem=d[0].toUpperCase()+d.substr(1).toLowerCase(),f.x=parseFloat(p[1]),f.y=parseFloat(p[2]),f.z=parseFloat(p[3]),f.hetflag=!0,f.bonds=[],f.bondOrder=[],f.properties={},r[r.length-1][c]=f,p.length>=7&&(f.dx=parseFloat(p[4]),f.dy=parseFloat(p[5]),f.dz=parseFloat(p[6]))}if(!n.multimodel)break;r.push([]),o.splice(0,i)}for(var c=0;c<r.length;c++)t(r[c]);if(n.onemol){var h=r;r=[],r.push(h[0]);for(var c=1;c<h.length;c++)for(var i=r[0].length,m=0;m<h[c].length;m++){for(var y=h[c][m],g=0;g<y.bonds.length;g++)y.bonds[g]=y.bonds[g]+i;y.index=r[0].length,y.serial=r[0].length,r[0].push(y)}}return r},e.sdf=e.SDF=function(e,t){var n=[[]],r=!1;"undefined"!=typeof t.keepH&&(r=!t.keepH);for(var o=e.split(/\r?\n|\r/);o.length>0&&!(o.length<4);){var a=parseInt(o[3].substr(0,3));if(isNaN(a)||a<=0)break;var i=parseInt(o[3].substr(3,3)),s=4;if(o.length<4+a+i)break;var l,c,u=[],p=n[n.length-1].length,f=p+a;for(l=p;l<f;l++,s++){c=o[s];var d={},h=c.substr(31,3).replace(/ /g,"");d.atom=d.elem=h[0].toUpperCase()+h.substr(1).toLowerCase(),"H"==d.elem&&r||(d.serial=l,u[l]=n[n.length-1].length,d.x=parseFloat(c.substr(0,10)),d.y=parseFloat(c.substr(10,10)),d.z=parseFloat(c.substr(20,10)),d.hetflag=!0,d.bonds=[],d.bondOrder=[],d.properties={},d.index=n[n.length-1].length,n[n.length-1].push(d))}for(l=0;l<i;l++,s++){c=o[s];var m=u[parseInt(c.substr(0,3))-1+p],y=u[parseInt(c.substr(3,3))-1+p],g=parseInt(c.substr(6,3));"undefined"!=typeof m&&"undefined"!=typeof y&&(n[n.length-1][m].bonds.push(y),n[n.length-1][m].bondOrder.push(g),n[n.length-1][y].bonds.push(m),n[n.length-1][y].bondOrder.push(g))}if(!t.multimodel)break;for(t.onemol||n.push([]);"$$$$"!=o[s];)s++;o.splice(0,++s)}return n},e.cdjson=e.json=function(e,t){var n=[[]];"string"==typeof e&&(e=JSON.parse(e));for(var r=e.m,o=r[0].a,a=r[0].b,i=r[0].s,s=void 0!==t&&void 0!==t.parseStyle?t.parseStyle:void 0!==i,l=n[n.length-1].length,c=0;c<o.length;c++){var u=o[c],p={};p.id=u.i,p.x=u.x,p.y=u.y,p.z=u.z||0,p.bonds=[],p.bondOrder=[];var f=u.l||"C";p.elem=f[0].toUpperCase()+f.substr(1).toLowerCase(),p.serial=n[n.length-1].length,s&&(p.style=i[u.s||0]),n[n.length-1].push(p)}for(var c=0;c<a.length;c++){var d=a[c],h=d.b+l,m=d.e+l,y=d.o||1,g=n[n.length-1][h],v=n[n.length-1][m];g.bonds.push(m),g.bondOrder.push(y),v.bonds.push(h),v.bondOrder.push(y)}return n},e.mcif=e.cif=function(e,r){function o(e,t){for(var n=[],r=0,o=0;o<e.length;){for(;e.substr(o,t.length)!==t&&o<e.length;){if("'"===e[o])for(o++;o<e.length&&"'"!==e[o];)o++;else if('"'===e[o])for(o++;o<e.length&&'"'!==e[o];)o++;o++}n.push(e.substr(r,o-r)),r=o+=t.length}return n}function i(e){return e*e}function s(e,t,n){var r=M[0][0]*e+M[0][1]*t+M[0][2]*n,o=M[1][0]*e+M[1][1]*t+M[1][2]*n,a=M[2][0]*e+M[2][1]*t+M[2][2]*n;return{x:r,y:o,z:a}}function l(e){var t=e.match("-");e=e.replace(/[-xyz]/g,"");var n,r,o=e.split("/");return r=void 0===o[1]?1:parseInt(o[1]),n=""===o[0]?1:parseInt(o[0]),n/r*(t?-1:1)}for(var c=[],u=!r.doAssembly,f=!r.duplicateAssemblyAtoms,d=c.modelData=[],h=e.split(/\r?\n|\r/),m=[],y=!1,g=0;g<h.length;g++){var v=h[g].split("#")[0];if(y?";"===v[0]&&(y=!1):";"===v[0]&&(y=!0),y||""!==v){if(!y&&(v=v.trim(),"_"===v[0])){var b=v.split(/\s/)[0].indexOf(".");b>-1&&(v[b]="_",v=v.substr(0,b)+"_"+v.substr(b+1))}m.push(v)}}for(var g=0;g<m.length;){for(;!m[g].startsWith("data_")||"data_global"===m[g];)g++;g++;for(var w={};g<m.length&&!m[g].startsWith("data_");)if(void 0===m[g][0])g++;else if("_"===m[g][0]){var C=m[g].split(/\s/)[0].toLowerCase(),T=w[C]=w[C]||[],S=m[g].substr(m[g].indexOf(C)+C.length);if(""===S)if(g++,";"===m[g][0]){var x=m[g].substr(1);for(g++;";"!==m[g];)x=x+"\n"+m[g],g++;T.push(x)}else T.push(m[g]);else T.push(S.trim());g++}else if("loop_"===m[g].substr(0,5)){g++;for(var A=[];""===m[g]||"_"===m[g][0];){if(""!==m[g]){var C=m[g].split(/\s/)[0].toLowerCase(),T=w[C]=w[C]||[];A.push(T)}g++}for(var k=0;g<m.length&&"_"!==m[g][0]&&!m[g].startsWith("loop_")&&!m[g].startsWith("data_");){for(var v=o(m[g]," "),E=0;E<v.length;E++)""!==v[E]&&(A[k].push(v[E]),k=(k+1)%A.length);g++}}else g++;d.push({symmetries:[]}),c.push([]);var M,_=void 0!==w._atom_site_id?w._atom_site_id.length:w._atom_site_label.length;if(void 0!==w._cell_length_a){var P=parseFloat(w._cell_length_a),O=parseFloat(w._cell_length_b),I=parseFloat(w._cell_length_c),R=parseFloat(w._cell_angle_alpha)||90,L=parseFloat(w._cell_angle_beta)||90,j=parseFloat(w._cell_angle_gamma)||90,D=R*Math.PI/180,N=L*Math.PI/180,G=j*Math.PI/180,F=Math.cos(D),q=Math.cos(N),B=Math.cos(G),z=Math.sin(G);M=[[P,O*B,I*q],[0,O*z,I*(F-q*B)/z],[0,0,I*Math.sqrt(1-i(F)-i(q)-i(B)+2*F*q*B)/z]],d[d.length-1].cryst={a:P,b:O,c:I,alpha:R,beta:L,gamma:j}}for(var H=0;H<_;H++)if(void 0===w._atom_site_group_pdb||"TER"!==w._atom_site_group_pdb[H]){var U={};if(void 0!==w._atom_site_cartn_x)U.x=parseFloat(w._atom_site_cartn_x[H]),U.y=parseFloat(w._atom_site_cartn_y[H]),U.z=parseFloat(w._atom_site_cartn_z[H]);else{var V=s(parseFloat(w._atom_site_fract_x[H]),parseFloat(w._atom_site_fract_y[H]),parseFloat(w._atom_site_fract_z[H]));U.x=V.x,U.y=V.y,U.z=V.z}U.chain=w._atom_site_auth_asym_id?w._atom_site_auth_asym_id[H]:void 0,U.resi=w._atom_site_auth_seq_id?parseInt(w._atom_site_auth_seq_id[H]):void 0,U.resn=w._atom_site_auth_comp_id?w._atom_site_auth_comp_id[H].trim():void 0,U.atom=w._atom_site_auth_atom_id?w._atom_site_auth_atom_id[H].replace(/"/gm,""):void 0,U.hetflag=!w._atom_site_group_pdb||"HETA"===w._atom_site_group_pdb[H]||"HETATM"===w._atom_site_group_pdb[H];var K=w._atom_site_type_symbol[H];U.elem=K[0].toUpperCase()+K.substr(1).toLowerCase(),U.bonds=[],U.ss="c",U.serial=H,U.bondOrder=[],U.properties={},c[c.length-1].push(U)}if(void 0!==w._pdbx_struct_oper_list_id&&!u){for(var H=0;H<w._pdbx_struct_oper_list_id.length;H++){var W=parseFloat(w["_pdbx_struct_oper_list_matrix[1][1]"][H]),$=parseFloat(w["_pdbx_struct_oper_list_matrix[1][2]"][H]),Y=parseFloat(w["_pdbx_struct_oper_list_matrix[1][3]"][H]),Q=parseFloat(w["_pdbx_struct_oper_list_vector[1]"][H]),X=parseFloat(w["_pdbx_struct_oper_list_matrix[2][1]"][H]),Z=parseFloat(w["_pdbx_struct_oper_list_matrix[2][2]"][H]),J=parseFloat(w["_pdbx_struct_oper_list_matrix[2][3]"][H]),ee=parseFloat(w["_pdbx_struct_oper_list_vector[2]"][H]),te=parseFloat(w["_pdbx_struct_oper_list_matrix[3][1]"][H]),ne=parseFloat(w["_pdbx_struct_oper_list_matrix[3][2]"][H]),re=parseFloat(w["_pdbx_struct_oper_list_matrix[3][3]"][H]),oe=parseFloat(w["_pdbx_struct_oper_list_vector[3]"][H]),ae=new n.Matrix4(W,$,Y,Q,X,Z,J,ee,te,ne,re,oe);d[d.length-1].symmetries.push(ae)}for(var H=0;H<c.length;H++)p(d[d.length-1].symmetries,f,c[H])}if(void 0!==w._symmetry_equiv_pos_as_xyz)for(var ie=0;ie<w._symmetry_equiv_pos_as_xyz.length;ie++){for(var se=w._symmetry_equiv_pos_as_xyz[ie].replace(/["' ]/g,""),le=se.split(",").map(function(e){return e.replace(/-/g,"+-")}),ae=new n.Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1),ce=0;ce<3;ce++)for(var ue=le[ce].split("+"),pe=0;pe<ue.length;pe++){var fe=ue[pe];if(""!==fe){var de=l(fe);fe.match("x")?ae.elements[ce+0]=de:fe.match("y")?ae.elements[ce+4]=de:fe.match("z")?ae.elements[ce+8]=de:ae.elements[ce+12]=de}}var he=new n.Matrix4(M[0][0],M[0][1],M[0][2],0,M[1][0],M[1][1],M[1][2],0,M[2][0],M[2][1],M[2][2],0),me=(new n.Matrix4).getInverse(he,!0);ae=(new n.Matrix4).multiplyMatrices(ae,me),ae=(new n.Matrix4).multiplyMatrices(he,ae),d[d.length-1].symmetries.push(ae)}}for(var H=0;H<c.length;H++)t(c[H]),a(c[H]),p(d[H].symmetries,f,c[H]);return c},e.mol2=e.MOL2=function(e,t){var n=[[]],r=!1;"undefined"!=typeof t.keepH&&(r=!t.keepH);for(var o=e.substr(a,e.length).split(/\r?\n|\r/);o.length>0;){var a=e.search(/@<TRIPOS>MOLECULE/),i=e.search(/@<TRIPOS>ATOM/);if(a==-1||i==-1)break;var s=[],l=o[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),c=parseInt(l[0]),u=0;l.length>1&&(u=parseInt(l[1]));var p,f=4;for(p=3;p<o.length;p++)if("@<TRIPOS>ATOM"==o[p]){f=p+1;break}var d,h=n[n.length-1].length,m=h+c;for(p=h;p<m;p++){d=o[f++],l=d.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var y={},g=l[5].split(".")[0];if(y.atom=y.elem=g[0].toUpperCase()+g.substr(1).toLowerCase(),"H"==y.elem&&r);else{var v=n[n.length-1].length,b=parseInt(l[0]);y.serial=b,y.x=parseFloat(l[2]),y.y=parseFloat(l[3]),y.z=parseFloat(l[4]),y.atom=l[5];var w=parseFloat(l[8]);y.index=v,y.bonds=[],y.bondOrder=[],y.properties={charge:w,partialCharge:w},s[b]=v,n[n.length-1].push(y)}}for(var C=!1;f<o.length;)if("@<TRIPOS>BOND"==o[f++]){C=!0;break}if(C&&u)for(p=0;p<u;p++){d=o[f++],l=d.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var T=parseInt(l[1]);fromAtom=n[n.length-1][s[T]];var S=parseInt(l[2]);toAtom=n[n.length-1][s[S]];var x=parseInt(l[3]);isNaN(x)&&(x=1),void 0!==fromAtom&&void 0!==toAtom&&(fromAtom.bonds.push(s[S]),fromAtom.bondOrder.push(x),toAtom.bonds.push(s[T]),toAtom.bondOrder.push(x))}if(!t.multimodel)break;t.onemol||n.push([]),o.splice(0,f),e=o.join("\n")}return n};var l={H:.37,He:.32,Li:1.34,Be:.9,B:.82,C:.77,N:.75,O:.73,F:.71,Ne:.69,Na:1.54,Mg:1.3,Al:1.18,Si:1.11,P:1.06,S:1.02,Cl:.99,Ar:.97,K:1.96,Ca:1.74,Sc:1.44,Ti:1.56,V:1.25,Mn:1.39,Fe:1.25,Co:1.26,Ni:1.21,Cu:1.38,Zn:1.31,Ga:1.26,Ge:1.22,Se:1.16,Br:1.14,Kr:1.1,Rb:2.11,Sr:1.92,Y:1.62,Zr:1.48,Nb:1.37,Mo:1.45,Tc:1.56,Ru:1.26,Rh:1.35,Pd:1.31,Ag:1.53,Cd:1.48,In:1.44,Sn:1.41,Sb:1.38,Te:1.35,I:1.33,Xe:1.3,Cs:2.25,Ba:1.98,Lu:1.6,Hf:1.5,Ta:1.38,W:1.46,Re:1.59,Os:1.44,Ir:1.37,Pt:1.28,Au:1.44,Hg:1.49,Tl:1.48,Pb:1.47,Bi:1.46,Rn:1.45},c=function(e){return l[e]||1.6},u=function(e,t){var n=c(e.elem)+c(t.elem);n+=.25,n*=n;var r=e.x-t.x;if(r*=r,r>n)return!1;var o=e.y-t.y;if(o*=o,o>n)return!1;var a=e.z-t.z;if(a*=a,a>n)return!1;var i=r+o+a;return!isNaN(i)&&(!(i<.5)&&(!(i>n)&&(e.altLoc==t.altLoc||" "==e.altLoc||" "==t.altLoc)))},p=function(e,t,r){var o,a,i,s=r.length,l=s;if(t){if(e.length>1)for(o=0;o<r.length;o++){var c=[];for(a=0;a<e.length;a++)if(!e[a].isIdentity()){var u=new n.Vector3;u.set(r[o].x,r[o].y,r[o].z),u.applyMatrix4(e[a]),c.push(u)}r[o].symmetries=c}}else for(o=0;o<e.length;o++)if(!e[o].isIdentity()){var p=new n.Vector3;for(i=0;i<s;i++){var f=[];for(a=0;a<r[i].bonds.length;a++)f.push(r[i].bonds[a]+l);p.set(r[i].x,r[i].y,r[i].z),p.applyMatrix4(e[o]);var d={};for(var h in r[i])d[h]=r[i][h];d.x=p.x,d.y=p.y,d.z=p.z,d.bonds=f,r.push(d)}l=r.length}},f=function(e){var t;for(t in e)return!1;return!0},d=function(e,t,o){var i,c,u,d,h=[],m=!t.keepH,y=!!t.noSecondaryStructure,g=!t.noComputeSecondaryStructure,v=!t.doAssembly,b=!t.duplicateAssemblyAtoms,w=t.altLoc?t.altLoc:"A",C={symmetries:[]},T=[],S=!1,x=[],A={};for(c=0;c<e.length;c++){d=e[c].replace(/^\s*/,"");var k,E,M,_,P=d.substr(0,6);if(0==P.indexOf("END")){if(T=e.slice(c+1),"END"==P)for(var O in o)o.hasOwnProperty(O)&&delete o[O];
break}if("ATOM  "==P||"HETATM"==P){var I,R,L,j,D,N,G,F,q,B,z,H;if(z=d.substr(16,1)," "!=z&&z!=w&&"*"!=w)continue;if(B=parseInt(d.substr(6,5)),i=d.substr(12,4).replace(/ /g,""),I=d.substr(17,3).replace(/ /g,""),R=d.substr(21,1),L=parseInt(d.substr(22,4)),j=d.substr(26,1),D=parseFloat(d.substr(30,8)),N=parseFloat(d.substr(38,8)),G=parseFloat(d.substr(46,8)),H=parseFloat(d.substr(60,8)),q=d.substr(76,2).replace(/ /g,""),""===q||"undefined"==typeof l[q]?(q=d.substr(12,2).replace(/ /g,""),q.length>0&&"H"==q[0]&&"Hg"!=q&&(q="H"),q.length>1&&(q=q[0].toUpperCase()+q.substr(1).toLowerCase(),"undefined"==typeof l[q]?q=q[0]:"A"==d[0]&&"Ca"==q&&(q="C"))):q=q[0].toUpperCase()+q.substr(1).toLowerCase(),"H"==q&&m)continue;F="H"==P[0],x[B]=h.length,h.push({resn:I,x:D,y:N,z:G,elem:q,hetflag:F,altLoc:z,chain:R,resi:L,icode:j,rescode:L+(" "!=j?"^"+j:""),serial:B,atom:i,bonds:[],ss:"c",bondOrder:[],properties:{},b:H,pdbline:d})}else if("SHEET "==P){S=!0,k=d.substr(21,1),E=parseInt(d.substr(22,4)),M=d.substr(32,1),_=parseInt(d.substr(33,4)),k in o||(o[k]={}),o[k][E]="s1";for(var U=E+1;U<_;U++)o[k][U]="s";o[k][_]="s2"}else if("CONECT"==P){var V=parseInt(d.substr(6,5)),K=x[V],W=h[K],$=[11,16,21,26];for(u=0;u<4;u++){var Y=parseInt(d.substr($[u],5)),Q=x[Y],X=h[Q];if(void 0!==W&&void 0!==X)if(A[[K,Q]]){A[[K,Q]]+=1;for(var Z=0;Z<W.bonds.length;Z++)if(W.bonds[Z]==Q){var J=A[[K,Q]];J>=4?W.bondOrder[Z]=1:W.bondOrder[Z]=J}}else A[[K,Q]]=1,0!=W.bonds.length&&W.bonds[W.bonds.length-1]==Q||(W.bonds.push(Q),W.bondOrder.push(1))}}else if("HELIX "==P){S=!0,k=d.substr(19,1),E=parseInt(d.substr(21,4)),M=d.substr(31,1),_=parseInt(d.substr(33,4)),k in o||(o[k]={}),o[k][E]="h1";for(var U=E+1;U<_;U++)o[k][U]="h";o[k][_]="h2"}else if(v||"REMARK"!=P||"BIOMT"!=d.substr(13,5)){if("CRYST1"==P){var ee,H,te,ne,re,oe;ee=parseFloat(d.substr(7,8)),H=parseFloat(d.substr(16,8)),te=parseFloat(d.substr(25,8)),ne=parseFloat(d.substr(34,6)),re=parseFloat(d.substr(41,6)),oe=parseFloat(d.substr(48,6)),C.cryst={a:ee,b:H,c:te,alpha:ne,beta:re,gamma:oe}}else if("ANISOU"==P){var B=parseInt(d.substr(6,5)),ae=x[B],ie=h[ae];if(ie){var se=d.substr(30).trim().split(/\s+/),le={u11:parseInt(se[0]),u22:parseInt(se[1]),u33:parseInt(se[2]),u12:parseInt(se[3]),u13:parseInt(se[4]),u23:parseInt(se[5])};ie.uMat=le}}}else{var ce,ue=new n.Matrix4;for(ce=1;ce<=3;ce++)if(d=e[c].replace(/^\s*/,""),parseInt(d.substr(18,1))==ce)ue.elements[ce-1]=parseFloat(d.substr(23,10)),ue.elements[ce-1+4]=parseFloat(d.substr(33,10)),ue.elements[ce-1+8]=parseFloat(d.substr(43,10)),ue.elements[ce-1+12]=parseFloat(d.substr(53)),c++;else for(;"BIOMT"==d.substr(13,5);)c++,d=e[c].replace(/^\s*/,"");ue.elements[3]=0,ue.elements[7]=0,ue.elements[11]=0,ue.elements[15]=1,C.symmetries.push(ue),c--}}var pe=(new Date).getTime();if(s(h,x),r(h),v||p(C.symmetries,b,h),g&&!y&&(pe=(new Date).getTime(),a(h)),pe=(new Date).getTime(),!f(o))for(c=0;c<h.length;c++)if(i=h[c],void 0!==i&&i.chain in o&&i.resi in o[i.chain]){var fe=o[i.chain][i.resi];i.ss=fe[0],fe.length>1&&("1"==fe[1]?i.ssbegin=!0:"2"==fe[1]&&(i.ssend=!0))}return[h,C,T]};e.pdb=e.PDB=e.pdbqt=e.PDBQT=function(e,t){var n=[],r={};n.modelData=[];for(var o=e.split(/\r?\n|\r/);o.length>0;){var a=d(o,t,r),i=a[0],s=a[1];if(o=a[2],0!=i.length){if(t.multimodel&&t.onemol&&n.length>0)for(var l=n[0].length,c=0;c<i.length;c++){var u=i[c];u.index=c;for(var p=0;p<u.bonds.length;p++)u.bonds[p]+=l;n[0].push(u)}else n.modelData.push(s),n.push(i);if(!t.multimodel)break}}return n},e.pqr=e.PQR=function(e,t){var n,o,i,s,l=[[]],c=(l[l.length-1].length,!t.noSecondaryStructure),u=(!t.doAssembly,!t.duplicateAssemblyAtoms,l.modelData=[{symmetries:[]}],[]),p=e.split(/\r?\n|\r/);for(o=0;o<p.length;o++){s=p[o].replace(/^\s*/,"");var f=s.substr(0,6);if(0==f.indexOf("END")){if(t.multimodel){t.onemol||l.push([]);continue}break}if("ATOM  "==f||"HETATM"==f){var d,h=parseInt(s.substr(6,5)),n=s.substr(12,4).replace(/ /g,""),m=s.substr(17,3),y=s.substr(21,1),g=parseInt(s.substr(22,4)),v=s.substr(30).trim().split(/\s+/),b=parseFloat(v[0]),w=parseFloat(v[1]),C=parseFloat(v[2]),T=parseFloat(v[3]),S=parseFloat(v[4]),x=n[0];n.length>1&&n[1].toUpperCase()!=n[1]&&(x=n.substr(0,2)),d="H"==s[0],u[h]=l[l.length-1].length,l[l.length-1].push({resn:m,x:b,y:w,z:C,elem:x,hetflag:d,chain:y,resi:g,serial:h,atom:n,bonds:[],ss:"c",bondOrder:[],properties:{charge:T,partialCharge:T,radius:S},pdbline:s})}else if("CONECT"==f){var A=parseInt(s.substr(6,5)),k=l[l.length-1][u[A]];for(i=0;i<4;i++){var E=parseInt(s.substr([11,16,21,26][i],5)),M=l[l.length-1][u[E]];void 0!==k&&void 0!==M&&(k.bonds.push(u[E]),k.bondOrder.push(1))}}}for(var o=0;o<l.length;o++)r(l[o]),c&&a(l[o]);return l};var h=function(e){return String.fromCharCode.apply(null,e).replace(/\0/g,"")},m=function(e){return 2==e?"h":3==e?"s":"c"};return e.mmtf=e.MMTF=function(e,t){var r=!t.keepH,o=t.altLoc?t.altLoc:"A",i=!!t.noSecondaryStructure,s=!t.noComputeSecondaryStructure,l=!t.doAssembly,c=!t.duplicateAssemblyAtoms,u=t.assemblyIndex?t.assemblyIndex:0,f=MMTF.decode(e),d=[[]],y=d.modelData=[],g=0,v=0,b=0,w=0,C=(f.chainNameList,f.secStructList),T=f.insCodeList,S=f.sequenceIndexList,x=f.bFactorList,A=f.altLocList,k=f.occupancyList,E=f.bondAtomList,M=f.bondOrderList,_=f.numModels;if(0==_)return d;t.multimodel||(_=1);var P,O,I,R,L,j,D=[];if(!l&&f.bioAssemblyList&&f.bioAssemblyList.length>0){var N=f.bioAssemblyList[u].transformList;for(P=0,j=N.length;P<j;P++){var G=new n.Matrix4(N[P].matrix);G.transpose(),D.push(G)}}var F=0;for(L=0;L<_;L++){var q=f.chainsPerModel[L],B=d[d.length-1],z=[];for(y.push({symmetries:D}),P=0;P<q;++P){var H=f.groupsPerChain[v],U=h(f.chainIdList.subarray(4*v,4*v+4));f.chainNameList&&(U=h(f.chainNameList.subarray(4*v,4*v+4)));var V=b,K="";for(O=0;O<H;++O){var W=f.groupList[f.groupTypeList[b]],$=W.atomNameList.length,Y=0,Q=!1,X=!1;if(C){Y=C[b];var Z=m(Y);0!=b&&Z==K||(Q=!0),K=Z;var J=b+1;(J>=C.length||m(C[J]!=Z))&&(X=!0)}var ee=null;f.insCodeList&&(ee=String.fromCharCode(T[b]));var te=null;S&&(te=S[b]);var ne=f.groupIdList[b],re=W.groupName,oe=w;for(I=0;I<$;++I){var ae=W.elementList[I];if(r&&"H"==ae)w+=1;else{var ie="";x&&(ie=x[w]);var se="";A&&A[w]&&(se=String.fromCharCode(A[w]));var le="";if(k&&(le=k[w]),""==se||se==o||"*"==o){var ce=f.atomIdList[w],ue=W.atomNameList[I],pe=0;W.atomChargeList&&(pe=W.atomChargeList[I]);var fe=f.xCoordList[w],de=f.yCoordList[w],he=f.zCoordList[w];z[w]=B.length,B.push({resn:re,x:fe,y:de,z:he,elem:ae,hetflag:Y<0,chain:U,resi:ne,icode:se,rescode:ne+(" "!=se?"^"+se:""),serial:ce,altLoc:se,index:w,atom:ue,bonds:[],ss:m(Y),ssbegin:Q,ssend:X,bondOrder:[],properties:{charge:pe,occupancy:le},b:ie}),w+=1}else w+=1}}var me=W.bondAtomList;for(I=0,R=W.bondOrderList.length;I<R;++I){var ye=oe+me[2*I],ge=oe+me[2*I+1],ve=W.bondOrderList[I],be=z[ye],we=z[ge],Ce=B[be],Te=B[we];Ce&&Te&&(Ce.bonds.push(we),Ce.bondOrder.push(ve),Te.bonds.push(be),Te.bondOrder.push(ve))}b+=1}for(b=V,O=0;O<H;++O)b+=1;v+=1}if(E)for(I=F,R=E.length;I<R;I+=2){var ye=E[I],ge=E[I+1],ve=M?M[I/2]:1;if(ye>=w){F=I;break}var be=z[ye],we=z[ge],Ce=B[be],Te=B[we];Ce&&Te&&(Ce.bonds.push(we),Ce.bondOrder.push(ve),Te.bonds.push(be),Te.bondOrder.push(ve))}if(t.multimodel&&(t.onemol||d.push([])),!l)for(var j=0;j<d.length;j++)p(y[g].symmetries,c,d[j]);g+=1}return s&&!i&&a(d),d},e.prmtop=e.PRMTOP=function(e,t){function n(e){var t=s.indexOf(l.filter(function(t){return t.includes(e)})[0]);if(Number.isInteger(t)&&t>0){for(;!s[t].includes("FORMAT");)t++;return t}return-1}function r(e){var t=s[e].match(/\((\d*)\S*/),n=s[e].match(/[a-zA-Z](\d*)\)\s*/);return null==n&&(n=s[e].match(/[a-zA-Z](\d*)\.\d*\)\s*/)),[t[1],n[1]]}var o=[],a=0,s=e.split(/\r?\n|\r/);if(!(s.length>0&&s[0].includes("VERSION")))return[];var l=s.filter(function(e){return e.includes("POINTERS")||e.includes("ATOM_NAME")||e.includes("CHARGE")||e.includes("RADII")||e.includes("BONDS_INC_HYDROGEN")||e.includes("BONDS_WITHOUT_HYDROGEN")}),c=n("POINTERS");if(c==-1)return[];var u=r(c),p=parseInt(s[c+1].slice(0,u[1]));if(isNaN(p)||p<=0)return[];if(c=n("ATOM_NAME"),c==-1)return[];u=r(c);var f=u[0];for(i=0;i<p/u[0];i++){for(i==parseInt(p/u[0])&&(f=p%u[0]),j=0;j<f;j++){var d={},h={charge:"",radii:""};d.serial=a,d.x=0,d.y=0,d.z=0,d.atom=s[c+1].slice(u[1]*j,u[1]*(j+1)),d.elem=s[c+1].slice(u[1]*j,u[1]*j+1),d.properties=h,d.bonds=[],d.bondOrder=[],o.push(d),a++}c++}if(c=n("CHARGE"),c!=-1)for(u=r(c),a=0,f=u[0],i=0;i<p/u[0];i++){for(i==parseInt(p/u[0])&&(f=p%u[0]),j=0;j<f;j++)o[a].properties.charge=s[c+1].slice(u[1]*j,u[1]*(j+1)),a++;c++}if(c=n("RADII"),c!=-1)for(u=r(c),a=0,f=u[0],i=0;i<p/u[0];i++){for(i==parseInt(p/u[0])&&(f=p%u[0]),j=0;j<f;j++)o[a].properties.radii=s[c+1].slice(u[1]*j,u[1]*(j+1)),a++;c++}if(c=n("BONDS_WITHOUT_HYDROGEN"),c!=-1){u=r(c),a=0,f=u[0];var m;for(i=0;i<p/u[0];i++){for(i==parseInt(p/u[0])&&(f=p%u[0]),j=0;j<f;j++)a%3==0&&(m=parseInt(s[c+1].slice(u[1]*j,u[1]*(j+1))/3+1)),a%3==1&&o[m].bonds.push(parseInt(s[c+1].slice(u[1]*j,u[1]*(j+1))/3+1)),a++;c++}}if(c=n("BONDS_INC_HYDROGEN"),c!=-1){u=r(c),a=0,f=u[0];var m;for(i=0;i<p/u[0];i++){for(i==parseInt(p/u[0])&&(f=p%u[0]),j=0;j<f;j++)a%3==0&&(m=parseInt(s[c+1].slice(u[1]*j,u[1]*(j+1))/3+1)),a%3==1&&o[m].bonds.push(parseInt(s[c+1].slice(u[1]*j,u[1]*(j+1))/3+1)),a++;c++}}return[o]},e.gro=e.GRO=function(e,n){for(var r=[],o=e.split(/\r?\n|\r/);o.length>0&&!(o.length<3);){var a=parseInt(o[1]);if(isNaN(a)||a<=0)break;if(o.length<a+3)break;r.push([]);for(var i=2,s=r[r.length-1].length,l=s+a,c=s;c<l;c++){var u=o[i++],p={};p.serial=c,p.atom=u.slice(10,15).trim(),p.atom.charCodeAt(1)>=97&&p.atom.charCodeAt(1)<=122?p.elem=p.atom.slice(0,2):p.elem=p.atom[0],p.x=parseFloat(u.slice(20,28)),p.y=parseFloat(u.slice(28,36)),p.z=parseFloat(u.slice(36,44)),p.resi=u.slice(5,10),p.bonds=[],p.bondOrder=[],p.properties={},u.length>44&&(p.dx=parseFloat(u.slice(44,52)),p.dy=parseFloat(u.slice(52,60)),p.dz=parseFloat(u.slice(60,68))),r[r.length-1][c]=p}o.splice(0,++i)}for(var c=0;c<r.length;c++)t(r[c]);return r},e}();var n=n||{};n.partialCharges={"ALA:N":-.15,"ALA:CA":.1,"ALA:CB":0,"ALA:C":.6,"ALA:O":-.55,"ARG:N":-.15,"ARG:CA":.1,"ARG:CB":0,"ARG:CG":0,"ARG:CD":.1,"ARG:NE":-.1,"ARG:CZ":.5,"ARG:NH1":.25,"ARG:NH2":.25,"ARG:C":.6,"ARG:O":-.55,"ASN:N":-.15,"ASN:CA":.1,"ASN:CB":0,"ASN:CG":.55,"ASN:OD1":-.55,"ASN:ND2":0,"ASN:C":.6,"ASN:O":-.55,"ASP:N":-.15,"ASP:CA":.1,"ASP:CB":0,"ASP:CG":.14,"ASP:OD1":-.57,"ASP:OD2":-.57,"ASP:C":.6,"ASP:O":-.55,"CYS:N":-.15,"CYS:CA":.1,"CYS:CB":.19,"CYS:SG":-.19,"CYS:C":.6,"CYS:O":-.55,"GLN:N":-.15,"GLN:CA":.1,"GLN:CB":0,"GLN:CG":0,"GLN:CD":.55,"GLN:OE1":-.55,"GLN:NE2":0,"GLN:C":.6,"GLN:O":-.55,"GLU:N":-.15,"GLU:CA":.1,"GLU:CB":0,"GLU:CG":0,"GLU:CD":.14,"GLU:OE1":-.57,"GLU:OE2":-.57,"GLU:C":.6,"GLU:O":-.55,"GLY:N":-.15,"GLY:CA":.1,"GLY:C":.6,"GLY:O":-.55,"HIS:N":-.15,"HIS:CA":.1,"HIS:CB":0,"HIS:CG":.1,"HIS:ND1":-.1,"HIS:CD2":.1,"HIS:NE2":-.4,"HIS:CE1":.3,"HIS:C":.6,"HIS:O":-.55,"ILE:N":-.15,"ILE:CA":.1,"ILE:CB":0,"ILE:CG2":0,"ILE:CG1":0,"ILE:CD":0,"ILE:C":.6,"ILE:O":-.55,"LEU:N":-.15,"LEU:CA":.1,"LEU:CB":0,"LEU:CG":0,"LEU:CD1":0,"LEU:CD2":0,"LEU:C":.6,"LEU:O":-.55,"LYS:N":-.15,"LYS:CA":.1,"LYS:CB":0,"LYS:CG":0,"LYS:CD":0,"LYS:CE":.25,"LYS:NZ":.75,"LYS:C":.6,"LYS:O":-.55,"MET:N":-.15,"MET:CA":.1,"MET:CB":0,"MET:CG":.06,"MET:SD":-.12,"MET:CE":.06,"MET:C":.6,"MET:O":-.55,"PHE:N":-.15,"PHE:CA":.1,"PHE:CB":0,"PHE:CG":0,"PHE:CD1":0,"PHE:CD2":0,"PHE:CE1":0,"PHE:CE2":0,"PHE:CZ":0,"PHE:C":.6,"PHE:O":-.55,"PRO:N":-.25,"PRO:CD":.1,"PRO:CA":.1,"PRO:CB":0,"PRO:CG":0,"PRO:C":.6,"PRO:O":-.55,"SER:N":-.15,"SER:CA":.1,"SER:CB":.25,"SER:OG":-.25,"SER:C":.6,"SER:O":-.55,"THR:N":-.15,"THR:CA":.1,"THR:CB":.25,"THR:OG1":-.25,"THR:CG2":0,"THR:C":.6,"THR:O":-.55,"TRP:N":-.15,"TRP:CA":.1,"TRP:CB":0,"TRP:CG":-.03,"TRP:CD2":.1,"TRP:CE2":-.04,"TRP:CE3":-.03,"TRP:CD1":.06,"TRP:NE1":-.06,"TRP:CZ2":0,"TRP:CZ3":0,"TRP:CH2":0,"TRP:C":.6,"TRP:O":-.55,"TYR:N":-.15,"TYR:CA":.1,"TYR:CB":0,"TYR:CG":0,"TYR:CD1":0,"TYR:CE1":0,"TYR:CD2":0,"TYR:CE2":0,"TYR:CZ":.25,"TYR:OH":-.25,"TYR:C":.6,"TYR:O":-.55,"VAL:N":-.15,"VAL:CA":.1,"VAL:CB":0,"VAL:CG1":0,"VAL:CG2":0,"VAL:C":.6,"VAL:O":-.55},n.applyPartialCharges=function(e,t){if((!t||"undefined"==typeof e.partialCharge)&&e.resn&&e.atom){var r=e.resn+":"+e.atom;e.properties.partialCharge=n.partialCharges[r]}},n.VolumeData=function(e,t,n){if(this.unit={x:1,y:1,z:1},this.origin={x:0,y:0,z:0},this.size={x:0,y:0,z:0},this.data=new Float32Array([]),this.matrix=null,t=t.toLowerCase(),/\.gz$/.test(t)){t=t.replace(/\.gz$/,"");try{e=this[t]&&this[t].isbinary?pako.inflate(e):new TextDecoder("utf-8").decode(pako.inflate(e))}catch(e){console.log(e)}}if(this[t]&&this[t](e),n){if(n.negate)for(var r=0,o=this.data.length;r<o;r++)this.data[r]=-this.data[r];if(n.normalize){for(var a=0,r=0,o=this.data.length;r<o;r++)a+=this.data[r];var i=a/this.data.length;console.log("computed mean: "+i),a=0;for(var r=0,o=this.data.length;r<o;r++){var s=this.data[r]-i;a+=s*s}var l=a/this.data.length;console.log("Computed variance: "+l);for(var r=0,o=this.data.length;r<o;r++)this.data[r]=(this.data[r]-i)/l}}},n.VolumeData.prototype.getVal=function(e,t,n){return e-=this.origin.x,t-=this.origin.y,n-=this.origin.z,e/=this.unit.x,t/=this.unit.y,n/=this.unit.z,e=Math.round(e),t=Math.round(t),n=Math.round(n),e<0||e>=this.size.x?0:t<0||t>=this.size.y?0:n<0||n>=this.size.z?0:this.data[e*this.size.y*this.size.z+t*this.size.z+n]},n.VolumeData.prototype.getCoordinates=function(e){var t=e/(this.size.y*this.size.z),n=e%(this.size.y*this.size.z),r=e%this.size.z;return t*=this.unit.x,n*=this.unit.y,r*=this.unit.z,t+=this.origin.x,n+=this.origin.y,r+=this.origin.z,{x:t,y:n,z:r}},n.VolumeData.prototype.vasp=function(e){var t=e.replace(/^\s+/,"").split(/[\n\r]/),r=n.Parsers.vasp(e)[0],o=r.length;if(0==o)return console.log("No good formating of CHG or CHGCAR file, not atomic information provided in the file."),void(this.data=[]);var a,i=1.889725992,s=.036749309,l=parseFloat(t[1]);a=t[2].replace(/^\s+/,"").split(/\s+/);var c=new n.Vector3(parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2])).multiplyScalar(l*i);a=t[3].replace(/^\s+/,"").split(/\s+/);var u=new n.Vector3(parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2])).multiplyScalar(l*i);a=t[4].replace(/^\s+/,"").split(/\s+/);var p=new n.Vector3(parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2])).multiplyScalar(l*i),f=c.x*(u.y*p.z-p.y*u.z)-u.x*(c.y*p.z-p.y*c.z)+p.x*(c.y*u.z-u.y*c.z);f=Math.abs(f)/Math.pow(i,3);var d=1/f;t.splice(0,8+o+1);var h=t[0].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),m=Math.abs(h[0]),y=Math.abs(h[1]),g=Math.abs(h[2]),v=this.origin=new n.Vector3(0,0,0);this.size={x:m,y:y,z:g},this.unit=new n.Vector3(c.x,u.y,p.z),c=c.multiplyScalar(1/(i*m)),u=u.multiplyScalar(1/(i*y)),p=p.multiplyScalar(1/(i*g)),0==c.y&&0==c.z&&0==u.x&&0==u.z&&0==p.x&&0==p.y||(this.matrix=new n.Matrix4(c.x,u.x,p.x,0,c.y,u.y,p.y,0,c.z,u.z,p.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,(new n.Matrix4).makeTranslation(v.x,v.y,v.z)),this.origin=new n.Vector3(0,0,0),this.unit=new n.Vector3(1,1,1)),t.splice(0,1);var b=t.join(" ");b=b.replace(/^\s+/,""),b=b.split(/[\s\r]+/),b.splice(m*y*g+1);for(var w=new Float32Array(b),C=0;C<w.length;C++)w[C]=w[C]*d*s;this.data=w},n.VolumeData.prototype.dx=function(e){var t,r,o=e.split(/[\n\r]+/),a=/gridpositions\s+counts\s+(\d+)\s+(\d+)\s+(\d+)/,i=/^origin\s+(\S+)\s+(\S+)\s+(\S+)/,s=/^delta\s+(\S+)\s+(\S+)\s+(\S+)/,l=/data follows/;for(t=0;t<o.length;t++){var c=o[t];if(r=a.exec(c)){var u=parseInt(r[1]),p=parseInt(r[2]),f=parseInt(r[3]);this.size={x:u,y:p,z:f}}else if(r=s.exec(c)){var d=parseFloat(r[1]);if(0==parseFloat(r[2])&&0==parseFloat(r[3])||console.log("Non-orthogonal delta matrix not currently supported in dx format"),t+=1,c=o[t],r=s.exec(c),null==r)return void console.log("Parse error in dx delta matrix");var h=parseFloat(r[2]);if(0==parseFloat(r[1])&&0==parseFloat(r[3])||console.log("Non-orthogonal delta matrix not currently supported in dx format"),t+=1,c=o[t],r=s.exec(c),null==r)return void console.log("Parse error in dx delta matrix");var m=parseFloat(r[3]);0==parseFloat(r[1])&&0==parseFloat(r[2])||console.log("Non-orthogonal delta matrix not currently supported in dx format"),this.unit=new n.Vector3(d,h,m)}else if(r=i.exec(c)){var y=parseFloat(r[1]),g=parseFloat(r[2]),v=parseFloat(r[3]);this.origin=new n.Vector3(y,g,v)}else if(r=l.exec(c))break}if(t+=1,!(this.size&&this.origin&&this.unit&&this.size))return void console.log("Error parsing dx format");var b=o.splice(t).join(" ");b=b.split(/[\s\r]+/),this.data=new Float32Array(b)},n.VolumeData.prototype.cube=function(e){var t=e.replace(/^\s+/,"").split(/[\n\r]+/);if(!(t.length<6)){var r=t[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),o=parseFloat(r[0]),a=Math.abs(o),i=this.origin=new n.Vector3(parseFloat(r[1]),parseFloat(r[2]),parseFloat(r[3]));r=t[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var s=r[0]>0?.529177:1;i.multiplyScalar(s);var l=Math.abs(r[0]),c=new n.Vector3(parseFloat(r[1]),parseFloat(r[2]),parseFloat(r[3])).multiplyScalar(s);r=t[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var u=Math.abs(r[0]),p=new n.Vector3(parseFloat(r[1]),parseFloat(r[2]),parseFloat(r[3])).multiplyScalar(s);r=t[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var f=Math.abs(r[0]),d=new n.Vector3(parseFloat(r[1]),parseFloat(r[2]),parseFloat(r[3])).multiplyScalar(s);this.size={x:l,y:u,z:f},this.unit=new n.Vector3(c.x,p.y,d.z),0==c.y&&0==c.z&&0==p.x&&0==p.z&&0==d.x&&0==d.y||(this.matrix=new n.Matrix4(c.x,p.x,d.x,0,c.y,p.y,d.y,0,c.z,p.z,d.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,(new n.Matrix4).makeTranslation(i.x,i.y,i.z)),this.origin=new n.Vector3(0,0,0),this.unit=new n.Vector3(1,1,1));var h=6;o<0&&h++;var m=t.splice(a+h).join(" ");m=m.replace(/^\s+/,""),m=m.split(/[\s\r]+/),this.data=new Float32Array(m)}},n.VolumeData.prototype.ccp4=function(e){var t={};e=new Int8Array(e);var r=new Int32Array(e.buffer,0,56),o=new Float32Array(e.buffer,0,56),a=new DataView(e.buffer);if(t.MAP=String.fromCharCode(a.getUint8(208),a.getUint8(209),a.getUint8(210),a.getUint8(211)),t.MACHST=[a.getUint8(212),a.getUint8(213)],17===t.MACHST[0]&&17===t.MACHST[1])for(var i=e.byteLength,s=0;s<i;s+=4)a.setFloat32(s,a.getFloat32(s),!0);t.NX=r[0],t.NY=r[1],t.NZ=r[2],t.MODE=r[3],t.NXSTART=r[4],t.NYSTART=r[5],t.NZSTART=r[6],t.MX=r[7],t.MY=r[8],t.MZ=r[9],t.xlen=o[10],t.ylen=o[11],t.zlen=o[12],t.alpha=o[13],t.beta=o[14],t.gamma=o[15],t.MAPC=r[16],t.MAPR=r[17],t.MAPS=r[18],t.DMIN=o[19],t.DMAX=o[20],t.DMEAN=o[21],t.ISPG=r[22],t.NSYMBT=r[23],t.LSKFLG=r[24],t.originX=o[49],t.originY=o[50],t.originZ=o[51],t.ARMS=o[54],console.log("Map has min,mean,average,rmsddv: "+t.DMIN+","+t.DMAX+","+t.DMEAN+","+t.ARMS);var l=t,c=[l.xlen,0,0],u=[l.ylen*Math.cos(Math.PI/180*l.gamma),l.ylen*Math.sin(Math.PI/180*l.gamma),0],p=[l.zlen*Math.cos(Math.PI/180*l.beta),l.zlen*(Math.cos(Math.PI/180*l.alpha)-Math.cos(Math.PI/180*l.gamma)*Math.cos(Math.PI/180*l.beta))/Math.sin(Math.PI/180*l.gamma),0];p[2]=Math.sqrt(l.zlen*l.zlen*Math.sin(Math.PI/180*l.beta)*Math.sin(Math.PI/180*l.beta)-p[1]*p[1]);var f=[0,c,u,p],d=[0,l.MX,l.MY,l.MZ],h=[0,l.MAPC,l.MAPR,l.MAPS];this.matrix=new n.Matrix4,this.matrix.set(f[h[1]][0]/d[h[1]],f[h[2]][0]/d[h[2]],f[h[3]][0]/d[h[3]],0,f[h[1]][1]/d[h[1]],f[h[2]][1]/d[h[2]],f[h[3]][1]/d[h[3]],0,f[h[1]][2]/d[h[1]],f[h[2]][2]/d[h[2]],f[h[3]][2]/d[h[3]],0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,(new n.Matrix4).makeTranslation(l.NXSTART+l.originX,l.NYSTART+l.originY,l.NZSTART+l.originZ)),this.origin=new n.Vector3(0,0,0),this.unit=new n.Vector3(1,1,1),this.size={x:t.NX,y:t.NY,z:t.NZ};var m=new Float32Array(e.buffer,1024+t.NSYMBT),y=t.NX,g=t.NY,v=t.NZ;this.data=new Float32Array(y*g*v);for(var s=0;s<y;s++)for(var b=0;b<g;b++)for(var w=0;w<v;w++)this.data[(s*g+b)*v+w]=m[(w*g+b)*y+s]},n.VolumeData.prototype.ccp4.isbinary=!0,n.workerString=function(){self.onmessage=function(e){var t=e.data,n=t.type;if(n<0)self.atomData=t.atoms,self.volume=t.volume,self.ps=new ProteinSurface;else{var r=self.ps;r.initparm(t.expandedExtent,1!=n,self.volume),r.fillvoxels(self.atomData,t.extendedAtoms),r.buildboundary(),4!==n&&2!==n||(r.fastdistancemap(),r.boundingatom(!1),r.fillvoxelswaals(self.atomData,t.extendedAtoms)),r.marchingcube(n);var o=r.getFacesAndVertices(t.atomsToShow);self.postMessage(o)}}}.toString().replace(/(^.*?\{|\}$)/g,""),n.workerString+="; var ProteinSurface="+n.ProteinSurface.toString().replace(/[a-zA-Z_$]{1}[0-9a-zA-Z_$]*.MarchingCube./g,"MarchingCube."),n.workerString+=",MarchingCube=("+n.MarchingCubeInitializer.toString()+")();",n.SurfaceWorker=window.URL?window.URL.createObjectURL(new Blob([n.workerString],{type:"text/javascript"})):{postMessage:function(){}},n.workerString=n.workerString,n.SurfaceWorker=n.SurfaceWorker}).call(window)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(343),p=o(u),f=n(346),d=n(667),h=r(d),m=n(658),y=n(819),g=r(y),v=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},b=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){var e=null,t=null;if(this.props.cache){var n=this.props.cache.get(this.props.pdbId);if(null===n)e=p.createElement(h.default,{status:d.TableCellStatus.LOADING}),t=p.createElement(h.default,{status:d.TableCellStatus.LOADING});else if("error"===n.status)e=p.createElement(h.default,{status:d.TableCellStatus.ERROR}),t=p.createElement(h.default,{status:d.TableCellStatus.ERROR});else if(null===n.data)e=p.createElement(h.default,{status:d.TableCellStatus.NA}),t=p.createElement(h.default,{status:d.TableCellStatus.NA});else{var r=(0,m.generatePdbInfoSummary)(n.data,this.props.chainId);e=r.pdbInfo,t=r.moleculeInfo}}return p.createElement("div",{className:this.props.truncateText?"col col-sm-12":""},p.createElement("div",{className:this.props.truncateText?"row":""},p.createElement("div",{className:"pull-left",style:{paddingRight:5}},p.createElement("span",{style:{fontWeight:this.props.summaryFormat?"bold":"normal"}},p.createElement("span",null,this.props.summaryFormat?"pdb":"PDB"),!this.props.summaryFormat&&p.createElement("span",{style:{paddingLeft:5}},p.createElement("a",{href:"http://www.rcsb.org/pdb/explore/explore.do?structureId="+this.props.pdbId,target:"_blank"},p.createElement("b",null,this.props.pdbId))),p.createElement("span",null,":"))),p.createElement("div",null,this.props.truncateText?p.createElement(g.default,{text:e}):p.createElement("span",null,e))),p.createElement("div",{className:this.props.truncateText?"row":""},p.createElement("div",{className:"pull-left",style:{paddingRight:5}},p.createElement("span",{style:{fontWeight:this.props.summaryFormat?"bold":"normal"}},p.createElement("span",null,this.props.summaryFormat?"chain":"Chain"),!this.props.summaryFormat&&p.createElement("span",{style:{paddingLeft:3}},p.createElement("b",null,this.props.chainId)),p.createElement("span",null,":"))),p.createElement("div",null,this.props.truncateText?p.createElement(g.default,{text:t}):p.createElement("span",null,t))))}}]),t}(p.Component);b=v([f.observer],b),t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(343),p=o(u),f=n(346),d=n(464),h=n(820),m=r(h),y=n(406),g=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},v=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.isTextTruncated=!0,e.toggleText=e.toggleText.bind(e),e}return s(t,e),l(t,[{key:"render",value:function(){var e=this.props.text;return"string"==typeof this.props.text&&(e=p.createElement(m.default,{text:this.props.text,line:this.props.line,truncateText:this.props.truncateText,textTruncateChild:p.createElement("a",{onClick:this.toggleText,style:{cursor:"pointer"}},this.props.expandIndicator)})),p.createElement(d.If,{condition:this.isTextTruncated},p.createElement(d.Then,null,e),p.createElement(d.Else,null,p.createElement("span",null,p.createElement("span",null,this.props.text," "),p.createElement("span",null,p.createElement("a",{onClick:this.toggleText,style:{cursor:"pointer"}},this.props.collapseIndicator)))))}},{key:"toggleText",value:function(){this.isTextTruncated=!this.isTextTruncated}}]),t}(p.Component);v.defaultProps={line:1,expandIndicator:"[...]",collapseIndicator:"[^]",truncateText:" "},g([y.observable],v.prototype,"isTextTruncated",void 0),v=g([f.observer],v),t.default=v},function(e,t,n){var r,o,a;!function(i,s){o=[e,t,n(343),n(350)],r=s,a="function"==typeof r?r.apply(t,o):r,!(void 0!==a&&(e.exports=a))}(this,function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=o(n),u=o(r),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(){var e,n,r,o;i(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.onResize=function(){r.rafId&&window.cancelAnimationFrame(r.rafId),r.rafId=window.requestAnimationFrame(r.update.bind(r))},r.update=function(){r.forceUpdate()},o=n,s(r,o)}return l(t,e),p(t,[{key:"componentDidMount",value:function(){var e=document.createElement("canvas"),t=document.createDocumentFragment(),n=window.getComputedStyle(this.scope),r=[n["font-weight"],n["font-style"],n["font-size"],n["font-family"]].join(" ");t.appendChild(e),this.canvas=e.getContext("2d"),this.canvas.font=r,this.forceUpdate(),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize),this.rafId&&window.cancelAnimationFrame(this.rafId)}},{key:"measureWidth",value:function(e){return this.canvas.measureText(e).width}},{key:"getRenderText",value:function(){var e=this.props,t=(e.containerClassName,e.line),n=e.text,r=e.textTruncateChild,o=e.truncateText,i=a(e,["containerClassName","line","text","textTruncateChild","truncateText"]),s=this.scope.getBoundingClientRect().width;if(0===s)return null;if(s>=this.measureWidth(n))return c.default.createElement("div",i,n);var l="";if(r&&"string"==typeof r.type){var u=r.type;(u.indexOf("span")>=0||u.indexOf("a")>=0)&&(l=r.props.children)}for(var p=1,f=n.length,d="",h=0,m=0,y=t,g=0,v=!1,b=-1;y--;){for(var w=y?"":o+" "+l;p<=f;){if(d=n.substr(m,p),g=this.measureWidth(d+w),!(g<s)){do p--,d=n.substr(m,p)," "===d[d.length-1]&&(d=n.substr(m,p-1)),v&&(b=d.lastIndexOf(" "),b>-1&&(p=b,d=n.substr(m,p))),g=this.measureWidth(d+w);while(g>=s&&d.length>0);m+=p;break}h=n.indexOf(" ",p+1),h===-1?(p+=1,v=!1):(v=!0,p=h)}if(p>=f){m=f;break}}return m===f?c.default.createElement("div",i,n):c.default.createElement("div",i,n.substr(0,m)+o+" ",r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.text,r=t.containerClassName,o=n;return this.scope&&(o=this.getRenderText()),c.default.createElement("div",{ref:function(t){e.scope=t},className:r,style:{overflow:"hidden"}},o)}}]),t}(n.Component);f.propTypes={containerClassName:u.default.string,line:u.default.number,text:u.default.string,textTruncateChild:u.default.node,truncateText:u.default.string},f.defaultProps={line:1,text:"",truncateText:"…"},t.default=f,e.exports=t.default})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){
var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(408),u=o(c),p=n(815),f=r(p),d=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._script=[],e}return s(t,e),l(t,[{key:"generateScript",value:function(e,t,n,r){return this._script=[],this.reinitialize(),this.bgColor(r.backgroundColor||f.default.defaultProps.backgroundColor),this.loadPdb(e),this.updateVisualStyle(n,t,r),this.selectNone(),this._script.join("\n")}},{key:"reinitialize",value:function(){this._script.push("reinitialize;")}},{key:"bgColor",value:function(e){this._script.push("bg_color "+this.formatColor(e)+";")}},{key:"loadPdb",value:function(e){this._script.push("fetch "+e+", async=0;")}},{key:"setScheme",value:function(e){this._script.push(t.PROTEIN_SCHEME_PRESETS[e])}},{key:"setColor",value:function(e){this._script.push("color "+this.formatColor(e)+", sele;")}},{key:"selectChain",value:function(e){this._script.push("select chain "+e+";")}},{key:"selectAlphaHelix",value:function(e){this._script.push("select (chain "+e+") and (ss h);")}},{key:"selectBetaSheet",value:function(e){this._script.push("select (chain "+e+") and (ss s);")}},{key:"selectResidues",value:function(e,t){this._script.push("select (resi "+e.join(",")+") and (chain "+t+");")}},{key:"selectSideChains",value:function(e,t){this._script.push("select ((resi "+e.join(",")+") and (chain "+t+") and (not name c+n+o));")}},{key:"setTransparency",value:function(e){this._script.push("set transparency, "+e/10+", sele;"),this._script.push("set cartoon_transparency, "+e/10+", sele;"),this._script.push("set sphere_transparency, "+e/10+", sele;"),this._script.push("set stick_transparency, "+e/10+", sele;")}},{key:"enableBallAndStick",value:function(){this._script.push("show spheres, sele; show sticks, sele; alter sele, vdw=0.50;")}},{key:"disableBallAndStick",value:function(){this._script.push("hide spheres, sele; hide sticks, sele;")}},{key:"rainbowColor",value:function(){return this._script.push("spectrum count, rainbow_rev, sele;")}},{key:"cpkColor",value:function(){this._script.push("util.cbaw sele;")}},{key:"hideBoundMolecules",value:function(){var e="asp+glu+arg+lys+his+asn+thr+cys+gln+tyr+ser+gly+ala+leu+val+ile+met+trp+phe+pro";this._script.push("hide everything, not resn "+e+";")}},{key:"formatColor",value:function(e){return e.replace("#","0x")}},{key:"selectAll",value:function(){this._script.push("select all;")}},{key:"selectNone",value:function(){this._script.push("select none;")}},{key:"updateResidueStyle",value:function(e,t,n){var r=this,o=f.default.defaultProps,a=n.highlightColor||o.highlightColor,i=u.groupBy(e,function(e){return e.highlighted?a:e.color});u.each(u.keys(i),function(e){var a=i[e].map(function(e){return e.positionRange}),s=r.convertPositionsToResCode(a);i[e][0].highlighted?(r.selectResidues(s,t),r.setColor(n.highlightColor||o.highlightColor)):n.mutationColor===p.MutationColor.MUTATION_TYPE?(r.selectResidues(s,t),r.setColor(e)):n.mutationColor===p.MutationColor.UNIFORM&&(r.selectResidues(s,t),r.setColor(n.uniformMutationColor||o.uniformMutationColor));var l=n.sideChain===p.SideChain.ALL||i[e][0].highlighted===!0&&n.sideChain===p.SideChain.SELECTED;r.updateSideChains(t,s,l,n)})}},{key:"updateSideChains",value:function(e,t,n,r){n&&r.proteinScheme!==p.ProteinScheme.SPACE_FILLING&&(this.selectSideChains(t,e),this.enableBallAndStick())}}],[{key:"PROTEIN_SCHEME_PRESETS",get:function(){var e={};return e[p.ProteinScheme.CARTOON]="hide everything; show cartoon;",e[p.ProteinScheme.SPACE_FILLING]="hide everything; show spheres;",e[p.ProteinScheme.BALL_AND_STICK]="hide everything; show spheres; show sticks; alter all, vdw=0.50",e[p.ProteinScheme.RIBBON]="hide everything; show ribbon;",e[p.ProteinScheme.TRACE]=e[p.ProteinScheme.RIBBON],e}}]),t}(f.default);t.default=d},function(e,t){e.exports={portalWidth:"structureViewer-module__portalWidth__250aJ","main-3d-panel":"structureViewer-module__main-3d-panel__2asbr",header:"structureViewer-module__header__243uA",body:"structureViewer-module__body__3BGGR","collapsed-panel":"structureViewer-module__collapsed-panel__3T7vs","increased-size-panel":"structureViewer-module__increased-size-panel__1nCD-","default-option-select":"structureViewer-module__default-option-select__3EsrF","alpha-helix":"structureViewer-module__alpha-helix__3U1NC","beta-sheet":"structureViewer-module__beta-sheet__2rza2",loop:"structureViewer-module__loop__25tQU",highlighted:"structureViewer-module__highlighted__9IwJz","uniform-mutation":"structureViewer-module__uniform-mutation__2nUW-","missense-mutation":"structureViewer-module__missense-mutation__3m1Or","trunc-mutation":"structureViewer-module__trunc-mutation__1VdGC","inframe-mutation":"structureViewer-module__inframe-mutation__bSE4n"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in o)return o.value;var i=o.get;if(void 0!==i)return i.call(r)},c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(346),p=n(733),f=r(p),d=n(766),h=r(d),m=n(736),y=r(m),g=n(434),v=r(g),b=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},w=function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),s(t,[{key:"generateColumns",value:function(){var e=this;l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"generateColumns",this).call(this),this._columns[p.MutationTableColumnType.CANCER_TYPE].visible=h.default.isVisible(this.props.dataStore?this.props.dataStore.allData:this.props.data,this.props.sampleIdToTumorType),this._columns[p.MutationTableColumnType.TUMOR_ALLELE_FREQ].visible=y.default.isVisible(this.props.dataStore?this.props.dataStore.allData:this.props.data),this._columns[p.MutationTableColumnType.SAMPLE_ID].order=10,this._columns[p.MutationTableColumnType.CANCER_TYPE].order=15,this._columns[p.MutationTableColumnType.PROTEIN_CHANGE].order=20,this._columns[p.MutationTableColumnType.ANNOTATION].order=30,v.default.showGenomeNexus&&(this._columns[p.MutationTableColumnType.FUNCTIONAL_IMPACT].order=35),this._columns[p.MutationTableColumnType.MUTATION_TYPE].order=40,this._columns[p.MutationTableColumnType.COPY_NUM].order=50,this._columns[p.MutationTableColumnType.COSMIC].order=60,this._columns[p.MutationTableColumnType.MUTATION_STATUS].order=70,this._columns[p.MutationTableColumnType.VALIDATION_STATUS].order=80,this._columns[p.MutationTableColumnType.CENTER].order=100,this._columns[p.MutationTableColumnType.CHROMOSOME].order=110,this._columns[p.MutationTableColumnType.START_POS].order=120,this._columns[p.MutationTableColumnType.END_POS].order=130,this._columns[p.MutationTableColumnType.REF_ALLELE].order=140,this._columns[p.MutationTableColumnType.VAR_ALLELE].order=150,this._columns[p.MutationTableColumnType.TUMOR_ALLELE_FREQ].order=160,this._columns[p.MutationTableColumnType.NORMAL_ALLELE_FREQ].order=170,this._columns[p.MutationTableColumnType.VAR_READS].order=180,this._columns[p.MutationTableColumnType.REF_READS].order=190,this._columns[p.MutationTableColumnType.VAR_READS_N].order=200,this._columns[p.MutationTableColumnType.REF_READS_N].order=210,this._columns[p.MutationTableColumnType.NUM_MUTATIONS].order=220,this._columns[p.MutationTableColumnType.CANCER_TYPE].shouldExclude=function(){return!e.props.sampleIdToTumorType},this._columns[p.MutationTableColumnType.NUM_MUTATIONS].shouldExclude=function(){return!e.props.mutationCountCache}}}]),t}(f.default);w.defaultProps=Object.assign({},f.default.defaultProps,{columns:[p.MutationTableColumnType.SAMPLE_ID,p.MutationTableColumnType.COPY_NUM,p.MutationTableColumnType.ANNOTATION].concat(v.default.showGenomeNexus?[p.MutationTableColumnType.FUNCTIONAL_IMPACT]:[]).concat([p.MutationTableColumnType.REF_READS_N,p.MutationTableColumnType.VAR_READS_N,p.MutationTableColumnType.REF_READS,p.MutationTableColumnType.VAR_READS,p.MutationTableColumnType.START_POS,p.MutationTableColumnType.END_POS,p.MutationTableColumnType.REF_ALLELE,p.MutationTableColumnType.VAR_ALLELE,p.MutationTableColumnType.MUTATION_STATUS,p.MutationTableColumnType.VALIDATION_STATUS,p.MutationTableColumnType.CENTER,p.MutationTableColumnType.CHROMOSOME,p.MutationTableColumnType.PROTEIN_CHANGE,p.MutationTableColumnType.MUTATION_TYPE,p.MutationTableColumnType.COSMIC,p.MutationTableColumnType.TUMOR_ALLELE_FREQ,p.MutationTableColumnType.NORMAL_ALLELE_FREQ,p.MutationTableColumnType.CANCER_TYPE,p.MutationTableColumnType.NUM_MUTATIONS])}),w=b([u.observer],w),t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(343),p=o(u),f=n(825),d=r(f),h=n(428),m=n(779),y=r(m),g=n(419),v=r(g),b=n(597),w=r(b),C=n(346),T=n(406),S=n(408),x=r(S),A=n(445),k=n(721),E=n(426),M=n(345),_=r(M),P=n(604),O=r(P),I=n(832),R=r(I),L=n(687),j=r(L),D=n(601),N=r(D),G=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},F=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.mouseInPlot=!0,n.legendShown=!1,n.yMaxInputFocused=!1,n.mutationAlignerLinks=(0,h.remoteData)({await:function(){return[n.props.store.pfamGeneData]},invoke:function(){return new Promise(function(e,t){for(var r=n.props.store.pfamGeneData.result.regions,o=[],a=0;a<r.length;a++)o.push(v.default.get((0,E.getMutationAlignerUrl)()+"?pfamAccession="+r[a].metadata.accession));var i=Promise.all(o);i.then(function(t){for(var n=t.map(function(e){return JSON.parse(e.text)}),o={},a=void 0,i=void 0,s=0;s<n.length;s++)a=n[s],i=r[s].metadata.accession,a.linkToMutationAligner&&(o[i]=a.linkToMutationAligner);e(o)}),i.catch(t)})}},{}),n.handlers={handleYAxisMaxSliderChange:(0,T.action)(function(e){var t=e.target.value;n._yMaxInput=x.default.clamp(parseInt(t,10),n.countRange[0],n.countRange[1])}),handleYAxisMaxChange:(0,T.action)(function(e){n._yMaxInput=x.default.clamp(parseInt(e,10),n.countRange[0],n.countRange[1])}),handleSVGClick:function(){(0,O.default)(n.toSVGDOMNode().outerHTML,n.hugoGeneSymbol+"_lollipop.svg")},handlePDFClick:function(){n.downloadAsPDF(n.hugoGeneSymbol+"_lollipop.pdf")},onYMaxInputFocused:function(){n.yMaxInputFocused=!0},onYMaxInputBlurred:function(){n.yMaxInputFocused=!1},handleToggleLegend:(0,T.action)(function(){n.legendShown=!n.legendShown}),onMouseEnterPlot:(0,T.action)(function(){n.mouseInPlot=!0}),onMouseLeavePlot:(0,T.action)(function(){n.mouseInPlot=!1}),ref:function(e){n.plot=e}},n}return s(t,e),l(t,[{key:"lollipopLabel",value:function(e){var t=x.default.uniq(e.map(function(e){return e.proteinChange}));t.sort();var n="";return t.length>1&&(n=(0,A.longestCommonStartingSubstring)(t[0],t[t.length-1])),t=t.map(function(e){return e.substring(n.length)}),n+t.join("/")}},{key:"lollipopTooltip",value:function(e){var t=e.length,n="mutation"+(t>1?"s":""),r=this.lollipopLabel(e);return p.createElement("div",null,p.createElement("b",null,t," ",n),p.createElement("br",null),p.createElement("span",null,"AA Change: ",r))}},{key:"domainTooltip",value:function(e){var t=e.metadata.identifier,n=e.type,r=e.metadata.description,o=e.metadata.start,a=e.metadata.end,i=e.metadata.accession,s=this.mutationAlignerLinks.result[i],l=s?p.createElement("a",{href:s,target:"_blank"},"Mutation Aligner"):null;return p.createElement("div",{style:{maxWidth:200}},p.createElement("div",null,t," ",n,", ",r," (",o," - ",a,")"),p.createElement("div",null,p.createElement("a",{href:"http://www.uniprot.org/uniprot/"+this.props.store.uniprotId.result,target:"_blank"},this.props.store.uniprotId.result),p.createElement("a",{style:{marginLeft:"5px"},href:"http://pfam.xfam.org/family/"+i,target:"_blank"},"PFAM")),p.createElement("div",null,l))}},{key:"sequenceTooltip",value:function(){return p.createElement("div",{style:{maxWidth:200}},p.createElement("a",{href:"http://www.uniprot.org/uniprot/"+this.props.store.uniprotId.result,target:"_blank"},this.props.store.uniprotId.result))}},{key:"toSVGDOMNode",value:function(){if(this.plot){var e=this.plot.toSVGDOMNode(),t=p.createElement("text",{fill:"#2E3436",textAnchor:"start",dy:"1em",x:"2",y:"2",style:{fontFamily:"verdana",fontSize:"12px",fontWeight:"bold"}},this.hugoGeneSymbol),n=document.createElementNS("http://www.w3.org/2000/svg","g");return _.default.render(t,n),e.appendChild(n),e}return document.createElementNS("http://www.w3.org/2000/svg","svg")}},{key:"base64ToArrayBuffer",value:function(e){for(var t=window.atob(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o++){var a=t.charCodeAt(o);r[o]=a}return r}},{key:"downloadAsPDF",value:function(e){var t=this,n="<?xml version='1.0'?>"+this.toSVGDOMNode().outerHTML,r="svgtopdf.do",o="pdf_data";v.default.post(r).type("form").send({filetype:o,svgelement:n}).end(function(n,r){!n&&r.ok&&(0,O.default)(t.base64ToArrayBuffer(r.text),e)})}},{key:"render",value:function(){return this.props.store.pfamGeneData.isComplete&&this.props.store.pfamGeneData.result?p.createElement("div",{style:{display:"inline-block"},onMouseEnter:this.handlers.onMouseEnterPlot,onMouseLeave:this.handlers.onMouseLeavePlot},this.controls,p.createElement(j.default,{isOpened:this.legendShown},this.legend),p.createElement(d.default,{ref:this.handlers.ref,sequence:this.sequence,lollipops:this.lollipops,domains:this.domains,dataStore:this.props.store.dataStore,vizWidth:this.props.geneWidth,vizHeight:130,xMax:this.props.store.pfamGeneData.result.length||this.props.store.gene.length/3,yMax:this.yMax,onXAxisOffset:this.props.onXAxisOffset})):p.createElement(y.default,{isLoading:!0})}},{key:"showControls",get:function(){return this.yMaxInputFocused||this.mouseInPlot}},{key:"mutationsByPosition",get:function(){var e={},t=void 0,n=!0,r=!1,o=void 0;try{for(var a,i=this.props.store.dataStore.sortedFilteredData[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value,l=!0,c=!1,u=void 0;try{for(var p,f=s[Symbol.iterator]();!(l=(p=f.next()).done);l=!0){var d=p.value;t=d.proteinPosStart,e[t]=e[t]||[],e[t].push(d)}}catch(e){c=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(c)throw u}}}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return e}},{key:"lollipops",get:function(){var e=this;if(0===Object.keys(this.mutationsByPosition).length)return[];var t=Object.keys(this.mutationsByPosition).map(function(t){return e.mutationsByPosition[parseInt(t,10)]}).sort(function(e,t){return e.length<t.length?1:-1}),n=t[0].length,r=t.findIndex(function(e){return e.length!==n});r===-1&&(r=t.length);var o=2,a=1,i=1,s=void 0;s=r>a&&r>o?0:Math.min(r,a);for(var l=[],c=0;c<t.length;c++){var u=t[c],p=u[0].proteinPosStart;if(!(isNaN(p)||p<0||this.props.store.pfamGeneData.isComplete&&p>this.props.store.pfamGeneData.result.length)){var f=void 0;f=c<s&&u.length>=i?this.lollipopLabel(u):void 0,l.push({codon:p,count:u.length,tooltip:this.lollipopTooltip(u),color:(0,k.getColorForProteinImpactType)(u,this.props),label:f})}}return l}},{key:"domains",get:function(){var e=this;return this.props.store.pfamGeneData.isComplete&&this.props.store.pfamGeneData.result.regions?this.props.store.pfamGeneData.result.regions.map(function(t){var n=t.metadata.start,r=t.metadata.end,o=t.metadata.identifier,a=t.colour,i=e.domainTooltip(t);return{startCodon:n,endCodon:r,label:o,color:a,tooltip:i}}):[]}},{key:"sequence",get:function(){return{tooltip:this.sequenceTooltip()}}},{key:"hugoGeneSymbol",get:function(){return this.props.store.gene.hugoGeneSymbol}},{key:"countRange",get:function(){if(0===this.lollipops.length)return[0,0];var e=5,t=1,n=!0,r=!1,o=void 0;try{for(var a,i=this.lollipops[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;e=Math.max(e,s.count),t=Math.min(t,s.count)}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return[t,e]}},{key:"sliderRange",get:function(){return[this.countRange[0],Math.max(this.countRange[1],this.countRange[0]+5)]}},{key:"yMax",get:function(){return Math.min(this.countRange[1],this._yMaxInput||this.countRange[1])}},{key:"legend",get:function(){return p.createElement("div",{style:{maxWidth:700,marginTop:5}},p.createElement("span",{style:{color:"#2153AA",fontWeight:"bold",fontSize:"14px",fontFamily:"verdana, arial"}},"Color Codes"),p.createElement("p",null,"Mutation diagram circles are colored with respect to the corresponding mutation types. In case of different mutation types at a single position, color of the circle is determined with respect to the most frequent mutation type."),p.createElement("br",null),p.createElement("div",null,"Mutation types and corresponding color codes are as follows:",p.createElement("ul",null,p.createElement("li",null,p.createElement("span",{style:{color:this.props.missenseColor,fontWeight:"bold",fontSize:"14px",fontFamily:"verdana, arial"}},"Missense Mutations")),p.createElement("li",null,p.createElement("span",{style:{color:this.props.truncatingColor,fontWeight:"bold",fontSize:"14px",fontFamily:"verdana, arial"}},"Truncating Mutations"),": Nonsense, Nonstop, Frameshift deletion, Frameshift insertion, Splice site"),p.createElement("li",null,p.createElement("span",{style:{color:this.props.inframeColor,fontWeight:"bold",fontSize:"14px",fontFamily:"verdana, arial"}},"Inframe Mutations"),": Inframe deletion, Inframe insertion"),p.createElement("li",null,p.createElement("span",{style:{color:this.props.otherColor,fontWeight:"bold",fontSize:"14px",fontFamily:"verdana, arial"}},"Other Mutations"),": All other types of mutations"))))}},{key:"controls",get:function(){return p.createElement("div",{className:(0,w.default)(this.showControls?R.default["fade-in"]:R.default["fade-out"])},p.createElement("span",null,p.createElement("div",{role:"group",className:"btn-group"},p.createElement("button",{className:"btn btn-default btn-xs",onClick:this.handlers.handleSVGClick},"SVG ",p.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"})),p.createElement("button",{className:"btn btn-default btn-xs",onClick:this.handlers.handlePDFClick},"PDF ",p.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"})),p.createElement("button",{className:"btn btn-default btn-xs",onClick:this.handlers.handleToggleLegend},"Legend ",p.createElement("i",{className:"fa fa-eye","aria-hidden":"true"}))),p.createElement("div",{className:"small",style:{float:"right",display:"flex",alignItems:"center"}},p.createElement("span",null,"Y-Axis Max:"),p.createElement("input",{style:{display:"inline-block",padding:0,width:200,marginLeft:10,marginRight:10},type:"range",min:this.countRange[0],max:this.countRange[1],step:"1",onChange:this.handlers.handleYAxisMaxSliderChange,value:this.yMax}),p.createElement(N.default,{className:R.default["ymax-number-input"],value:this.yMax+"",setValue:this.handlers.handleYAxisMaxChange,numericOnly:!0,onFocus:this.handlers.onYMaxInputFocused,onBlur:this.handlers.onYMaxInputBlurred})),"  "))}}]),t}(p.Component);G([T.observable],F.prototype,"mouseInPlot",void 0),G([T.observable],F.prototype,"_yMaxInput",void 0),G([T.observable],F.prototype,"legendShown",void 0),G([T.observable],F.prototype,"yMaxInputFocused",void 0),G([T.computed],F.prototype,"showControls",null),G([T.computed],F.prototype,"mutationsByPosition",null),G([T.computed],F.prototype,"lollipops",null),G([T.computed],F.prototype,"domains",null),G([T.computed],F.prototype,"sequence",null),G([T.computed],F.prototype,"hugoGeneSymbol",null),G([T.computed],F.prototype,"countRange",null),G([T.computed],F.prototype,"sliderRange",null),G([T.computed],F.prototype,"yMax",null),G([T.computed],F.prototype,"controls",null),F=G([C.observer],F),t.default=F},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=n(343),f=o(p),d=n(346),h=n(406),m=n(471),y=r(m),g=n(826),v=r(g),b=n(831),w=r(b),C=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},T=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.hitZoneConfig={hitRect:{x:0,y:0,width:0,height:0},content:f.createElement("span",null),tooltipPlacement:"top",cursor:"pointer",onMouseOver:function(){return 0},onClick:function(){return 0},onMouseOut:function(){return 0}},e.handlers={ref:function(t){e.plot=t},setHitZone:function(t,n,r,o,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"pointer",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"top";e.hitZoneConfig={hitRect:t,content:n,onMouseOver:r,onClick:o,onMouseOut:a,cursor:i,tooltipPlacement:s}},getOverlay:function(){return e.hitZoneConfig.content},getOverlayPlacement:function(){return e.hitZoneConfig.tooltipPlacement},onMouseLeave:function(){e.hitZoneConfig.onMouseOut&&e.hitZoneConfig.onMouseOut()},onBackgroundMouseMove:function(){e.hitZoneConfig.onMouseOut&&e.hitZoneConfig.onMouseOut()}},e}return s(t,e),c(t,[{key:"toSVGDOMNode",value:function(){return this.plot?this.plot.toSVGDOMNode():document.createElementNS("http://www.w3.org/2000/svg","svg")}},{key:"render",value:function(){var e={};return this.tooltipVisible||(e.visible=!1),f.createElement("div",{style:{position:"relative"}},f.createElement(y.default,l({placement:this.handlers.getOverlayPlacement(),overlay:this.handlers.getOverlay},e),this.hitZone),f.createElement(v.default,l({ref:this.handlers.ref,setHitZone:this.handlers.setHitZone,onMouseLeave:this.handlers.onMouseLeave,onBackgroundMouseMove:this.handlers.onBackgroundMouseMove},this.props)))}},{key:"tooltipVisible",get:function(){return!!this.hitZoneConfig.content}},{key:"hitZone",get:function(){return f.createElement(w.default,{y:this.hitZoneConfig.hitRect.y,x:this.hitZoneConfig.hitRect.x,width:this.hitZoneConfig.hitRect.width,height:this.hitZoneConfig.hitRect.height,onMouseOver:this.hitZoneConfig.onMouseOver,onClick:this.hitZoneConfig.onClick,onMouseOut:this.hitZoneConfig.onMouseOut,cursor:this.hitZoneConfig.cursor})}}]),t}(f.Component);C([h.observable],T.prototype,"hitZoneConfig",void 0),C([h.computed],T.prototype,"tooltipVisible",null),C([h.computed],T.prototype,"hitZone",null),T=C([d.observer],T),t.default=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(343),p=o(u),f=n(408),d=r(f),h=n(827),m=r(h),y=n(828),g=r(y),v=n(829),b=r(v),w=n(830),C=r(w),T=n(346),S=n(406),x=n(462),A=r(x),k=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},E="delete-for-download",M="lollipop-",_="domain-",P="sequence-",O=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.sequenceComponents=[],n.shiftPressed=!1,n.lollipopZeroHeight=10,n.xAxisCandidateTickIntervals=[50,100,200,250,500,1e3,2500,5e3,1e4,25e3],n.yAxisCandidateTickIntervals=[1,2,5,10,20,50,100,200,500],n.xAxisHeight=30,n.yAxisWidth=50,n.geneHeight=14,n.domainHeight=24,n.handlers={ref:function(e){n.svg=e},onBackgroundClick:function(){n.props.dataStore.clearSelectedPositions()},onBackgroundMouseMove:function(){n.props.onBackgroundMouseMove&&n.props.onBackgroundMouseMove(),n.unhoverAllLollipops()},onLollipopClick:function(e){var t=n.props.dataStore.isPositionSelected(e);n.shiftPressed||n.props.dataStore.clearSelectedPositions(),n.props.dataStore.setPositionSelected(e,!t)},onKeyDown:function(e){16===e.which&&(n.shiftPressed=!0)},onKeyUp:function(e){16===e.which&&(n.shiftPressed=!1)},onMouseOver:function(e){n.unhoverAllLollipops();var t=e.target,r=t.getAttribute("class")||"",o=n.getLollipopIndex(r),a=null,i=null;if(null!==o){var s=n.lollipopComponents[o];s&&(s.isHovered=!0,n.props.setHitZone&&n.props.setHitZone(s.circleHitRect,s.props.spec.tooltip,(0,S.action)(function(){n.props.dataStore.setPositionHighlighted(s.props.spec.codon,!0),s.isHovered=!0}),function(){return n.handlers.onLollipopClick(s.props.spec.codon)}))}else a=n.getDomainIndex(r);if(null!==a){var l=n.domainComponents[a];l&&n.props.setHitZone&&n.props.setHitZone(l.hitRect,l.props.spec.tooltip,void 0,void 0,void 0,"auto")}else i=n.getSequenceIndex(r);if(null!==i){var c=n.sequenceComponents[i];c&&n.props.setHitZone&&n.props.setHitZone(c.hitRect,c.props.spec.tooltip,void 0,void 0,void 0,"auto")}},onSVGMouseLeave:function(e){var t=e.target;"svg"===t.tagName.toLowerCase()&&n.props.onMouseLeave&&n.props.onMouseLeave()}},n}return s(t,e),l(t,[{key:"unhoverAllLollipops",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=Object.keys(this.lollipopComponents)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value,i=this.lollipopComponents[a];i&&(i.isHovered=!1)}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}this.props.dataStore.clearHighlightedPositions()}},{key:"componentDidMount",value:function(){(0,A.default)(document).on("keydown",this.handlers.onKeyDown),(0,A.default)(document).on("keyup",this.handlers.onKeyUp),this.props.onXAxisOffset&&this.props.onXAxisOffset(this.geneX)}},{key:"componentWillUnmount",value:function(){(0,A.default)(document).off("keydown",this.handlers.onKeyDown),(0,A.default)(document).off("keyup",this.handlers.onKeyUp)}},{key:"componentDidUpdate",value:function(){this.props.onXAxisOffset&&this.props.onXAxisOffset(this.geneX)}},{key:"codonToX",value:function(e){return e/this.props.xMax*this.props.vizWidth}},{key:"countToHeight",value:function(e){return this.lollipopZeroHeight+Math.min(1,e/this.yMax)*this.yAxisHeight}},{key:"calculateTickInterval",value:function(e,t,n){var r=void 0,o=e.find(function(e){return t/e<n-1});if(o)r=o;else for(r=10;t/r>n-1;)r*=10;return r}},{key:"calculateTicks",value:function(e,t,n){for(var r=[],o=e;o<t;){var a=void 0;n&&t-o>2*e/3&&o%(2*e)===0&&(a=o+""),r.push({position:o,label:a}),o+=e}return r}},{key:"makeDomainIndexClass",value:function(e){return""+_+e}},{key:"makeLollipopIndexClass",value:function(e){return""+M+e}},{key:"makeSequenceIndexClass",value:function(e){
return""+P+e}},{key:"getComponentIndex",value:function(e,t){var n=e.split(/[\s]+/g).map(function(e){return e.match(new RegExp("^"+t+"(.*)$"))}).find(function(e){return null!==e});return n?parseInt(n[1],10):null}},{key:"getDomainIndex",value:function(e){return this.getComponentIndex(e,_)}},{key:"getLollipopIndex",value:function(e){return this.getComponentIndex(e,M)}},{key:"getSequenceIndex",value:function(e){return this.getComponentIndex(e,P)}},{key:"toSVGDOMNode",value:function(){if(this.svg){var e=this.svg.cloneNode(!0);return(0,A.default)(e).find("."+E).remove(),e}return document.createElementNS("http://www.w3.org/2000/svg","svg")}},{key:"render",value:function(){return p.createElement("div",{onMouseOver:this.handlers.onMouseOver},p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",ref:this.handlers.ref,width:this.svgWidth,height:this.svgHeight,onMouseLeave:this.handlers.onSVGMouseLeave},p.createElement("rect",{fill:"#FFFFFF",x:0,y:0,width:this.svgWidth,height:this.svgHeight,onClick:this.handlers.onBackgroundClick,onMouseMove:this.handlers.onBackgroundMouseMove}),"// Originally this had tooltips by having separate segments // with hit zones. We disabled those separate segments with // tooltips (this.sequenceSegments) and instead just draw // one rectangle // ",this.sequenceSegments,p.createElement("rect",{fill:"#BABDB6",x:this.geneX,y:this.geneY,height:this.geneHeight,width:this.props.vizWidth}),this.lollipops,this.domains,p.createElement(C.default,{key:"horz",x:this.geneX,y:this.geneY+this.geneHeight+10,length:this.props.vizWidth,tickLength:7,rangeLower:0,rangeUpper:this.props.xMax,ticks:this.xTicks}),p.createElement(C.default,{key:"vert",x:this.geneX-10,y:this.geneY-this.lollipopZeroHeight-this.yAxisHeight,length:this.yAxisHeight,tickLength:7,rangeLower:0,rangeUpper:this.yMax,ticks:this.yTicks,vertical:!0,label:"# Mutations"})))}},{key:"xAxisTickInterval",get:function(){return this.calculateTickInterval(this.xAxisCandidateTickIntervals,this.props.xMax,16)}},{key:"yAxisTickInterval",get:function(){return this.calculateTickInterval(this.yAxisCandidateTickIntervals,this.yMax,10)}},{key:"xTicks",get:function(){var e=[];return e.push({position:0,label:"0"}),e.push({position:this.props.xMax,label:this.props.xMax+"aa"}),e=e.concat(this.calculateTicks(this.xAxisTickInterval,this.props.xMax,!0))}},{key:"yTicks",get:function(){var e=[];return e.push({position:0,label:"0"}),e.push({position:this.yMax,label:this.yMaxLabel}),e=e.concat(this.calculateTicks(this.yAxisTickInterval,this.yMax,!1))}},{key:"yMax",get:function(){return this.props.yMax||this.props.lollipops.reduce(function(e,t){return Math.max(e,t.count)},1)}},{key:"yMaxLabel",get:function(){var e=this;return(this.props.lollipops.find(function(t){return t.count>e.yMax})?">= ":"")+this.yMax}},{key:"yAxisHeight",get:function(){return this.props.vizHeight-this.domainHeight-this.lollipopZeroHeight}},{key:"geneX",get:function(){return this.yAxisWidth+20}},{key:"geneY",get:function(){return this.props.vizHeight-this.geneHeight+30}},{key:"domainY",get:function(){return this.geneY-(this.domainHeight-this.geneHeight)/2}},{key:"sequenceSegments",get:function(){var e=this,t=[],n=0,r=d.default.map(this.props.domains,function(t){var r={start:n,end:e.codonToX(t.startCodon)};return n=e.codonToX(t.endCodon),r}),o=this.props.vizWidth;return r.push({start:n,end:o}),r.sort(function(e,t){return e.start-t.start}),r.forEach(function(n,r){t.push(p.createElement(m.default,{ref:function(t){null!==t&&(e.sequenceComponents[r]=t)},color:"#BABDB6",x:e.geneX+n.start,y:e.geneY,height:e.geneHeight,width:n.end-n.start,spec:e.props.sequence,hitzoneClassName:[E,e.makeSequenceIndexClass(r)].join(" ")}))}),t}},{key:"lollipops",get:function(){var e=this;this.lollipopComponents={};var t=(this.yMax,5);return this.props.lollipops.map(function(n,r){return p.createElement(g.default,{key:n.codon,ref:function(t){null!==t&&(e.lollipopComponents[r]=t)},x:e.geneX+e.codonToX(n.codon),stickBaseY:e.geneY,stickHeight:e.countToHeight(n.count),headRadius:e.props.dataStore.isPositionSelected(n.codon)?5:2.8,hoverHeadRadius:t,label:n.label,headColor:n.color,hitzoneClassName:[E,e.makeLollipopIndexClass(r)].join(" "),spec:n})})}},{key:"domains",get:function(){var e=this;return this.domainComponents={},this.props.domains.map(function(t,n){var r=e.codonToX(t.startCodon),o=e.codonToX(t.endCodon)-r;return p.createElement(b.default,{key:n,ref:function(t){null!==t&&(e.domainComponents[n]=t)},x:e.geneX+r,y:e.domainY,width:o,height:e.domainHeight,color:t.color,label:t.label,labelColor:t.labelColor,hitzoneClassName:[E,e.makeDomainIndexClass(n)].join(" "),spec:t})})}},{key:"svgWidth",get:function(){return this.props.vizWidth+this.geneX+30}},{key:"svgHeight",get:function(){return this.geneY+this.domainHeight+this.xAxisHeight}}]),t}(p.Component);k([S.computed],O.prototype,"xAxisTickInterval",null),k([S.computed],O.prototype,"yAxisTickInterval",null),k([S.computed],O.prototype,"xTicks",null),k([S.computed],O.prototype,"yTicks",null),k([S.computed],O.prototype,"yMax",null),k([S.computed],O.prototype,"yMaxLabel",null),k([S.computed],O.prototype,"yAxisHeight",null),k([S.computed],O.prototype,"geneX",null),k([S.computed],O.prototype,"geneY",null),k([S.computed],O.prototype,"domainY",null),k([S.computed],O.prototype,"sequenceSegments",null),k([S.computed],O.prototype,"lollipops",null),k([S.computed],O.prototype,"domains",null),k([S.computed],O.prototype,"svgWidth",null),k([S.computed],O.prototype,"svgHeight",null),O=k([T.observer],O),t.default=O},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=n(343),u=r(c),p=n(346),f=n(406),d=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},h=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isMounted=!1,n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.isMounted=!0}},{key:"render",value:function(){return u.createElement("g",null,u.createElement("rect",{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,fill:this.props.color}),u.createElement("rect",{className:this.props.hitzoneClassName,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,fill:"rgba(0,0,0,0)"}))}},{key:"hitRect",get:function(){return{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height}}}]),t}(u.Component);d([f.observable],h.prototype,"isMounted",void 0),h=d([p.observer],h),t.default=h},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=n(343),u=r(c),p=n(346),f=n(406),d=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},h=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.isHovered=!1,e}return i(t,e),s(t,[{key:"render",value:function(){var e=null;return this.props.label&&(e=u.createElement("text",{fill:"#2E3436",style:{fontSize:"10px",fontFamily:"arial"},textAnchor:"middle",x:this.props.x,y:this.props.stickBaseY-this.props.stickHeight-this.props.headRadius-5},this.props.label)),u.createElement("g",null,u.createElement("line",{strokeWidth:"1",stroke:this.props.stickColor||"#BABDB6",x1:this.props.x,x2:this.props.x,y1:this.props.stickBaseY,y2:this.props.stickBaseY-this.props.stickHeight}),u.createElement("circle",{stroke:"#BABDB6",strokeWidth:"0.5",fill:this.props.headColor||"#000000",r:this.headRadius,cx:this.circleX,cy:this.circleY}),u.createElement("circle",{className:this.props.hitzoneClassName,fill:"rgba(0,0,0,0)",r:this.props.hoverHeadRadius,cx:this.circleX,cy:this.circleY,cursor:"pointer"}),e)}},{key:"headRadius",get:function(){return this.isHovered?this.props.hoverHeadRadius:this.props.headRadius}},{key:"circleX",get:function(){return this.props.x}},{key:"circleY",get:function(){return this.props.stickBaseY-this.props.stickHeight}},{key:"circleHitRect",get:function(){return{x:this.circleX-this.props.hoverHeadRadius,y:this.circleY-this.props.hoverHeadRadius,width:2*this.props.hoverHeadRadius,height:2*this.props.hoverHeadRadius}}}]),t}(u.Component);d([f.observable],h.prototype,"isHovered",void 0),d([f.computed],h.prototype,"headRadius",null),d([f.computed],h.prototype,"circleX",null),d([f.computed],h.prototype,"circleY",null),d([f.computed],h.prototype,"circleHitRect",null),h=d([p.observer],h),t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(343),p=o(u),f=n(462),d=r(f),h=n(346),m=n(406),y=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},g=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isMounted=!1,n.state={displayText:e.label||""},n.handlers={textRef:function(e){n.textElt=e}},n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){this.isMounted=!0}},{key:"makeTextElement",value:function(e){var t={x:this.centerX,y:this.centerY,textAnchor:"middle",dy:"0.3em",fill:this.props.labelColor||"#FFFFFF",style:{fontSize:"12px",fontFamily:"arial"}},n=e?this.props.label||"":this.displayText;return e&&(t.ref=this.handlers.textRef,t.visibility="hidden",t.className=this.props.hitzoneClassName),p.createElement("text",t,n)}},{key:"render",value:function(){return p.createElement("g",null,p.createElement("rect",{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,fill:this.props.color}),this.makeTextElement(!0),this.makeTextElement(!1),p.createElement("rect",{className:this.props.hitzoneClassName,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,fill:"rgba(0,0,0,0)"}))}},{key:"hitRect",get:function(){return{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height}}},{key:"centerX",get:function(){return this.props.x+this.props.width/2}},{key:"centerY",get:function(){return this.props.y+this.props.height/2}},{key:"displayText",get:function(){var e=this.props.label||"";if(!this.textElt||!this.isMounted)return e;if(!(0,d.default)(this.textElt).is(":visible"))return e;for(var t=e.length;t>0&&this.textElt.getSubStringLength(0,t)>this.props.width;)t-=1;var n=e;return t<e.length&&(t-=2,n=t<=0?"":e.substr(0,t)+".."),n}}]),t}(p.Component);y([m.observable],g.prototype,"textElt",void 0),y([m.observable],g.prototype,"isMounted",void 0),y([m.computed],g.prototype,"displayText",null),g=y([h.observer],g),t.default=g},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(343),c=r(l),u=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"positionToAxisPosition",value:function(e){return e/(this.props.rangeUpper-this.props.rangeLower)*this.props.length}},{key:"render",value:function(){var e=this.props.vertical?this.props.x:this.props.x+this.props.length,t=this.props.vertical?this.props.y+this.props.length:this.props.y;return c.createElement("g",null,c.createElement("line",{stroke:"rgb(170,170,170)",strokeWidth:"1",x1:this.props.x,y1:this.props.y,x2:e,y2:t}),this.ticks,this.label)}},{key:"ticks",get:function(){var e=this;return this.props.ticks.map(function(t){var n=e.positionToAxisPosition(t.position),r=e.props.vertical?e.props.x:e.props.x+n,o=e.props.vertical?e.props.y+e.props.length-n:e.props.y,a=e.props.vertical?e.props.x-e.props.tickLength:e.props.x+n,i=e.props.vertical?e.props.y+e.props.length-n:e.props.y+e.props.tickLength,s=3,l=null;return t.label&&(l=e.props.vertical?c.createElement("text",{textAnchor:"end",style:{fontSize:"10px",fontFamily:"arial"},dx:-1*s,dy:"0.4em",x:a,y:i},t.label):c.createElement("text",{textAnchor:"middle",style:{fontSize:"10px",fontFamily:"arial"},x:a,y:i,dy:"1em"},t.label)),c.createElement("g",{key:n},c.createElement("line",{stroke:"rgb(170,170,170)",strokeWidth:"1",x1:r,y1:o,x2:a,y2:i}),l)})}},{key:"label",get:function(){if(this.props.label){var e=void 0,t=void 0,n=void 0;return this.props.vertical?(e=this.props.x-this.props.tickLength-20,t=this.props.y+this.props.length/2,n="rotate(270,"+e+","+t+")"):(e=this.props.x+this.props.length/2,t=this.props.y+this.props.tickLength+5,n=""),c.createElement("text",{textAnchor:"middle",style:{fontFamily:"arial",fontSize:"12px",fontWeight:"normal"},fill:"#2E3436",x:e,y:t,transform:n},this.props.label)}return null}}]),t}(c.Component);t.default=u},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HitZone=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(343),c=r(l),u=t.HitZone=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlers={onMouseOver:function(){n.props.onMouseOver&&n.props.onMouseOver(),n.props.onMouseEnter&&n.props.onMouseEnter()},onMouseOut:function(){n.props.onMouseOut&&n.props.onMouseOut(),n.props.onMouseLeave&&n.props.onMouseLeave()}},n}return i(t,e),s(t,[{key:"render",value:function(){return c.createElement("svg",{width:this.props.width,height:this.props.height,style:{position:"absolute",top:this.props.y,left:this.props.x,cursor:this.props.cursor},onMouseOver:this.handlers.onMouseOver,onClick:this.props.onClick,onMouseOut:this.handlers.onMouseOut})}}]),t}(c.Component);t.default=u},function(e,t){e.exports={portalWidth:"lollipopMutationPlot-module__portalWidth__hppyp","fade-out":"lollipopMutationPlot-module__fade-out__3kZVS","fade-in":"lollipopMutationPlot-module__fade-in__29Gnz","input-addon":"lollipopMutationPlot-module__input-addon__vMG_R","ymax-number-input":"lollipopMutationPlot-module__ymax-number-input__29v6p"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n,r){return f.createElement("span",{key:t,onClick:r,style:{cursor:"pointer"}},f.createElement("span",{className:"badge",style:{backgroundColor:n}},e||0),f.createElement("span",{style:{color:n}},t))}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.mutationTypeButton=l;var p=n(343),f=o(p),d=n(346),h=n(722),m=n(834),y=r(m),g=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},v=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"handleMutationClick",value:function(e){this.props.dataStore.setFilter(function(t){return(0,h.getProteinImpactType)(t[0].mutationType)===e}),this.props.dataStore.filterString=""}},{key:"render",value:function(){var e=this,t={},n=!0,r=!1,o=void 0;try{for(var a,i=this.props.dataStore.sortedFilteredData[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value,c=(0,h.getProteinImpactType)(s[0].mutationType);t[c]=t[c]||0,t[c]+=1}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return f.createElement("table",{className:y.default.mutationTypeTable},f.createElement("tr",null,f.createElement("td",null,l(t.missense,"Missense",this.props.missenseColor,function(){return e.handleMutationClick("missense")})),f.createElement("td",null,l(t.truncating,"Truncating",this.props.truncatingColor,function(){return e.handleMutationClick("truncating")}))),f.createElement("tr",null,f.createElement("td",null,l(t.inframe,"Inframe",this.props.inframeColor,function(){return e.handleMutationClick("inframe")})),f.createElement("td",null,l(t.other,"Other",this.props.otherColor,function(){return e.handleMutationClick("other")}))))}}]),t}(f.Component);v=g([d.observer],v),t.default=v},function(e,t){e.exports={portalWidth:"styles-module__portalWidth__Ay5NA",mutationTypeTable:"styles-module__mutationTypeTable__2CihA"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=n(343),f=o(p),d=n(836),h=r(d),m=n(838),y=r(m),g=n(346),v=n(406),b=n(687),w=r(b),C=n(471),T=r(C),S=n(831),x=n(659),A=n(818),k=r(A),E=n(840),M=r(E),_=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},P=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isExpanded=!1,n.pdbChainTableShown=!1,n.hitZoneConfig={x:0,y:0,width:0,height:0,onClick:function(){}},n._chainScrollY=0,n.collapseTimeout=null,n.expandTimeout=null,n.chainUidToY={},n.expandDelayMs=750,n.collapseDelayMs=3e3,n.handlers={onMouseEnter:(0,v.action)(function(){n.expandTimeout=window.setTimeout(function(){n.isExpanded=!0},n.expandDelayMs),n.collapseTimeout&&window.clearTimeout(n.collapseTimeout)}),onMouseLeave:(0,v.action)(function(){n.collapseTimeout=window.setTimeout(function(){n.isExpanded=!1},n.collapseDelayMs),n.expandTimeout&&window.clearTimeout(n.expandTimeout)}),chainDivRef:function(e){n.chainDiv=e},onChainScroll:function(){n.chainDiv&&n.isExpanded&&(n._chainScrollY=n.chainDiv.scrollTop)},togglePDBTable:(0,v.action)(function(){n.pdbChainTableShown=!n.pdbChainTableShown}),getTooltipContent:function(){return n.hoveredChain?f.createElement(k.default,{pdbId:n.hoveredChain.pdbId,chainId:n.hoveredChain.chain,cache:n.props.pdbHeaderCache}):null},setHitZone:function(e,t){n.hitZoneConfig.x=e.x,n.hitZoneConfig.y=e.y,n.hitZoneConfig.width=e.width,n.hitZoneConfig.height=e.height,n.hitZoneConfig.onClick=function(){n.selectChain(t)},n.hoveredChain=n.props.store.pdbChainDataStore.getPdbChain(t)},setChainUidToY:function(e){n.chainUidToY=e}},n.onChainSelectReaction=(0,v.reaction)(function(){return n.props.store.pdbChainDataStore.selectedUid},function(e){var t=n.chainUidToY[e];if("undefined"!=typeof t&&(t<n.chainDiv.scrollTop||t>n.chainDiv.scrollTop+n.props.maxChainsHeight)){var r=n.props.maxChainsHeight/2;n.chainDiv.scrollTop=t-r}}),n}return s(t,e),c(t,[{key:"componentWillUnmount",value:function(){this.onChainSelectReaction()}},{key:"selectChain",value:function(e){this.props.store.pdbChainDataStore.selectUid(e)}},{key:"componentDidUpdate",value:function(){var e=this;(0,M.default)(function(){e.chainDiv&&(e.chainDiv.scrollTop=e.chainScrollY)})}},{key:"helpTooltipContent",value:function(){return f.createElement("div",{style:{maxWidth:400}},"This panel displays a list of PDB chains for the corresponding uniprot ID. PDB chains are ranked with respect to their sequence similarity ratio, and aligned to the y-axis of the mutation diagram. Highly ranked chains have darker color than the lowly ranked ones.",f.createElement("br",null),f.createElement("br",null),"Each chain is represented by a single rectangle. Gaps within the chains are represented by a thin line connecting the segments of the chain.",f.createElement("br",null),f.createElement("br",null),"By default, only a first few rows are displayed. To see more chains, use the scroll bar next to the panel. To see the detailed list of all available PDB chains in a table click on the link below the panel.",f.createElement("br",null),f.createElement("br",null),"To select a chain, simply click on it. Selected chain is highlighted with a different frame color. You can also select a chain by clicking on a row in the table. Selecting a chain reloads the PDB data for the 3D structure visualizer.")}},{key:"render",value:function(){var e={};return this.tooltipVisible||(e.visible=!1),f.createElement("div",{onMouseEnter:this.handlers.onMouseEnter,onMouseLeave:this.handlers.onMouseLeave},f.createElement(w.default,{isOpened:this.isOpen},f.createElement("div",{style:{position:"relative"}},f.createElement("div",{className:"small",style:{display:this.isExpanded?"inherit":"none",position:"absolute",left:20}},"PDB",f.createElement(T.default,{placement:"left",overlay:this.helpTooltipContent,destroyTooltipOnHide:!0},f.createElement("i",{className:"fa fa-info-circle",style:{paddingLeft:5}})),f.createElement("br",null),"Chains"),f.createElement("div",{ref:this.handlers.chainDivRef,style:{overflowY:"scroll",maxHeight:this.props.maxChainsHeight,marginLeft:this.props.geneXOffset,position:"relative"},onScroll:this.handlers.onChainScroll},f.createElement(h.default,{width:this.props.geneWidth,chains:this.chains,proteinLength:this.proteinLength,setHitZone:this.handlers.setHitZone,selectedChainUid:this.props.store.pdbChainDataStore.selectedUid,setChainUidToY:this.handlers.setChainUidToY}),f.createElement(T.default,l({placement:"top",overlay:this.handlers.getTooltipContent},e),this.hitZone)),f.createElement("br",null),f.createElement("div",{style:{display:this.isExpanded?"inherit":"none"}},f.createElement("button",{onClick:this.handlers.togglePDBTable,className:"btn btn-default"},this.pdbChainTableShown?"Hide PDB Chain Table":"Show PDB Chain Table"),f.createElement("div",{style:{display:this.pdbChainTableShown?"inherit":"none",maxWidth:this.props.geneWidth}},f.createElement(y.default,{dataStore:this.props.store.pdbChainDataStore,cache:this.props.pdbHeaderCache}))),f.createElement("br",null))))}},{key:"chainScrollY",get:function(){return this.isExpanded?this._chainScrollY:0}},{key:"isOpen",get:function(){return!!this.props.store.pdbChainDataStore.selectedChain}},{key:"displayChains",get:function(){return this.props.store.pdbChainDataStore.selectedChain?this.isExpanded?this.props.store.pdbChainDataStore.allData:[this.props.store.pdbChainDataStore.selectedChain]:[]}},{key:"chains",get:function(){var e=this;return this.displayChains.map(function(t){for(var n=[],r=-1,o=t.alignment,a=0;a<o.length;a++)o[a]===x.ALIGNMENT_GAP?r===-1&&(r=a):r!==-1&&(n.push({start:t.uniprotStart+r,end:t.uniprotStart+a}),r=-1);return{start:t.uniprotStart,end:t.uniprotEnd+1,gaps:n,opacity:t.identityPerc,uid:e.props.store.pdbChainDataStore.getChainUid(t)}})}},{key:"proteinLength",get:function(){return Math.max(this.props.store.pfamGeneData.result.length,1)}},{key:"tooltipVisible",get:function(){return null!==this.handlers.getTooltipContent()}},{key:"hitZone",get:function(){return f.createElement(S.HitZone,{x:this.hitZoneConfig.x,y:this.hitZoneConfig.y,width:this.hitZoneConfig.width,height:this.hitZoneConfig.height,onClick:this.hitZoneConfig.onClick,cursor:"pointer"})}}]),t}(f.Component);_([v.observable],P.prototype,"isExpanded",void 0),_([v.observable],P.prototype,"pdbChainTableShown",void 0),_([v.observable],P.prototype,"hoveredChain",void 0),_([v.observable],P.prototype,"hitZoneConfig",void 0),_([v.computed],P.prototype,"chainScrollY",null),_([v.action],P.prototype,"selectChain",null),_([v.computed],P.prototype,"isOpen",null),_([v.computed],P.prototype,"displayChains",null),_([v.computed],P.prototype,"chains",null),_([v.computed],P.prototype,"proteinLength",null),_([v.computed],P.prototype,"tooltipVisible",null),_([v.computed],P.prototype,"hitZone",null),P=_([g.observer],P),t.default=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{
default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(343),p=o(u),f=n(346),d=n(406),h=n(657),m=r(h),y=n(408),g=o(y),v=n(837),b=r(v),w=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},C="chain-",T=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.rowHeight=6,e.rowPadding=3,e.chainComponents={},e.onMouseOver=e.onMouseOver.bind(e),e.positionToX=e.positionToX.bind(e),e}return s(t,e),l(t,[{key:"positionToX",value:function(e){return e*this.props.width/this.props.proteinLength}},{key:"makeChainIdClass",value:function(e){return""+C+e}},{key:"getChainId",value:function(e){var t=e.split(/[\s]+/g).map(function(e){return e.match(new RegExp("^("+C+".*)$"))}).find(function(e){return null!==e});return t&&t[1]||null}},{key:"chainY",value:function(e){return e*(this.rowHeight+this.rowPadding)}},{key:"onMouseOver",value:function(e){var t=e.target,n=t.getAttribute("class")||"",r=this.getChainId(n);if(null!==r){var o=this.chainComponents[r];o&&this.props.setHitZone&&this.props.setHitZone({x:parseInt(t.getAttribute("x")||"0",10),y:parseInt(t.getAttribute("y")||"0",10),width:parseInt(t.getAttribute("width")||"0",10),height:parseInt(t.getAttribute("height")||"0",10)},o.props.uid)}}},{key:"render",value:function(){return p.createElement("div",null,p.createElement("div",{onMouseOver:this.onMouseOver},p.createElement("svg",{width:this.props.width,height:this.svgHeight},this.rows)))}},{key:"rowSpecs",get:function(){var e=[[]],t=[new m.default],n=!0,r=!1,o=void 0;try{for(var a,i=function(){var n=a.value,r=g.findIndex(t,function(e){return!e.check(n.start,n.end)});r===-1&&(r=e.length,e.push([]),t.push(new m.default)),e[r].push(n),t[r].add(n.start,n.end)},s=this.props.chains[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)i()}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return e}},{key:"rows",get:function(){var e=this,t=0;this.chainComponents={};var n={},r=this.rowSpecs.map(function(r,o){return p.createElement("g",{key:o},r.map(function(r){var a=e.makeChainIdClass(t++),i=r.uid,s=e.chainY(o);return n[i]=s,p.createElement(b.default,{ref:function(t){null!==t&&(e.chainComponents[a]=t)},positionToX:e.positionToX,y:s,height:e.rowHeight,uniqueHitZoneClassName:a,start:r.start,end:r.end,gaps:r.gaps,opacity:r.opacity,uid:i,highlighted:e.props.selectedChainUid===r.uid})}))});return this.props.setChainUidToY&&this.props.setChainUidToY(n),r}},{key:"svgHeight",get:function(){return this.rows.length*this.rowHeight+(this.rows.length-1)*this.rowPadding}}]),t}(p.Component);w([d.observable],T.prototype,"rowHeight",void 0),w([d.observable],T.prototype,"rowPadding",void 0),w([d.computed],T.prototype,"rowSpecs",null),w([d.computed],T.prototype,"rows",null),w([d.computed],T.prototype,"svgHeight",null),T=w([f.observer],T),t.default=T},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=n(343),u=r(c),p=n(346),f=n(406),d=n(408),h=r(d),m=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},y=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this;return u.createElement("g",{key:this.props.uniqueHitZoneClassName},this.segmentsAndGaps.map(function(t){return t.gap?u.createElement("line",{stroke:"#666666",strokeWidth:"0.5",x1:e.props.positionToX(t.start),x2:e.props.positionToX(t.end),y1:e.props.y+e.props.height/2,y2:e.props.y+e.props.height/2}):u.createElement("rect",{fill:"#3366cc",fillOpacity:e.props.opacity,stroke:"#666666",strokeWidth:"0.5",x:e.props.positionToX(t.start),y:e.props.y,width:e.props.positionToX(t.end)-e.props.positionToX(t.start),height:e.props.height})}),u.createElement("rect",{stroke:"#FF9900",strokeWidth:"2",fillOpacity:"0",strokeOpacity:+!!this.props.highlighted,height:this.props.height,width:this.props.positionToX(this.props.end)-this.props.positionToX(this.props.start),x:this.props.positionToX(this.props.start),y:this.props.y,className:this.props.uniqueHitZoneClassName}))}},{key:"segmentsAndGaps",get:function(){var e=[],t=h.sortBy(this.props.gaps,function(e){return e.start});if(0===t.length)e.push({gap:!1,start:this.props.start,end:this.props.end});else{t[0].start>this.props.start&&e.push({gap:!1,start:this.props.start,end:t[0].start}),e.push({gap:!0,start:t[0].start,end:t[0].end});for(var n=1;n<t.length;n++)e.push({gap:!1,start:t[n-1].end,end:t[n].start}),e.push({gap:!0,start:t[n].start,end:t[n].end});var r=t[t.length-1];r.end<this.props.end&&e.push({gap:!1,start:r.end,end:this.props.end})}return e}}]),t}(u.Component);m([f.computed],y.prototype,"segmentsAndGaps",null),y=m([p.observer],y),t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(343),p=o(u),f=n(594),d=r(f),h=n(346),m=n(818),y=r(m),g=n(406),v=n(839),b=r(v),w=n(765),C=r(w),T=n(658),S=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},x=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),t}(d.default),A=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){return p.createElement(x,{showColumnVisibility:!1,showCopyDownload:!1,itemsLabel:"PDB chain",itemsLabelPlural:"PDB chains",paginationProps:{showItemsPerPageSelector:!1,showMoreButton:!1},initialItemsPerPage:6,columns:this.columns,dataStore:this.props.dataStore,highlightColor:"bluegray",pageToHighlight:!0})}},{key:"columns",get:function(){var e=this,t=[];return t.push({name:"PDB Id",render:function(e){return p.createElement("a",{href:"http://www.rcsb.org/pdb/explore/explore.do?structureId="+e.pdbId,target:"_blank"},e.pdbId)},sortBy:function(e){return e.pdbId},filter:function(e,t,n){return e.pdbId.toUpperCase().indexOf(n)>-1}}),t.push({name:"Chain",render:function(t){return p.createElement("span",null,p.createElement("span",{style:{float:"left",fontWeight:"bold",fontStyle:"italic"}},t.chain),p.createElement("a",{style:{float:"right",fontWeight:"bold",cursor:"pointer"},onClick:function(){e.props.dataStore.selectUid(e.props.dataStore.getChainUid(t))}},"3D"))},sortBy:function(e){return e.chain},filter:function(e,t,n){return e.chain.toUpperCase().indexOf(n)>-1}}),t.push({name:"Uniprot Positions",render:function(e){return p.createElement("span",null,e.uniprotStart+"-"+e.uniprotEnd)},sortBy:function(e){return[e.uniprotStart,e.uniprotEnd]},filter:function(e,t){return(e.uniprotStart+"").indexOf(t)>-1||(e.uniprotEnd+"").indexOf(t)>-1}}),t.push({name:"Organism",render:(0,C.default)(function(t){return e.props.cache?e.props.cache.get(t.pdbId):null},function(e,t){return p.createElement("span",null,b.default.getOrganism(e,t.chain))}),sortBy:function(t){return b.default.getOrganismFromCache(e.props.cache,t)},filter:function(t,n,r){var o=b.default.getOrganismFromCache(e.props.cache,t)||"";return o.toUpperCase().indexOf(r)>-1},visible:!!this.props.cache}),t.push({name:"Summary",render:function(t){return p.createElement(y.default,{pdbId:t.pdbId,chainId:t.chain,cache:e.props.cache,truncateText:!1,summaryFormat:!0})},filter:function(t,n,r){if(!e.props.cache)return!1;var o=e.props.cache.get(t.pdbId);if(o&&o.data){var a=(0,T.generatePdbInfoSummary)(o.data,t.chain);return a.pdbInfo.toUpperCase().indexOf(r)>-1||(a.moleculeInfo||"").toUpperCase().indexOf(r)>-1}return!1},visible:!!this.props.cache}),t}}]),t}(p.Component);S([g.computed],A.prototype,"columns",null),A=S([h.observer],A),t.default=A},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(408),s=r(i),l=function(){function e(){o(this,e)}return a(e,null,[{key:"getOrganism",value:function(e,t){var n="NA";return s.find(e.compound,function(r){if(s.indexOf(r.chain,t.toLowerCase())!=-1&&null!=e.source[r.mol_id])return n=e.source[r.mol_id].organism_scientific||n,r}),n}},{key:"getOrganismFromCache",value:function(t,n){if(!t)return"";var r=t.get(n.pdbId);return r&&r.data?e.getOrganism(r.data,n.chain):""}}]),e}();t.default=l},function(e,t){"use strict";function n(e){setTimeout(function(){window.requestAnimationFrame(e)},0)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(343),p=o(u),f=n(721),d=n(346),h=n(471),m=r(h),y=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},g=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"somaticMutationFrequency",value:function(){var e=0;return this.props.samples.length>0&&(e=(0,f.somaticMutationRate)(this.props.hugoGeneSymbol,this.props.mutations,this.props.molecularProfileIdToMolecularProfile.result,this.props.samples)),p.createElement("div",{"data-test":"somaticMutationRate"},p.createElement("label",null,"Somatic Mutation Frequency:"),e.toFixed(1),"%",p.createElement(m.default,{placement:"right",overlay:p.createElement("span",null,"Percentage of samples with a somatic mutation in "+this.props.hugoGeneSymbol)},p.createElement("i",{className:"glyphicon glyphicon-info-sign",style:{marginLeft:5}})))}},{key:"germlineMutationFrequency",value:function(){var e=void 0;"pending"!==this.props.germlineConsentedSamples.status&&(e=this.props.germlineConsentedSamples&&this.props.germlineConsentedSamples.result&&this.props.germlineConsentedSamples.result.length>0?this.props.germlineConsentedSamples.result:this.props.samples);var t=e?(0,f.germlineMutationRate)(this.props.hugoGeneSymbol,this.props.mutations,this.props.molecularProfileIdToMolecularProfile.result,e):0;return p.createElement("div",{"data-test":"germlineMutationRate",className:t>0?"":"invisible"},p.createElement("label",null,"Germline Mutation Frequency:"),t>0?t.toFixed(1)+"%":"--",p.createElement(m.default,{placement:"right",overlay:p.createElement("span",null,"Percentage of samples with a germline mutation in "+this.props.hugoGeneSymbol)},p.createElement("i",{className:"glyphicon glyphicon-info-sign",style:{marginLeft:5}})))}},{key:"render",value:function(){return p.createElement("div",null,this.somaticMutationFrequency(),this.germlineMutationFrequency())}}]),t}(p.Component);g=y([d.observer],g),t.default=g},453,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return e>0?"Tendency towards co-occurrence":"Tendency towards mutual exclusivity"}function c(e,t){var n=0,r=0,o=0,a=0;return e.forEach(function(e,i){var s=t[i];e||s?!e&&s?r++:e&&!s?o++:a++:n++}),[n,r,o,a]}function u(e,t,n,r){return(0,O.getCumulativePValue)(e,t,n,r)}function p(e,t,n,r){return e*r===0&&t*n===0?1/0:Math.log(e*r/(t*n))}function f(e,t){var n=null,r=null,o=e.filter(function(e){return t(e.logOddsRatio)}),a=o.filter(function(e){return e.pValue<.05}),i=o.length,s=a.length;return n=0===i?b.createElement("span",null,b.createElement("b",null,"no")," gene pair"):1===i?b.createElement("span",null,b.createElement("b",null,"1")," gene pair"):b.createElement("span",null,b.createElement("b",null,i)," gene pairs"),i>0&&(r=0===s?b.createElement("span",null," (none significant)"):b.createElement("span",null," (",b.createElement("b",null,s)," significant)")),[n,r]}function d(e){var t=f(e,function(e){return e<=0}),n=f(e,function(e){return e>0});return b.createElement("p",null,"The query contains ",t[0]," with mutually exclusive alterations",t[1],", and ",n[0]," with co-occurrent alterations",n[1],".")}function h(e){var t=[],n=P.default.bigCombination(Object.keys(e),2).toArray();return n.forEach(function(n){var r=n[0],o=n[1],a=c(e[r],e[o]),i=u(a[0],a[1],a[2],a[3]),s=p(a[0],a[1],a[2],a[3]),f=l(s);t.push({geneA:r,geneB:o,pValue:i,logOddsRatio:s,association:f})}),t}function m(e,t,n,r){return e.filter(function(e){var o=!1;return t&&(o=o||e.logOddsRatio<=0),n&&(o=o||e.logOddsRatio>0),r&&(o=o&&e.pValue<.05),o})}Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.calculateAssociation=l,t.countOccurences=c,t.calculatePValue=u,t.calculateLogOddsRatio=p,t.getMutuallyExclusiveCounts=f,t.getCountsText=d,t.getData=h,t.getFilteredData=m;var v=n(343),b=o(v),w=n(408),C=o(w),T=n(844),S=r(T),x=n(346),A=n(455),k=n(845),E=r(k),M=n(406),_=n(846),P=r(_),O=n(847),I=n(779),R=r(I),L=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":g(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},j=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.mutualExclusivityFilter=!0,n.coOccurenceFilter=!0,n.significantPairsFilter=!1,n.mutualExclusivityFilterChange=n.mutualExclusivityFilterChange.bind(n),n.coOccurenceFilterChange=n.coOccurenceFilterChange.bind(n),n.significantPairsFilterChange=n.significantPairsFilterChange.bind(n),n}return s(t,e),y(t,[{key:"mutualExclusivityFilterChange",value:function(){this.mutualExclusivityFilter=!this.mutualExclusivityFilter}},{key:"coOccurenceFilterChange",value:function(){this.coOccurenceFilter=!this.coOccurenceFilter}},{key:"significantPairsFilterChange",value:function(){this.significantPairsFilter=!this.significantPairsFilter}},{key:"render",value:function(){return this.props.store.isSampleAlteredMap.isPending?b.createElement(R.default,{isLoading:!0}):this.props.store.isSampleAlteredMap.isComplete?C.size(this.props.store.isSampleAlteredMap.result)>1?b.createElement("div",null,d(this.data),b.createElement("div",{className:E.default.Checkboxes},b.createElement(A.Checkbox,{checked:this.mutualExclusivityFilter,onChange:this.mutualExclusivityFilterChange},"Mutual exclusivity"),b.createElement(A.Checkbox,{checked:this.coOccurenceFilter,onChange:this.coOccurenceFilterChange},"Co-occurrence"),b.createElement(A.Checkbox,{checked:this.significantPairsFilter,onChange:this.significantPairsFilterChange},"Significant only")),b.createElement(S.default,{data:this.filteredData})):b.createElement("div",null,"Mutual exclusivity analysis cannot be provided when only a single gene is selected."):null}},{key:"data",get:function(){return h(this.props.store.isSampleAlteredMap.result)}},{key:"filteredData",get:function(){return m(this.data,this.mutualExclusivityFilter,this.coOccurenceFilter,this.significantPairsFilter)}}]),t}(b.Component);L([M.observable],j.prototype,"mutualExclusivityFilter",void 0),L([M.observable],j.prototype,"coOccurenceFilter",void 0),L([M.observable],j.prototype,"significantPairsFilter",void 0),L([M.computed],j.prototype,"data",null),L([M.computed],j.prototype,"filteredData",null),j=L([x.observer],j),t.default=j},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return e<.001?"<0.001":e.toFixed(3)}function c(e){var t=h.createElement("span",null,l(e));return e<.05&&(t=h.createElement("b",null,t)),t}function u(e){return e<-3?"<-3":e>3?">3":e.toFixed(3)}Object.defineProperty(t,"__esModule",{value:!0}),t.MutualExclusivityTableComponent=t.MutualExclusivityTableColumnType=void 0;var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.formatPValue=l,t.formatPValueWithStyle=c,t.formatLogOddsRatio=u;var d=n(343),h=o(d),m=n(408),y=o(m),g=n(594),v=r(g),b=n(346),w=n(406),C=n(455),T=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},S=t.MutualExclusivityTableColumnType=void 0;!function(e){e[e.GENE_A=0]="GENE_A",e[e.GENE_B=1]="GENE_B",e[e.P_VALUE=2]="P_VALUE",e[e.LOG_ODDS_RATIO=3]="LOG_ODDS_RATIO",e[e.ASSOCIATION=4]="ASSOCIATION"}(S||(t.MutualExclusivityTableColumnType=S={}));var x=t.MutualExclusivityTableComponent=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),t}(v.default),A=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._columns={},n.generateColumns(),n}return s(t,e),p(t,[{key:"generateColumns",value:function(){this._columns={},this._columns[S.GENE_A]={name:"Gene A",render:function(e){return h.createElement("span",null,h.createElement("b",null,e.geneA))},tooltip:h.createElement("span",null,"Gene A"),filter:function(e,t,n){return e.geneA.toUpperCase().includes(n)},sortBy:function(e){return e.geneA},download:function(e){return e.geneA}},this._columns[S.GENE_B]={name:"Gene B",render:function(e){return h.createElement("span",null,h.createElement("b",null,e.geneB))},tooltip:h.createElement("span",null,"Gene B"),filter:function(e,t,n){return e.geneB.toUpperCase().includes(n)},sortBy:function(e){return e.geneB},download:function(e){return e.geneB}},this._columns[S.P_VALUE]={name:"p-Value",render:function(e){return c(e.pValue)},tooltip:h.createElement("span",null,"Derived from Fisher Exact Test"),sortBy:function(e){return e.pValue},download:function(e){return l(e.pValue)}},this._columns[S.LOG_ODDS_RATIO]={name:"Log Odds Ratio",render:function(e){return h.createElement("span",null,u(e.logOddsRatio))},tooltip:h.createElement("span",{style:{display:"inline-block",maxWidth:300}},"Quantifies how strongly the presence or absence of alterations in gene A are associated with the presence or absence of alterations in gene B in the selected tumors."),sortBy:function(e){return e.logOddsRatio},download:function(e){return u(e.logOddsRatio)}},this._columns[S.ASSOCIATION]={name:"Association",render:function(e){return h.createElement("span",null,e.association,"   ",e.pValue<.05?h.createElement(C.Badge,{style:{backgroundColor:"#58ACFA"}},"Significant"):"")},tooltip:h.createElement("span",null,"Log odds ratio > 0   : Tendency towards co-occurrence",h.createElement("br",null),"Log odds ratio <= 0 : Tendency towards mutual exclusivity",h.createElement("br",null),"p-Value < 0.05         : Significant association"),filter:function(e,t,n){return e.association.toUpperCase().includes(n)},sortBy:function(e){return e.association},download:function(e){return e.association}}}},{key:"render",value:function(){var e=y.sortBy(this._columns,function(e){return e.order});return h.createElement(x,{columns:e,data:this.props.data,initialSortColumn:this.props.initialSortColumn})}}]),t}(h.Component);A.defaultProps={columns:[S.GENE_A,S.GENE_B,S.P_VALUE,S.LOG_ODDS_RATIO,S.ASSOCIATION],initialSortColumn:"p-Value"},T([w.observable],A.prototype,"_columns",void 0),A=T([b.observer],A),t.default=A},function(e,t){e.exports={portalWidth:"styles-module__portalWidth__22mhB",Checkboxes:"styles-module__Checkboxes__2oyZv"}},function(e,t,n){var r,o,a;!function(n,i){o=[],r=i,a="function"==typeof r?r.apply(t,o):r,!(void 0!==a&&(e.exports=a))}(this,function(){"use strict";var e="0.5.2",t=function(e,t){for(var n=1;t--;)n*=e--;return n},n=function(e,n){return n>e?0:t(e,n)/t(n,n)},r=function(e){return t(e,e)},o=function(e,t){var n=1;if(t)n=r(t);else{for(t=1;n<e;n*=++t);n>e&&(n/=t--)}for(var o=[0];t;n/=t--)o[t]=Math.floor(e/n),e%=n;return o},a=function(e,t){Object.keys(t).forEach(function(n){Object.defineProperty(e,n,{value:t[n],configurable:"next"==n})})},i=function(e,t){Object.defineProperty(e,t,{writable:!0})},s=function(e){var t,n=[];for(this.init();t=this.next();)n.push(e?e(t):t);return this.init(),n},l={toArray:s,map:s,forEach:function(e){var t;for(this.init();t=this.next();)e(t);this.init()},filter:function(e){var t,n=[];for(this.init();t=this.next();)e(t)&&n.push(t);return this.init(),n},lazyMap:function(e){return this._lazyMap=e,this},lazyFilter:function(e){if(Object.defineProperty(this,"next",{writable:!0}),"function"!=typeof e)this.next=this._next;else{"function"!=typeof this._next&&(this._next=this.next);var t=this._next.bind(this);this.next=function(){for(var n;n=t();)if(e(n))return n;return n}.bind(this)}return Object.defineProperty(this,"next",{writable:!1}),this}},c=function(e,t){var n=1<<e.length,r=function(){return n},o=Object.create(e.slice(),{length:{get:r}});return i(o,"index"),a(o,{valueOf:r,init:function(){o.index=0},nth:function(e){if(!(e>=n)){for(var t=0,r=[];e;e>>>=1,t++)1&e&&r.push(this[t]);return"function"==typeof o._lazyMap?o._lazyMap(r):r}},next:function(){return this.nth(this.index++)}}),a(o,l),o.init(),"function"==typeof t?o.map(t):o},u=function(e){var t=e&-e,n=e+t,r=n&-n,o=(r/t>>1)-1;return n|o},p=function(e,t,r){if(t||(t=e.length),t<1)throw new RangeError;if(t>e.length)throw new RangeError;var o=(1<<t)-1,s=n(e.length,t),c=1<<e.length,p=function(){return s},f=Object.create(e.slice(),{length:{get:p}});return i(f,"index"),a(f,{valueOf:p,init:function(){this.index=o},next:function(){if(!(this.index>=c)){for(var e=0,t=this.index,n=[];t;t>>>=1,e++)1&t&&(n[n.length]=this[e]);return this.index=u(this.index),"function"==typeof f._lazyMap?f._lazyMap(n):n}}}),a(f,l),f.init(),"function"==typeof r?f.map(r):f},f=function(e,t){var n=e,r=t,o=0;for(o=n.length-1;o>=0&&1==n[o];o--)r--;if(0==r){n[n.length]=1;for(var a=n.length-2;a>=0;a--)n[a]=a<t-1?1:0}else{for(var i=-1,s=-1,o=0;o<n.length;o++)if(0==n[o]&&i!=-1&&(s=o),1==n[o]&&(i=o),s!=-1&&i!=-1){n[s]=1,n[i]=0;break}r=t;for(var o=n.length-1;o>=i;o--)1==n[o]&&r--;for(var o=0;o<i;o++)n[o]=o<r?1:0}return n},d=function(e){for(var t=[],n=0;n<e;n++)t[n]=1;return t[0]=1,t},h=function(e,t,r){if(t||(t=e.length),t<1)throw new RangeError;if(t>e.length)throw new RangeError;var o=d(t),s=n(e.length,t),c=e.length,u=function(){return s},p=Object.create(e.slice(),{length:{get:u}});return i(p,"index"),a(p,{valueOf:u,init:function(){this.index=o.concat()},next:function(){if(!(this.index.length>c)){for(var e=0,n=this.index,r=[],o=0;o<n.length;o++,e++)n[o]&&(r[r.length]=this[e]);return f(this.index,t),"function"==typeof p._lazyMap?p._lazyMap(r):r}}}),a(p,l),p.init(),"function"==typeof r?p.map(r):p},m=function(e){var t=e.slice(),n=r(t.length);return t.index=0,t.next=function(){if(!(this.index>=n)){for(var e=this.slice(),r=o(this.index,this.length),a=[],i=this.length-1;i>=0;--i)a.push(e.splice(r[i],1)[0]);return this.index++,"function"==typeof t._lazyMap?t._lazyMap(a):a}},t},y=function(e,n,r){if(n||(n=e.length),n<1)throw new RangeError;if(n>e.length)throw new RangeError;var o=t(e.length,n),s=function(){return o},c=Object.create(e.slice(),{length:{get:s}});return i(c,"cmb"),i(c,"per"),a(c,{valueOf:function(){return o},init:function(){this.cmb=p(e,n),this.per=m(this.cmb.next())},next:function(){var e=this.per.next();if(!e){var t=this.cmb.next();if(!t)return;return this.per=m(t),this.next()}return"function"==typeof c._lazyMap?c._lazyMap(e):e}}),a(c,l),c.init(),"function"==typeof r?c.map(r):c},g=function(e){for(var n=0,r=1;r<=e;r++){var o=t(e,r);n+=o}return n},v=function(e,t){var n=g(e.length),r=function(){return n},o=Object.create(e.slice(),{length:{get:r}});return i(o,"cmb"),i(o,"per"),i(o,"nelem"),a(o,{valueOf:function(){return n},init:function(){this.nelem=1,this.cmb=p(e,this.nelem),this.per=m(this.cmb.next());
},next:function(){var t=this.per.next();if(!t){var n=this.cmb.next();if(!n){if(this.nelem++,this.nelem>e.length)return;if(this.cmb=p(e,this.nelem),n=this.cmb.next(),!n)return}return this.per=m(n),this.next()}return"function"==typeof o._lazyMap?o._lazyMap(t):t}}),a(o,l),o.init(),"function"==typeof t?o.map(t):o},b=Array.prototype.slice,w=function(){if(!arguments.length)throw new RangeError;var e=b.call(arguments),t=e.reduce(function(e,t){return e*t.length},1),n=function(){return t},r=e.length,o=Object.create(e,{length:{get:n}});if(!t)throw new RangeError;return i(o,"index"),a(o,{valueOf:n,dim:r,init:function(){this.index=0},get:function(){if(arguments.length===this.length){for(var e=[],t=0;t<r;t++){var n=arguments[t];if(n>=this[t].length)return;e.push(this[t][n])}return"function"==typeof o._lazyMap?o._lazyMap(e):e}},nth:function(e){for(var t=[],n=0;n<r;n++){var a=this[n].length,i=e%a;t.push(this[n][i]),e-=i,e/=a}return"function"==typeof o._lazyMap?o._lazyMap(t):t},next:function(){if(!(this.index>=t)){var e=this.nth(this.index);return this.index++,e}}}),a(o,l),o.init(),o},C=function(e,t,n){if(t||(t=e.length),t<1)throw new RangeError;var r=e.length,o=Math.pow(r,t),s=function(){return o},c=Object.create(e.slice(),{length:{get:s}});return i(c,"index"),a(c,{valueOf:s,init:function(){c.index=0},nth:function(n){if(!(n>=o)){for(var a=[],i=0;i<t;i++){var s=n%r;a.push(e[s]),n-=s,n/=r}return"function"==typeof c._lazyMap?c._lazyMap(a):a}},next:function(){return this.nth(this.index++)}}),a(c,l),c.init(),"function"==typeof n?c.map(n):c},T=Object.create(null);return a(T,{C:n,P:t,factorial:r,factoradic:o,cartesianProduct:w,combination:p,bigCombination:h,permutation:y,permutationCombination:v,power:c,baseN:C,VERSION:e}),T})},function(e,t){"use strict";function n(e,t,n,r,o){var a=e+t+n+r,i=o[e+t]+o[n+r]+o[e+n]+o[t+r]-(o[e]+o[t]+o[n]+o[r]+o[a]);return Math.exp(i)}function r(e,t,r,o){var a=void 0,i=void 0,s=e+t+r+o,l=0,c=new Array(s+1);c[0]=0;for(var u=1;u<=s;u++)c[u]=c[u-1]+Math.log(u);if(l+=n(e,t,r,o,c),e*o>=t*r)for(a=r<t?r:t,i=0;i<a;i++)l+=n(++e,--t,--r,++o,c);if(e*o<t*r)for(a=e<o?e:o,i=0;i<a;i++)l+=n(--e,++t,++r,--o,c);return l}Object.defineProperty(t,"__esModule",{value:!0}),t.getCumulativePValue=r}]));
//# sourceMappingURL=2.9c30f7f63c41cb344327.chunk.js.map